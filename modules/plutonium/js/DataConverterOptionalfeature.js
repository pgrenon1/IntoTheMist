const _0x1067=['getCleanEntityName','permission','type','pMutActorUpdateOptionalFeature','MODULE_NAME','getNameWithSourcePart','entries','name','Invocation:\x20','<p><i>Prerequisite:\x20','_pGetOptionalFeatureItem_other','isAddPermission','utils','_pGetAdditionalData','_getSrdAliases','foundryOptionalfeature','isImportDescription','render','_pGetOptionalFeatureItem_fromSrd','push','data','_foundryData','source','srd','_getDescriptionValue','pGetOptionalFeatureItem','importOptionalFeature','pMutActorUpdate','pGetOptionalFeatureAdditionalData','feat','modules/','requirements','isCancelled','homebrew','get','_pIsInSrd','</i></p>','_pGetSideData','permissions','find','getSrdCompendiumEntity','getPrerequisiteText','\x0a\x09\x09\x09','_pGetImagePath','optionalfeature','prerequisite','getSourceWithPagePart'];(function(_0x2757a2,_0x106758){const _0x2d9a35=function(_0x4aa057){while(--_0x4aa057){_0x2757a2['push'](_0x2757a2['shift']());}};_0x2d9a35(++_0x106758);}(_0x1067,0x133));const _0x2d9a=function(_0x2757a2,_0x106758){_0x2757a2=_0x2757a2-0x0;let _0x2d9a35=_0x1067[_0x2757a2];return _0x2d9a35;};const _0x9d4ee4=_0x2d9a;import{UtilApplications}from'./UtilApplications.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';import{Vetools}from'./Vetools.js';class DataConverterOptionalfeature{static async[_0x9d4ee4('0x0')](_0x4aa057,_0x12e14c){const _0xfc493d=_0x9d4ee4;_0x12e14c=_0x12e14c||{};let _0x31a094;return await this['_pIsInSrd'](_0x4aa057,_0x12e14c)?_0x31a094=this[_0xfc493d('0x28')](_0x4aa057,_0x12e14c):_0x31a094=this[_0xfc493d('0x20')](_0x4aa057,_0x12e14c),_0x31a094;}static async[_0x9d4ee4('0xa')](_0x5f006f){const _0x4dab=_0x9d4ee4,_0x499d87=await DataConverter[_0x4dab('0xf')]('optionalfeature',_0x5f006f,{'fnGetAliases':this['_getSrdAliases']});return!!_0x499d87;}static async[_0x9d4ee4('0x28')](_0x54170c,_0x1e8b8a){const _0x46a898=_0x9d4ee4,_0x36c19b=await DataConverter[_0x46a898('0xf')](_0x46a898('0x13'),_0x54170c,{'fnGetAliases':this['_getSrdAliases']}),_0x407613=this[_0x46a898('0x2e')](_0x54170c),_0x13c660=await this[_0x46a898('0x23')](_0x54170c),_0x1e9aa1={'name':UtilApplications[_0x46a898('0x16')](DataConverter[_0x46a898('0x1b')](_0x54170c)),'type':_0x36c19b[_0x46a898('0x18')],'data':{..._0x36c19b[_0x46a898('0x2a')],'source':DataConverter[_0x46a898('0x15')](_0x54170c),'description':{'value':_0x407613,'chat':'','unidentified':''},..._0x13c660},'permission':{'default':0x0},'img':await this[_0x46a898('0x12')](_0x54170c),'flags':{},'effects':[]};if(_0x1e8b8a[_0x46a898('0x21')])_0x1e9aa1[_0x46a898('0x17')]={'default':Config[_0x46a898('0x9')](_0x46a898('0x1'),_0x46a898('0xd'))};return _0x1e9aa1;}static async[_0x9d4ee4('0x20')](_0x3089e4,_0x3f5e10){const _0x47397d=_0x9d4ee4,_0x3695e7=this[_0x47397d('0x2e')](_0x3089e4),_0x173e84=_0x3089e4[_0x47397d('0x2b')]||{},_0x2e2873=await this['_pGetAdditionalData'](_0x3089e4),_0x55d950={'name':UtilApplications['getCleanEntityName'](DataConverter[_0x47397d('0x1b')](_0x3089e4)),'data':{'source':DataConverter[_0x47397d('0x15')](_0x3089e4),'description':{'value':_0x3695e7,'chat':'','unidentified':''},'activation':{'type':'','cost':0x0,'condition':''},'duration':{'value':0x0,'units':''},'target':{'value':0x0,'units':'','type':''},'range':{'value':0x0,'long':0x0,'units':null},'uses':{'value':0x0,'max':0x0,'per':''},'ability':'','actionType':'','attackBonus':0x0,'chatFlavor':'','critical':null,'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null},'requirements':_0x173e84[_0x47397d('0x6')]||'','recharge':{'value':0x0,'charged':!![]},..._0x2e2873},'permission':{'default':0x0},'type':_0x47397d('0x4'),'img':await this[_0x47397d('0x12')](_0x3089e4),'flags':{},'effects':[]};if(_0x3f5e10[_0x47397d('0x21')])_0x55d950[_0x47397d('0x17')]={'default':Config[_0x47397d('0x9')](_0x47397d('0x1'),_0x47397d('0xd'))};return _0x55d950;}static[_0x9d4ee4('0x2e')](_0x4a657d){const _0x3236c1=_0x9d4ee4;if(!Config[_0x3236c1('0x9')](_0x3236c1('0x1'),_0x3236c1('0x26')))return'';const _0x2803ff=Renderer[_0x3236c1('0x22')][_0x3236c1('0x10')](_0x4a657d[_0x3236c1('0x14')]);return'<div>\x0a\x09\x09\x09'+(_0x2803ff?_0x3236c1('0x1f')+_0x2803ff+_0x3236c1('0xb'):'')+_0x3236c1('0x11')+Renderer[_0x3236c1('0x9')]()['setFirstSection'](!![])[_0x3236c1('0x27')]({'entries':_0x4a657d[_0x3236c1('0x1c')]},0x2)+'\x0a\x09\x09</div>';}static async[_0x9d4ee4('0x19')](_0x263793,_0x39105d,_0x56a3aa,_0x25dc86){const _0x1b7f48=_0x9d4ee4,_0x55240d=await this[_0x1b7f48('0xc')](_0x56a3aa),_0x10b455={'sideData':_0x55240d,'isCancelled':![]};await DataConverter[_0x1b7f48('0x2')](_0x263793,_0x39105d,_0x56a3aa,_0x10b455);if(_0x10b455['isCancelled'])_0x25dc86[_0x1b7f48('0x7')]=!![];}static async[_0x9d4ee4('0x12')](_0x526260){const _0x1fdf97=_0x9d4ee4,_0x335f6b=await DataConverter['pGetCompendiumImage'](_0x1fdf97('0x13'),_0x526260,{'fnGetAliases':this[_0x1fdf97('0x24')]});if(_0x335f6b)return _0x335f6b;return _0x1fdf97('0x5')+SharedConsts[_0x1fdf97('0x1a')]+'/media/icon/skills.svg';}static async[_0x9d4ee4('0xc')](_0x4f28af){const _0x1763bc=_0x9d4ee4;let _0x2691fe=(MiscUtil['get'](BrewUtil,_0x1763bc('0x8'),_0x1763bc('0x25'))||[])[_0x1763bc('0xe')](_0x162d15=>_0x162d15[_0x1763bc('0x1d')]===_0x4f28af[_0x1763bc('0x1d')]&&_0x162d15[_0x1763bc('0x2c')]===_0x4f28af[_0x1763bc('0x2c')]);if(!_0x2691fe){const _0x5f0cee=await Vetools[_0x1763bc('0x3')]();_0x2691fe=_0x5f0cee[_0x1763bc('0x13')]['find'](_0x1c415c=>_0x1c415c['name']===_0x4f28af[_0x1763bc('0x1d')]&&_0x1c415c[_0x1763bc('0x2c')]===_0x4f28af[_0x1763bc('0x2c')]);}return _0x2691fe;}static async[_0x9d4ee4('0x23')](_0x532052){const _0x2e0f12=_0x9d4ee4,_0x4f8373=await this['_pGetSideData'](_0x532052);if(!_0x4f8373)return null;return _0x4f8373[_0x2e0f12('0x2a')];}static[_0x9d4ee4('0x24')](_0x34dc2a){const _0xb52262=_0x9d4ee4;if(!_0x34dc2a[_0xb52262('0x1d')]||!_0x34dc2a[_0xb52262('0x2d')])return[];const _0x4bce12=[];if(_0x34dc2a['featureType']==='EI')_0x4bce12[_0xb52262('0x29')](_0xb52262('0x1e')+_0x34dc2a[_0xb52262('0x1d')]);return _0x4bce12;}}export{DataConverterOptionalfeature};