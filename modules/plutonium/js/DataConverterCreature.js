const _0x1f3c=['\x20Attack','getParsedActionEntryData','getAttackRange','/media/icon/eyestalk.svg','/media/icon/dragon-breath.svg','_foundryData','modules/','skill','spellcasting','proficient','trim','forEach',')\x20skill\x20\x22','/media/icon/mailed-fist.svg','test','spells','override','ABIL_ABVS','slots','foundryData','lower','/media/icon/mighty-force.svg','value','replace','/media/icon/mountain-cave.svg','getAbilityModNumber','getDamageTuples','assumedPb','monsterFeature','startsWith','getAttackActionType','pact','pGetParsedAction','MODULE_NAME','isAttack','\x22\x20(','_getFeatureImage','source','SKILL_ABV_TO_FULL','_foundryFlags','string','push','pGetCompendiumImage','abs','Creature\x20\x22','\x22\x20did\x20not\x20match\x20an\x20expected\x20modifier/proficiency\x20amount!\x20A\x20fallback\x20value\x20(\x22','entries','pGetActorItemCompendiumImage','length','/media/icon/spell-book.svg','pGetIconImage','\x22\x20=\x20\x22','_getFeatureSrdAliases','expert','name','_pGetParsedAction_getImg','intToBonus','max','breath\x20weapons','exec','filter','pGetTraitReactionLegendaryImage','pGetLairActionImage','isLegendary','\x20(Legendary)','bind','spellLevel','spell','\x22)\x20will\x20be\x20used.','\x22\x20bonus\x20\x22','some','skillToAbilityAbv','damageTuples','warn','str','spell0'];(function(_0x37aa50,_0x1f3c8e){const _0x22e052=function(_0x20e78c){while(--_0x20e78c){_0x37aa50['push'](_0x37aa50['shift']());}};_0x22e052(++_0x1f3c8e);}(_0x1f3c,0x91));const _0x22e0=function(_0x37aa50,_0x1f3c8e){_0x37aa50=_0x37aa50-0x0;let _0x22e052=_0x1f3c[_0x37aa50];return _0x22e052;};const _0x55fc66=_0x22e0;import{DataConverter}from'./DataConverter.js';import{UtilActors}from'./UtilActors.js';import{LGT}from'./Util.js';import{SharedConsts}from'../shared/SharedConsts.js';class DataConverterCreature{static async[_0x55fc66('0x27')](_0x20e78c,_0x49fe47,_0x447431){const _0x4d6fe1=_0x55fc66,{damageTuples:_0x4a577c,offensiveAbility:_0x527bdf,isAttack:_0x2680d1,rangeShort:_0xf06515,rangeLong:_0x33c6fa,actionType:_0x5705da,isProficient:_0x34f384,attackBonus:_0x206db0}=this[_0x4d6fe1('0x8')](_0x20e78c,_0x49fe47,_0x447431),_0x3221b0=await this[_0x4d6fe1('0x3e')](_0x20e78c,_0x49fe47,_0x447431,{'isAttack':_0x2680d1});return{'damageTuples':_0x4a577c,'offensiveAbility':_0x527bdf,'isAttack':_0x2680d1,'rangeShort':_0xf06515,'rangeLong':_0x33c6fa,'actionType':_0x5705da,'isProficient':_0x34f384,'attackBonus':_0x206db0,'_foundryData':_0x49fe47[_0x4d6fe1('0xc')],'foundryData':_0x49fe47[_0x4d6fe1('0x1a')],'_foundryFlags':_0x49fe47[_0x4d6fe1('0x2e')],'foundryFlags':_0x49fe47['foundryFlags'],'img':_0x3221b0};}static[_0x55fc66('0x8')](_0x210fe3,_0x2d063a,_0x544eb8){const _0x666c26=_0x55fc66;if(!(_0x2d063a[_0x666c26('0x35')]&&_0x2d063a[_0x666c26('0x35')][0x0]&&typeof _0x2d063a[_0x666c26('0x35')][0x0]===_0x666c26('0x2f')))return;let _0x444235=!![];const _0x538e26=[];let _0x34193a=_0x666c26('0x5'),_0x5dd557=0x0;const _0x25fe46=_0x2d063a[_0x666c26('0x35')][0x0];_0x538e26['push'](...DataConverter[_0x666c26('0x21')](_0x25fe46)[_0x666c26('0x3')]);const {rangeShort:_0x1a069c,rangeLong:_0x512571}=DataConverter[_0x666c26('0x9')](_0x25fe46),_0x30debb=/{@hit ([^}]+)}/gi['exec'](_0x25fe46);if(_0x30debb){const _0x1e156d=Number(_0x30debb[0x1]);if(!isNaN(_0x1e156d)){const _0x1ad0ba=/\+(\d)/[_0x666c26('0x42')](_0x2d063a[_0x666c26('0x3d')]||''),_0xaa53e1=_0x1ad0ba?Number(_0x1ad0ba[0x0]):0x0,_0xe406f3=_0x1e156d-_0xaa53e1-_0x544eb8[_0x666c26('0x22')],_0x5f5549=_0x538e26[_0x666c26('0x37')]?_0x538e26[0x0][0x0]||'':'',_0x1766b3=/\d+\s*([-+]\s*\d+)$/[_0x666c26('0x42')](_0x5f5549[_0x666c26('0x11')]());let _0x504864;if(_0x1766b3)_0x504864=Number(_0x1766b3[0x1][_0x666c26('0x1e')](/\s+/g,''))-_0xaa53e1;let _0x189fcd=_0xe406f3;if(_0x504864!=null&&_0xe406f3!==_0x504864){_0x189fcd=_0x504864;if(_0xe406f3<_0x504864)_0x444235=![];else{const _0x5c0505=_0xe406f3-_0x504864;_0x544eb8['pb']===0x0?_0x544eb8[_0x666c26('0x22')]=_0x544eb8[_0x666c26('0x22')]||_0x5c0505:_0x5dd557=_0x5c0505;}}let _0x59b716=![];for(const _0xb5fb60 of Parser[_0x666c26('0x18')]){const _0x5eadde=Parser[_0x666c26('0x20')](_0x210fe3[_0xb5fb60]);if(_0x5eadde===_0x189fcd){_0x34193a=_0xb5fb60,_0x59b716=!![];break;}}if(!_0x59b716&&_0x544eb8[_0x666c26('0x22')]){const _0x2cf239=_0x544eb8[_0x666c26('0x22')]+Parser[_0x666c26('0x20')](_0x210fe3[_0x34193a])+_0x5dd557;if(_0x2cf239!==_0x1e156d){const _0x535290=_0x1e156d-_0x2cf239;_0x5dd557+=_0x535290;}}}}const {isAttack:_0x2632a6,actionType:_0x1e0c9d}=DataConverter[_0x666c26('0x25')](_0x25fe46);return{'damageTuples':_0x538e26,'offensiveAbility':_0x34193a,'isAttack':_0x2632a6,'rangeShort':_0x1a069c,'rangeLong':_0x512571,'actionType':_0x1e0c9d,'isProficient':_0x444235,'attackBonus':_0x5dd557};}static async[_0x55fc66('0x3e')](_0x1ec153,_0x432e97,_0x5d6639,_0x2bda3b){const _0x415e59=_0x55fc66;_0x2bda3b=_0x2bda3b||{};const _0x168e2d=await this[_0x415e59('0x2b')](_0x1ec153,_0x432e97,_0x5d6639,_0x2bda3b);if(_0x168e2d)return _0x168e2d;if(_0x432e97[_0x415e59('0x3d')]){if(_0x432e97[_0x415e59('0x3d')]['toLowerCase']()[_0x415e59('0x24')](_0x415e59('0x41')))return _0x415e59('0xd')+SharedConsts[_0x415e59('0x28')]+_0x415e59('0xb');if(/^eye ray/i[_0x415e59('0x15')](_0x432e97['name']))return _0x415e59('0xd')+SharedConsts[_0x415e59('0x28')]+_0x415e59('0xa');}return _0x415e59('0xd')+SharedConsts[_0x415e59('0x28')]+_0x415e59('0x14');}static async[_0x55fc66('0x2b')](_0x444ed0,_0x4914e9,_0x4def0b,_0x6b24bf){const _0x1a5fd0=_0x55fc66;_0x6b24bf=_0x6b24bf||{};const _0x122d0c=await DataConverter[_0x1a5fd0('0x39')](_0x1a5fd0('0x23'),_0x4914e9);if(_0x122d0c)return _0x122d0c;const _0x13d8b2=await DataConverter[_0x1a5fd0('0x31')](_0x1a5fd0('0x23'),_0x4914e9,{'fnGetAliases':this['_getFeatureSrdAliases'][_0x1a5fd0('0x48')](this,{'isAttack':_0x6b24bf[_0x1a5fd0('0x29')],'isLegendary':_0x6b24bf[_0x1a5fd0('0x46')]}),'isIgnoreSrd':!![]});if(_0x13d8b2)return _0x13d8b2;const _0x321c49=await DataConverter[_0x1a5fd0('0x36')]('monsterFeature',_0x4914e9,{'fnGetAliases':this[_0x1a5fd0('0x3b')]['bind'](this,{'isAttack':_0x6b24bf[_0x1a5fd0('0x29')],'isLegendary':_0x6b24bf[_0x1a5fd0('0x46')]})});if(_0x321c49)return _0x321c49;return null;}static async[_0x55fc66('0x44')](_0x323def,_0x3f4224,_0x5f0842,_0x48f625){const _0x40753c=_0x55fc66;_0x48f625=_0x48f625||{};const _0x4aec8f=await this['_getFeatureImage'](_0x323def,_0x3f4224,_0x5f0842,_0x48f625);if(_0x4aec8f)return _0x4aec8f;return _0x40753c('0xd')+SharedConsts[_0x40753c('0x28')]+_0x40753c('0x1c');}static async[_0x55fc66('0x45')](_0x55cdc8,_0x3b326a,_0x370249){const _0x3f9ad0=_0x55fc66,_0x3b484b=await this[_0x3f9ad0('0x2b')](_0x55cdc8,_0x3b326a,_0x370249);if(_0x3b484b)return _0x3b484b;return'modules/'+SharedConsts['MODULE_NAME']+_0x3f9ad0('0x1f');}static async['pGetSpellcastingImage'](_0x5a417b,_0x19e4ec,_0x19623e){const _0x1852f6=_0x55fc66,_0x5a591c=await this['_getFeatureImage'](_0x5a417b,_0x19e4ec,_0x19623e);if(_0x5a591c)return _0x5a591c;return'modules/'+SharedConsts[_0x1852f6('0x28')]+_0x1852f6('0x38');}static['_getFeatureSrdAliases'](_0x331c37,_0x4ad87d){const _0x50dc97=_0x55fc66;if(!_0x4ad87d[_0x50dc97('0x3d')])return[];const _0x28665a=[],_0xcbfef3=_0x4ad87d[_0x50dc97('0x3d')][_0x50dc97('0x1e')](/\([^)]+\)/g,'')[_0x50dc97('0x1e')](/\s+/g,'\x20')[_0x50dc97('0x11')]();if(_0xcbfef3!==_0x4ad87d[_0x50dc97('0x3d')])_0x28665a[_0x50dc97('0x30')](_0xcbfef3);const _0x45799f=_0x4ad87d[_0x50dc97('0x3d')][_0x50dc97('0x1e')](/{@[^}]+}/g,'')[_0x50dc97('0x1e')](/\s+/g,'\x20')[_0x50dc97('0x11')]();if(_0x45799f!==_0x4ad87d['name'])_0x28665a['push'](_0x45799f);if(_0x331c37[_0x50dc97('0x46')])_0x28665a['push'](_0x4ad87d['name']+_0x50dc97('0x47'));if(_0x331c37['isAttack'])_0x28665a[_0x50dc97('0x30')](_0x4ad87d[_0x50dc97('0x3d')]+_0x50dc97('0x7'));return _0x28665a;}static['getDataSkills'](_0x21e8c7,_0x5588a8,_0xa7d4bc){const _0x3b9ceb=_0x55fc66,_0x51cb72={};return Object[_0x3b9ceb('0x35')](UtilActors[_0x3b9ceb('0x2d')])[_0x3b9ceb('0x12')](([_0x2edf59,_0x4a198a])=>{const _0xbabf4c=_0x3b9ceb,_0x601b35=Parser[_0xbabf4c('0x2')](_0x4a198a);let _0x21e6a2=0x0,_0x2f92a7=Parser[_0xbabf4c('0x20')](_0x21e8c7[_0x601b35]),_0x377456=0x0;if(_0x21e8c7[_0xbabf4c('0xe')]&&_0x21e8c7[_0xbabf4c('0xe')][_0x4a198a]){const _0x313b84=Number(_0x21e8c7['skill'][_0x4a198a]);if(!isNaN(_0x313b84)){const _0x462d5a=Parser[_0xbabf4c('0x20')](_0x21e8c7[_0x601b35]),_0x3875cc=_0x462d5a+_0xa7d4bc[_0xbabf4c('0x22')],_0x46b32e=_0x462d5a+0x2*_0xa7d4bc[_0xbabf4c('0x22')];if(_0x3875cc===_0x313b84)_0x21e6a2=0x1;else{if(_0x46b32e===_0x313b84)_0x21e6a2=0x2;else{const _0xdf5f62=Math[_0xbabf4c('0x32')](_0x313b84-_0x3875cc),_0x34cc3d=Math[_0xbabf4c('0x32')](_0x313b84-_0x46b32e);if(_0xdf5f62<_0x34cc3d)_0x21e6a2=0x1;else _0x21e6a2=0x2;const _0x4cb226=_0x21e6a2===0x2?_0x46b32e:_0x3875cc;console[_0xbabf4c('0x4')](...LGT,_0xbabf4c('0x33')+_0x21e8c7[_0xbabf4c('0x3d')]+_0xbabf4c('0x2a')+_0x21e8c7[_0xbabf4c('0x2c')]+_0xbabf4c('0x13')+_0x4a198a+_0xbabf4c('0x0')+_0x21e8c7[_0xbabf4c('0xe')][_0x4a198a]+_0xbabf4c('0x34')+(_0x21e6a2===0x2?_0xbabf4c('0x3c'):_0xbabf4c('0x10'))+_0xbabf4c('0x3a')+UiUtil[_0xbabf4c('0x3f')](_0x4cb226)+_0xbabf4c('0x4b'));}}}}_0x51cb72[_0x2edf59]={'value':_0x21e6a2,'ability':_0x601b35,'mod':_0x2f92a7,'bonus':_0x377456,'passive':0xa+_0x2f92a7};}),_0x51cb72;}static['getDataSpells'](_0x2247a,_0x5e3ba2,_0x46b4df){const _0x1beae8=_0x55fc66,_0x2653db={};_0x2653db[_0x1beae8('0x6')]={'value':0x0,'max':0x0};if(_0x2247a['spellcasting']&&_0x2247a[_0x1beae8('0xf')][_0x1beae8('0x1')](_0x21645e=>_0x21645e[_0x1beae8('0x16')]))for(let _0x14964d=0x1;_0x14964d<0xa;++_0x14964d){const _0x57f7ab=_0x1beae8('0x4a')+_0x14964d;_0x2653db[_0x57f7ab]=_0x2653db[_0x57f7ab]||{'value':0x0,'max':0x0},_0x2247a[_0x1beae8('0xf')][_0x1beae8('0x43')](_0x168c45=>_0x168c45['spells']&&_0x168c45['spells'][_0x14964d]&&_0x168c45[_0x1beae8('0x16')][_0x14964d]['slots'])[_0x1beae8('0x12')](_0x1491fa=>{const _0x2fd4d8=_0x1beae8,_0x42611a=_0x1491fa['spells'][_0x14964d];if(_0x42611a[_0x2fd4d8('0x1b')]){_0x2653db[_0x2fd4d8('0x26')]=_0x2653db[_0x2fd4d8('0x26')]||{'value':0x0,'max':0x0,'level':_0x46b4df[_0x2fd4d8('0x49')],'override':0x0},_0x2653db[_0x2fd4d8('0x26')][_0x2fd4d8('0x1d')]+=_0x42611a[_0x2fd4d8('0x19')],_0x2653db[_0x2fd4d8('0x26')][_0x2fd4d8('0x40')]+=_0x42611a['slots'],_0x2653db['pact'][_0x2fd4d8('0x17')]+=_0x42611a[_0x2fd4d8('0x19')];return;}_0x2653db[_0x57f7ab][_0x2fd4d8('0x1d')]+=_0x42611a['slots'],_0x2653db[_0x57f7ab]['max']+=_0x42611a[_0x2fd4d8('0x19')];});}else for(let _0x3257ae=0x1;_0x3257ae<0xa;++_0x3257ae){_0x2653db[_0x1beae8('0x4a')+_0x3257ae]={'value':0x0,'max':0x0};}return _0x2653db;}}export{DataConverterCreature};