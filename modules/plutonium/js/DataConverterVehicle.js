const _0x50ff=['getInfWarActionItem','getAttackActionType','flat','splice','_getSpeedMetas','_getLocomotionMetas','grants\x20total\x20cover','</div>','trim','name','grants\x20half\x20cover','exec','/media/icon/ship-wheel.svg','entries','crew','value','getShipEquipmentItem','MODULE_NAME','replace','getParsedWeaponEntryData','getShipOtherItem','vehicle','/media/icon/pirate-cannon.svg','type','other','locomotion','copy','getSourceWithPagePart','getRenderedString_ship_getSpeedEntries','modules/','unshift','spell','count','map','item','speed','feat','forEach','condition','toLowerCase','getAttackRange','conditions','data','items','Actions','test','filter','action','movement','damageTuples','split','get','includes','getEntryDescription','siege','render','string','description','Unknown\x20cover\x20type\x20\x22\x22','getRenderedString_ship_getLocomotionEntries','setFirstSection','hpNote','length'];(function(_0x469edf,_0x50ff01){const _0x1fb6f2=function(_0x1aef09){while(--_0x1aef09){_0x469edf['push'](_0x469edf['shift']());}};_0x1fb6f2(++_0x50ff01);}(_0x50ff,0x13d));const _0x1fb6=function(_0x469edf,_0x50ff01){_0x469edf=_0x469edf-0x0;let _0x1fb6f2=_0x50ff[_0x469edf];return _0x1fb6f2;};const _0x382a08=_0x1fb6;import{DataConverter}from'./DataConverter.js';import{SharedConsts}from'../shared/SharedConsts.js';class DataConverterVehicle{static[_0x382a08('0xe')](_0x1aef09,_0x2c9131,_0x3d131c){const _0x4403cc=_0x382a08;let _0x5492e9=DataConverter[_0x4403cc('0x33')](_0x2c9131);if(_0x3d131c===_0x4403cc('0x2e')){if(_0x2c9131[_0x4403cc('0x21')]){const _0x23629f=_0x2c9131[_0x4403cc('0x21')][_0x4403cc('0x1f')](_0x122260=>Renderer[_0x4403cc('0x13')][_0x4403cc('0x1a')](_0x122260))[_0x4403cc('0x1f')](_0x2bc6d3=>'<div>'+Renderer[_0x4403cc('0x31')]()[_0x4403cc('0x3a')](!![])[_0x4403cc('0x35')](_0x2bc6d3)+_0x4403cc('0x5'));_0x5492e9+=_0x23629f['join']('');}if(_0x2c9131['locomotion']){const _0x7db578=_0x2c9131['locomotion']['map'](_0x3c2779=>Renderer['vehicle'][_0x4403cc('0x39')](_0x3c2779))[_0x4403cc('0x1f')](_0x1e8a53=>'<div>'+Renderer[_0x4403cc('0x31')]()[_0x4403cc('0x3a')](!![])['render'](_0x1e8a53)+_0x4403cc('0x5'));_0x5492e9+=_0x7db578['join']('');}}const _0x4a7253={'name':_0x2c9131[_0x4403cc('0x7')],'type':'equipment','data':{'description':{'value':_0x5492e9,'chat':'','unidentified':''},'source':DataConverter[_0x4403cc('0x19')](_0x1aef09),'quantity':0x1,'weight':0x0,'price':0x0,'attuned':![],'equipped':!![],'rarity':'','identified':!![],'activation':{'type':'','cost':0x0,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'width':null,'units':'','type':''},'range':{'value':null,'long':null,'units':''},'uses':{'value':0x0,'max':0x0,'per':null},'consume':{'type':'','target':null,'amount':null},'ability':null,'actionType':'','attackBonus':0x0,'chatFlavor':'','critical':null,'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null,'scaling':_0x4403cc('0x1d')},'armor':{'value':_0x2c9131['ac']||0x0,'type':'vehicle','dex':null},'hp':{'value':_0x2c9131['hp']||0x0,'max':_0x2c9131['hp']||0x0,'dt':_0x2c9131['dt'],'conditions':_0x2c9131[_0x4403cc('0x3b')]||''},'speed':{'value':null,'conditions':''},'strength':0x0,'stealth':![],'proficient':!![]},'flags':{},'img':_0x4403cc('0x1b')+SharedConsts['MODULE_NAME']+_0x4403cc('0xa')};if(_0x3d131c===_0x4403cc('0x2e')){if(_0x2c9131[_0x4403cc('0x21')]){const _0x3f33b1=this[_0x4403cc('0x2')](_0x2c9131);if(_0x3f33b1[_0x4403cc('0x3c')]){const _0x180964=_0x3f33b1[0x0];_0x4a7253[_0x4403cc('0x28')][_0x4403cc('0x21')][_0x4403cc('0xd')]=_0x180964[_0x4403cc('0x21')],_0x4a7253[_0x4403cc('0x28')][_0x4403cc('0x21')][_0x4403cc('0x27')]=_0x180964[_0x4403cc('0x24')];}}if(_0x2c9131['locomotion']){const _0x1d9fad=this[_0x4403cc('0x3')](_0x2c9131);if(_0x1d9fad[_0x4403cc('0x3c')]){const _0xb6f2fc=_0x1d9fad[0x0];_0x4a7253[_0x4403cc('0x28')][_0x4403cc('0x21')][_0x4403cc('0xd')]=_0xb6f2fc[_0x4403cc('0x21')],_0x4a7253['data'][_0x4403cc('0x21')]['conditions']=_0xb6f2fc[_0x4403cc('0x24')];}}}return _0x4a7253;}static[_0x382a08('0x2')](_0x5dd71d){const _0x310f68=_0x382a08;if(!_0x5dd71d['speed']||!_0x5dd71d[_0x310f68('0x21')][_0x310f68('0x3c')])return[];return _0x5dd71d[_0x310f68('0x21')][_0x310f68('0x1f')](_0x380ffb=>{const _0x58c6ab=_0x310f68;if(!_0x380ffb['entries']||!_0x380ffb[_0x58c6ab('0xb')]['length']||typeof _0x380ffb[_0x58c6ab('0xb')][0x0]!==_0x58c6ab('0x36'))return null;const _0x1f163f=_0x380ffb[_0x58c6ab('0xb')][0x0][_0x58c6ab('0x30')](';')['map'](_0x2c4009=>_0x2c4009[_0x58c6ab('0x6')]())[_0x58c6ab('0x2c')](Boolean);return _0x1f163f[_0x58c6ab('0x1f')](_0x8ad966=>{const _0x14ccdf=_0x58c6ab,_0x1574f0=/^(\d+)\s*ft\.(.*?)$/[_0x14ccdf('0x9')](_0x8ad966);if(!_0x1574f0)return null;const _0x356ab3={'speed':Number(_0x1574f0[0x1])};if(_0x1574f0[0x2]&&_0x1574f0[0x2][_0x14ccdf('0x6')]())_0x356ab3[_0x14ccdf('0x24')]=_0x1574f0[0x2]['trim']();return _0x356ab3;});})[_0x310f68('0x2c')](Boolean)['flat']();}static[_0x382a08('0x3')](_0x1572c9){const _0x264415=_0x382a08;if(!_0x1572c9[_0x264415('0x17')]||!_0x1572c9[_0x264415('0x17')][_0x264415('0x3c')])return[];return _0x1572c9[_0x264415('0x17')][_0x264415('0x1f')](_0x1023f3=>{const _0x4d0627=_0x264415;if(!_0x1023f3[_0x4d0627('0xb')]||!_0x1023f3['entries'][_0x4d0627('0x3c')]||typeof _0x1023f3['entries'][0x0]!=='string')return null;const _0x825a37=/^(.*?), speed (\d+)\s*ft\.(.*?)$/i[_0x4d0627('0x9')](_0x1023f3['entries'][0x0]);if(!_0x825a37)return null;let [_0x166938,_0x240bbe,_0x47fff5,_0xc28001]=_0x825a37;_0x240bbe=_0x240bbe[_0x4d0627('0x6')](),_0x47fff5=_0x47fff5[_0x4d0627('0x6')](),_0xc28001=_0xc28001['trim']();const _0x59fc56=_0xc28001[_0x4d0627('0x30')](';')['map'](_0x4d77ea=>_0x4d77ea[_0x4d0627('0x6')]())[_0x4d0627('0x2c')](Boolean),[_0x238707,..._0x29ff63]=_0xc28001[_0x4d0627('0x32')](';')?['',..._0x59fc56]:_0x59fc56,_0x2601f5={'speed':Number(_0x47fff5)};if(_0x238707)_0x2601f5['condition']=_0x238707;const _0xe74640=[];return _0x29ff63[_0x4d0627('0x23')](_0x3ff323=>{const _0x4841a6=_0x4d0627,_0x45395d=/^(\d+)\s*ft\.(.*?)$/[_0x4841a6('0x9')](_0x3ff323);if(!_0x45395d)return;_0xe74640['push']({'speed':Number(_0x45395d[0x1]),'condition':_0x45395d[0x2]});}),[_0x2601f5,..._0xe74640];})['filter'](Boolean)[_0x264415('0x0')]();}static['getShipWeaponItem'](_0xbbe991,_0x21ff0e){const _0x3a5bb6=_0x382a08,_0x118f09=DataConverter[_0x3a5bb6('0x33')](_0x21ff0e),{damageTuples:_0x1bdf99,isAttack:_0x4827e6,rangeShort:_0x220de9,rangeLong:_0x2467a8,actionType:_0x5845f3,attackBonus:_0x1d60fd}=this['getParsedWeaponEntryData'](_0xbbe991,_0x21ff0e);return{'name':_0x21ff0e[_0x3a5bb6('0x7')],'type':'weapon','data':{'description':{'value':_0x118f09,'chat':'','unidentified':''},'source':DataConverter[_0x3a5bb6('0x19')](_0xbbe991),'quantity':_0x21ff0e[_0x3a5bb6('0x1e')]||0x1,'weight':0x0,'price':0x0,'attuned':![],'equipped':!![],'rarity':'','identified':!![],'activation':{'type':_0x4827e6?_0x3a5bb6('0x2d'):'','cost':_0x4827e6?0x1:0x0,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'width':null,'units':'','type':''},'range':{'value':_0x220de9||0x0,'long':_0x2467a8||0x0,'units':'ft'},'uses':{'value':0x0,'max':0x0,'per':null},'consume':{'type':'','target':null,'amount':null},'ability':'','actionType':_0x5845f3||_0x3a5bb6('0x16'),'attackBonus':_0x1d60fd||0x0,'chatFlavor':'','critical':null,'damage':{'parts':_0x1bdf99||[],'versatile':''},'formula':'','save':{'ability':'','dc':null,'scaling':'spell'},'armor':{'value':_0x21ff0e['ac']||0x0},'hp':{'value':_0x21ff0e['hp']||0x0,'max':_0x21ff0e['hp']||0x0,'dt':_0x21ff0e['dt'],'conditions':''},'weaponType':_0x3a5bb6('0x34'),'properties':{},'proficient':!![]},'flags':{},'img':'modules/'+SharedConsts[_0x3a5bb6('0xf')]+_0x3a5bb6('0x14')};}static[_0x382a08('0x11')](_0x2b2c75,_0x3f23fa){const _0x3be4a8=_0x382a08;if(!(_0x3f23fa[_0x3be4a8('0xb')]&&_0x3f23fa['entries'][0x0]&&typeof _0x3f23fa['entries'][0x0]===_0x3be4a8('0x36')))return;const _0x512f95=[];let _0x4e861f=0x0;const _0x442859=_0x3f23fa['entries'][0x0];_0x512f95['push'](...DataConverter['getDamageTuples'](_0x442859)[_0x3be4a8('0x2f')]);const {rangeShort:_0x2ca242,rangeLong:_0x2a2eaa}=DataConverter[_0x3be4a8('0x26')](_0x442859),_0x312cbc=/{@hit ([^}]+)}/gi[_0x3be4a8('0x9')](_0x442859);if(_0x312cbc){const _0x72e698=Number(_0x312cbc[0x1]);!isNaN(_0x72e698)&&(_0x4e861f=_0x72e698);}const {isAttack:_0x3b767d,actionType:_0x2c146a}=DataConverter[_0x3be4a8('0x3e')](_0x442859);return{'damageTuples':_0x512f95,'isAttack':_0x3b767d,'rangeShort':_0x2ca242,'rangeLong':_0x2a2eaa,'actionType':_0x2c146a,'attackBonus':_0x4e861f};}static[_0x382a08('0x12')](_0xa2c089,_0x6d886f){const _0x147fa7=_0x382a08,_0x2bd9cd=DataConverter['getEntryDescription'](_0x6d886f);if(/^Actions?$/i[_0x147fa7('0x2b')](_0x6d886f[_0x147fa7('0x7')]||''))return{'name':_0x6d886f['name'],'type':_0x147fa7('0x22'),'data':{'description':{'value':_0x2bd9cd,'chat':'','unidentified':''},'source':DataConverter['getSourceWithPagePart'](_0xa2c089),'activation':{'type':'crew','cost':0x1,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'width':null,'units':'','type':''},'range':{'value':null,'long':null,'units':''},'uses':{'value':0x0,'max':0x0,'per':''},'consume':{'type':'','target':'','amount':null},'ability':null,'actionType':'','attackBonus':0x0,'chatFlavor':'','critical':null,'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null,'scaling':_0x147fa7('0x1d')},'requirements':'','recharge':{'value':null,'charged':![]},'cover':null},'flags':{},'img':_0x147fa7('0x1b')+SharedConsts[_0x147fa7('0xf')]+_0x147fa7('0xa')};return{'name':_0x6d886f['name'],'type':_0x147fa7('0x22'),'data':{'description':{'value':_0x2bd9cd,'chat':'','unidentified':''},'source':DataConverter['getSourceWithPagePart'](_0xa2c089),'activation':{'type':'','cost':0x0,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'width':null,'units':'','type':''},'range':{'value':null,'long':null,'units':''},'uses':{'value':0x0,'max':0x0,'per':null},'consume':{'type':'','target':null,'amount':null},'ability':null,'actionType':'','attackBonus':0x0,'chatFlavor':'','critical':null,'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null,'scaling':_0x147fa7('0x1d')},'requirements':'','recharge':{'value':null,'charged':![]}},'flags':{},'img':_0x147fa7('0x1b')+SharedConsts[_0x147fa7('0xf')]+'/media/icon/ship-wheel.svg'};}static['getShipActionItems'](_0x578c08,_0x45d496){const _0x4d2104=_0x382a08,_0xc40daf=_0x45d496['findIndex'](_0x487bc1=>_0x487bc1['type']==='list'&&_0x487bc1[_0x4d2104('0x29')]['every'](_0x4301b5=>_0x4301b5[_0x4d2104('0x15')]===_0x4d2104('0x20'))),_0x6070d0={'name':'','type':_0x4d2104('0x22'),'data':{'description':{'value':'','chat':'','unidentified':''},'source':DataConverter[_0x4d2104('0x19')](_0x578c08),'activation':{'type':_0x4d2104('0xc'),'cost':0x1,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'width':null,'units':'','type':''},'range':{'value':null,'long':null,'units':''},'uses':{'value':0x0,'max':0x0,'per':''},'consume':{'type':'','target':'','amount':null},'ability':null,'actionType':'','attackBonus':0x0,'chatFlavor':'','critical':null,'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null,'scaling':_0x4d2104('0x1d')},'requirements':'','recharge':{'value':null,'charged':![]},'cover':null},'flags':{},'img':'modules/'+SharedConsts[_0x4d2104('0xf')]+_0x4d2104('0xa')};if(!~_0xc40daf)return _0x6070d0['name']=_0x4d2104('0x2a'),_0x6070d0[_0x4d2104('0x28')]['description'][_0x4d2104('0xd')]=DataConverter['getEntryDescription']({'entries':_0x45d496}),[_0x6070d0];_0x45d496=MiscUtil[_0x4d2104('0x18')](_0x45d496);const _0x1b9211=_0x45d496[_0xc40daf];return _0x45d496[_0x4d2104('0x1')](_0xc40daf,0x1),_0x1b9211['items']['map'](_0x371fc0=>{const _0x34e54a=_0x4d2104,_0x5cf427=_0x371fc0['name'][_0x34e54a('0x10')](/\.$/i,''),_0x3507a0=MiscUtil[_0x34e54a('0x18')](_0x45d496);if(typeof _0x3507a0[0x0]===_0x34e54a('0x36'))_0x3507a0[0x0]=_0x3507a0[0x0][_0x34e54a('0x10')](/, choosing from the options below[.:]/ig,'.');_0x3507a0[_0x34e54a('0x1c')]({'type':_0x34e54a('0xb'),'name':_0x5cf427,'entries':_0x371fc0['entries']||[_0x371fc0['entry']]});const _0xcb3bd2=DataConverter['getEntryDescription']({'entries':_0x3507a0}),_0x267a5f=MiscUtil[_0x34e54a('0x18')](_0x6070d0);return _0x267a5f[_0x34e54a('0x7')]=_0x5cf427,_0x267a5f[_0x34e54a('0x28')][_0x34e54a('0x37')]['value']=_0xcb3bd2,_0x267a5f;});}static[_0x382a08('0x3d')](_0x45cef6,_0x325327){const _0x333e5f=_0x382a08,_0x272602=DataConverter[_0x333e5f('0x33')](_0x325327),{damageTuples:_0x401081,isAttack:_0x233672,rangeShort:_0x463599,rangeLong:_0x13b027,actionType:_0x2380d0,attackBonus:_0x2ee950}=this['getParsedWeaponEntryData'](_0x45cef6,_0x325327);let _0x7aec8b=0x0;return(_0x325327['name']||'')['replace'](/(Grants Half Cover|Grants Three-Quarters Cover|Grants Total Cover)/ig,(..._0x1d1580)=>{const _0x25bc82=_0x333e5f,_0x377321=_0x1d1580[0x1][_0x25bc82('0x25')]()[_0x25bc82('0x6')]();switch(_0x377321){case _0x25bc82('0x8'):_0x7aec8b=0.5;break;case'grants\x20three-quarters\x20cover':_0x7aec8b=0.75;break;case _0x25bc82('0x4'):_0x7aec8b=0x1;break;default:throw new Error(_0x25bc82('0x38')+_0x377321);}}),{'name':_0x325327[_0x333e5f('0x7')],'type':_0x333e5f('0x22'),'data':{'description':{'value':_0x272602,'chat':'','unidentified':''},'source':DataConverter[_0x333e5f('0x19')](_0x45cef6),'activation':{'type':_0x333e5f('0xc'),'cost':0x1,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'width':null,'units':'','type':''},'range':{'value':_0x463599,'long':_0x13b027,'units':'ft'},'uses':{'value':0x0,'max':0x0,'per':''},'consume':{'type':'','target':'','amount':null},'ability':'','actionType':_0x2380d0||_0x333e5f('0x16'),'attackBonus':_0x2ee950,'chatFlavor':'','critical':null,'damage':{'parts':_0x401081||[],'versatile':''},'formula':'','save':{'ability':'','dc':null,'scaling':_0x333e5f('0x1d')},'requirements':'','recharge':{'value':null,'charged':![]},'cover':_0x7aec8b},'flags':{},'img':_0x333e5f('0x1b')+SharedConsts[_0x333e5f('0xf')]+'/media/icon/gears.svg'};}}export{DataConverterVehicle};