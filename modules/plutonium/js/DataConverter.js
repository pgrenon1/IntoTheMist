const _0x9df0=['\x20pg.\x20','_COMPENDIUM_CACHE_KEY_IMAGE','_pCacheActorItemCompendium','number','turn','SRD_COMPENDIUMS_CREATURES','Unknown\x20cache\x20ID\x20\x22','count','monsterFeature','_pMutActorUpdate_pMutFromLanguageProfs','length','entries','source','actor','add','importClass','getWalker','sourceJsonToAbv','generic','toolProf','pFillActorAbilityData','render','mode','ability','type','data','))?\x20your\x20(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)\x20modifier(?:\x20\x5c(minimum\x20of\x20(','conditionals','none','subclassFeature','isAddPageNumberToSource','string',')\x5c))?','actorTraitProp','now','_pGetCacheAndGetCompendiumData_getCompendiums','SYM_UI_SKIP','getAbilityScore','walk','_doApplyFormData_doCheckAddCustomItem','isAddPermission','custom','_pMutActorUpdate_mutFromSideDataMod','_COMPENDIUM_ACTOR_IMAGE_LAST_VALUES','find','_SOURCE_PAGE_PREFIX_RE','warn','URL_TO_HASH_BUILDER','medium\x20armor','cacheId','\x5cd+','_pHandleConfigUpdate','monster','permissions','pFillActorResistanceData','split','imgCompendiumFeatures','_pMutActorUpdate_mutFromSideTokenMod','race','items','includes','light\x20armor','action','getCombinedFoundryFlags','object','importCreature','_COMPENDIUM_ACTOR_CACHES','day','_pHandleConfigUpdate_pFlushCompendiumImageCaches','_pMutActorUpdate_mutFromSideMod','assign','_getCachedCompendiumData','_pGetCacheAndGetCompendiumData','get','optionalfeature','_SOURCE_PAGE_PREFIX','SRD_COMPENDIUMS_ITEMS','entity','INS','isAddSourceToName','filter','mwak','max','weaponProf','scalar','getTagUids','_pMutActorUpdate_pMutFromEntries','condition','permission','isChannelDivinity','ITEM_TYPES_ACTOR_TOOLS','unitShort','\x20([^}]+)}','getNameWithSourcePart','push','\x20(Level\x20','</div>','item','attribute','light','baseCacheId','ITEM_TYPES_ACTOR_ARMOR','traits','raceFeature','lgt','min','a\x20number\x20of\x20times\x20equal\x20to(?:\x20(','adventure','abilities','_COMPENDIUM_IMAGE_LAST_VALUES','creature','isSpeedHover','charges','_COMPENDIUM_CACHES','isIgnoreSrd','PG_ITEMS','mergeMap','_doApplyFormData','skills','srd','getAbilityModNumber','_pMutActorUpdate_pMutFromSkillProfs','bookOrdinalToAbv','msak','init','toTitleCase','set','keys','deepKeys','book','level','actorTokenMod','canHover','Unhandled\x20mode\x20\x22','size','_pMutActorUpdate_mutFromSideMod_handleProp','getMappedTool','_getAdventureBookJournals','every','_pCacheCompendium','pFillActorLanguageData','_isCompendiumCached','class','trim','pCacheAndGetHash','_pMutActorUpdate_mutFromProficiencySetFoundry','getCleanOriginalData','exec','___','setMax','isCancelled','skillProficiencies','<div\x20class=\x22w-100\x20overflow-x-hidden\x22>','forEach','armorProf','importRace','_COMPENDIUM_CACHE_KEY_DATA','spell','value','getEntryDescription','pGetCompendiumData','WALKER_READONLY_GENERIC','SRD_COMPENDIUMS_RACES_AND_FEATURES','ascSortLower','modeOptions','getMappedLanguage','vehicle','long\x20rest','GENERIC_WALKER_ENTRIES_KEY_BLACKLIST','slice','_COMPENDIUM_ACTOR_CACHES_LOCK','renderDepth','collection','modules/','Shield','\x20+\x20','simple\x20weapons','hvy','rsak','scalarAddUnit','prop','resources.primary.value','attributes','unit','_COMPENDIUM_CACHES_LOCK','join','pMutActorUpdate','textToNumber','unshift','skill','getOrSet','_displayName','_pGetCacheAndGetActorItemCompendiumData','ITEM_TYPES_ACTOR_WEAPONS','getItemSource','stripTags','appendIfNotExistsArr','pFillActorToolData','getSpeedValue','TERMS_COUNT','disease','additionalData','mar','proficient','_pMutActorUpdate_addValidSkills','_pMutActorUpdate_pMutFromSideSkillProfs','PLUT_CONTEXT','pGetIconImage','importVehicle','mod','pFillActorVulnerabilityData','other','SRD_COMPENDIUMS_CLASSES','_pMutActorUpdate_mutFromProficiencySetCustom','getCleanEntityName','abilityDc','getItemActorPassive','save','packs','img','importItem','hover','SRD_COMPENDIUMS_CREATURE_FEATURES','SYM_AT','_getCleanOriginalData_recurse','copy','getAttackRange','bonus','importSpell','tokens','indexOf','fnGetMappedItem','short\x20rest','getDamageTuples','test','SKILL_TO_ATB_ABV','map','getAdventureJournals','flat','martial\x20weapons','sideData','pFillActorConditionImmunityData','medium','toLowerCase','replace','<PLUT_SYM__AT>','player','has','feat','pGetUserInput','SRD_COMPENDIUMS_CLASS_FEATURES','page','index','unlock','ABIL_ABVS','some','import','fnGetAliases','shl','languages','imgCompendium','heavy','classFeature','name','ordinal'];(function(_0x391721,_0x9df08a){const _0xa38ce0=function(_0x4a0e43){while(--_0x4a0e43){_0x391721['push'](_0x391721['shift']());}};_0xa38ce0(++_0x9df08a);}(_0x9df0,0xbf));const _0xa38c=function(_0x391721,_0x9df08a){_0x391721=_0x391721-0x0;let _0xa38ce0=_0x9df0[_0x391721];return _0xa38ce0;};const _0x345c36=_0xa38c;'use strict';import{SharedConsts}from'../shared/SharedConsts.js';import{UtilActors}from'./UtilActors.js';import{Config}from'./Config.js';import{UtilApplications}from'./UtilApplications.js';import{Vetools}from'./Vetools.js';import{Consts}from'./Consts.js';import{Charactermancer_SkillSelect,Charactermancer_AbilityScoreSelect,Charactermancer_LanguageSelect,Charactermancer_ToolSelect,Charactermancer_DamageImmunitySelect,Charactermancer_DamageResistanceSelect,Charactermancer_DamageVulnerabilitySelect,Charactermancer_ConditionImmunitySelect}from'./UtilCharactermancer.js';import{UtilCompendium}from'./UtilCompendium.js';import{LGT}from'./Util.js';class DataConverter{static[_0x345c36('0xc6')](){const _0x5486b2=_0x345c36;Hooks['on']('plutonium.configUpdate',()=>this[_0x5486b2('0x7d')]()),this[_0x5486b2('0x7d')]();}static async[_0x345c36('0x7d')](){const _0x10e295=_0x345c36;await this[_0x10e295('0x8e')]();}static async[_0x345c36('0x8e')](){const _0x2b81af=_0x345c36,_0x4a0e43=[['importCreature','imgCompendium'],[_0x2b81af('0x11'),'imgCompendium'],[_0x2b81af('0x59'),_0x2b81af('0x45')],['importClass','imgCompendiumFeatures'],[_0x2b81af('0x1d'),'imgCompendium'],[_0x2b81af('0x25'),_0x2b81af('0x45')],[_0x2b81af('0xe5'),'imgCompendiumFeatures'],['importOptionalFeature',_0x2b81af('0x45')]];await DataConverter['_COMPENDIUM_CACHES_LOCK']['pLock']();try{_0x4a0e43['forEach'](_0x89e76=>{const _0x5435f4=_0x2b81af,_0x3811d0=_0x89e76[_0x5435f4('0x103')](_0x5435f4('0xde')),_0xe8e1c9=DataConverter[_0x5435f4('0xb7')][_0x3811d0]||'',_0x46e8e7=Config[_0x5435f4('0x93')](_0x89e76[0x0],_0x89e76[0x1])||'';if(_0xe8e1c9[_0x5435f4('0xd9')]()!==_0x46e8e7[_0x5435f4('0xd9')]()){if(DataConverter[_0x5435f4('0xbb')][DataConverter['_COMPENDIUM_CACHE_KEY_IMAGE']])delete DataConverter[_0x5435f4('0xbb')][DataConverter[_0x5435f4('0x4b')]][_0x3811d0];}DataConverter[_0x5435f4('0xb7')][_0x3811d0]=_0x46e8e7;});}finally{DataConverter[_0x2b81af('0x102')][_0x2b81af('0x3e')]();}}static[_0x345c36('0xa7')](_0x122ed0,_0x529e62){const _0x4ba734=_0x345c36;return''+(_0x529e62||Renderer[_0x4ba734('0x4')](_0x122ed0[_0x4ba734('0x0')]||_0x122ed0[_0x4ba734('0x48')]||''))+(_0x122ed0[_0x4ba734('0x56')]&&Config['get'](_0x4ba734('0x41'),_0x4ba734('0x99'))?'\x20('+Parser[_0x4ba734('0x5b')](_0x122ed0['source'])+')':'');}static['getSourceWithPagePart'](_0x128342){const _0x1827b9=_0x345c36;return''+Parser[_0x1827b9('0x5b')](_0x128342['source'])+(Config[_0x1827b9('0x93')]('import',_0x1827b9('0x68'))&&_0x128342[_0x1827b9('0x3c')]?''+DataConverter['_SOURCE_PAGE_PREFIX']+_0x128342[_0x1827b9('0x3c')]:'');}static[_0x345c36('0x3')](_0x5067ce){const _0x427235=_0x345c36;let _0x4c5d4f=_0x5067ce[_0x427235('0x63')]||{};if(_0x4c5d4f[_0x427235('0x63')])_0x4c5d4f=_0x4c5d4f[_0x427235('0x63')];const _0x4d65df=_0x4c5d4f['source'];if(!_0x4d65df)return _0x4d65df;return _0x4d65df[_0x427235('0x81')](DataConverter['_SOURCE_PAGE_PREFIX_RE'])[0x0][_0x427235('0xd9')]();}static['getTagUids'](_0x2ddd95,_0x3ca249){const _0x16c5f2=_0x345c36,_0x4b439d=new RegExp('{@'+_0x2ddd95+_0x16c5f2('0xa6'),'gi'),_0xc14ea5=[];return _0x3ca249[_0x16c5f2('0x35')](_0x4b439d,(..._0xcfdba8)=>_0xc14ea5[_0x16c5f2('0xa8')](_0xcfdba8[0x1])),_0xc14ea5;}static async[_0x345c36('0x10')](_0x289b5a,_0x4d2f8a){const _0x239e6a=_0x345c36;switch(_0x289b5a){case _0x239e6a('0x39'):case _0x239e6a('0xe7'):{const _0x1e5054=await Vetools['pGetIconLookup'](_0x289b5a),_0x24b899=MiscUtil[_0x239e6a('0x93')](_0x1e5054,_0x4d2f8a['source'],_0x4d2f8a[_0x239e6a('0x48')]);if(!_0x24b899)return null;return _0x239e6a('0xf7')+SharedConsts['MODULE_NAME']+'/'+_0x24b899;}default:return null;}}static['getCombinedFoundryData'](_0x33fa0d,_0x5b9275){const _0x36c77d=_0x345c36;if(!_0x5b9275&&!_0x33fa0d)return{};const _0x1cb67e=MiscUtil['copy'](_0x5b9275||{});return Object['assign'](_0x1cb67e,MiscUtil[_0x36c77d('0x22')](_0x33fa0d||{})),_0x1cb67e;}static[_0x345c36('0x89')](_0x5a576e,_0x5ecdb1){const _0x470944=_0x345c36;if(!_0x5a576e&&!_0x5ecdb1)return{};const _0x94ba75=MiscUtil[_0x470944('0x22')](_0x5ecdb1||{});return Object[_0x470944('0x55')](MiscUtil[_0x470944('0x22')](_0x5a576e||{}))[_0x470944('0xe3')](([_0x371835,_0x53c148])=>{const _0xff073d=_0x470944;if(!_0x94ba75[_0x371835])return _0x94ba75[_0x371835]=_0x53c148;Object[_0xff073d('0x90')](_0x94ba75[_0x371835],_0x53c148);}),_0x94ba75;}static async['pGetCompendiumImage'](_0x263f6b,_0x6f84de,_0x6fb015){const _0x78b171=_0x345c36;return this[_0x78b171('0x92')](DataConverter[_0x78b171('0x4b')],_0x263f6b,_0x6f84de,_0x6fb015);}static async['_pGetCacheAndGetCompendiumData'](_0x8e2a57,_0xb6a4bc,_0x52a2f5,_0x3df355){const _0x110eca=_0x345c36;_0x3df355=_0x3df355||{};if(!_0x3df355[_0x110eca('0xbc')]&&!_0x52a2f5[_0x110eca('0xc1')])return null;let _0x4a69dc=[(typeof _0x52a2f5[_0x110eca('0xc1')]==='string'?_0x52a2f5['srd']:_0x52a2f5[_0x110eca('0x48')])[_0x110eca('0x34')]()[_0x110eca('0xd9')]()];if(_0x52a2f5[_0x110eca('0x0')])_0x4a69dc[_0x110eca('0xa8')](_0x52a2f5[_0x110eca('0x0')]['toLowerCase']()[_0x110eca('0xd9')]());if(_0x3df355[_0x110eca('0xca')]){_0x4a69dc=_0x4a69dc[_0x110eca('0x2d')](_0x5be851=>({'name':_0x5be851}));if(_0x3df355['fnGetAliases']){const _0x2f4ea4=_0x3df355[_0x110eca('0x42')](_0x52a2f5);_0x2f4ea4[_0x110eca('0xe3')](_0x4f0287=>_0x4f0287[_0x110eca('0x48')]=_0x4f0287[_0x110eca('0x48')]?_0x4f0287[_0x110eca('0x48')][_0x110eca('0x34')]()[_0x110eca('0xd9')]():_0x4f0287[_0x110eca('0x48')]),_0x4a69dc[_0x110eca('0x106')](..._0x2f4ea4);}}else{if(_0x3df355[_0x110eca('0x42')])_0x4a69dc[_0x110eca('0xa8')](..._0x3df355[_0x110eca('0x42')](_0x52a2f5)[_0x110eca('0x2d')](_0x59b760=>_0x59b760['toLowerCase']()[_0x110eca('0xd9')]()));}let _0xc13791;switch(_0x8e2a57){case DataConverter[_0x110eca('0x4b')]:{switch(_0xb6a4bc){case'spell':_0xc13791=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x110eca('0x93')](_0x110eca('0x25'),_0x110eca('0x45')));break;case _0x110eca('0x7e'):_0xc13791=this[_0x110eca('0x6d')](Config[_0x110eca('0x93')](_0x110eca('0x8b'),_0x110eca('0x45')));break;case _0x110eca('0xab'):_0xc13791=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x110eca('0x93')]('importItem',_0x110eca('0x45')));break;case _0x110eca('0xd8'):_0xc13791=this[_0x110eca('0x6d')](Config[_0x110eca('0x93')](_0x110eca('0x59'),_0x110eca('0x45')));break;case _0x110eca('0x47'):_0xc13791=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x110eca('0x93')](_0x110eca('0x59'),_0x110eca('0x82')));break;case'subclassFeature':_0xc13791=this[_0x110eca('0x6d')](Config[_0x110eca('0x93')]('importClass',_0x110eca('0x82')));break;case _0x110eca('0x94'):_0xc13791=this[_0x110eca('0x6d')](Config['get']('importOptionalFeature',_0x110eca('0x45')));break;case _0x110eca('0x84'):_0xc13791=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config['get'](_0x110eca('0xe5'),_0x110eca('0x45')));break;case _0x110eca('0xb1'):_0xc13791=this[_0x110eca('0x6d')](Config[_0x110eca('0x93')]('importRace',_0x110eca('0x82')));break;case _0x110eca('0x52'):_0xc13791=this[_0x110eca('0x6d')](Config[_0x110eca('0x93')](_0x110eca('0x8b'),_0x110eca('0x82')));break;default:return null;}break;}case DataConverter['_COMPENDIUM_CACHE_KEY_DATA']:{switch(_0xb6a4bc){case'spell':_0xc13791=this[_0x110eca('0x6d')](Config['SRD_COMPENDIUMS_SPELLS']);break;case'monster':_0xc13791=this[_0x110eca('0x6d')](Config[_0x110eca('0x4f')]);break;case'item':_0xc13791=this[_0x110eca('0x6d')](Config[_0x110eca('0x96')]);break;case'class':_0xc13791=this[_0x110eca('0x6d')](Config[_0x110eca('0x15')]);break;case _0x110eca('0x47'):_0xc13791=this[_0x110eca('0x6d')](Config[_0x110eca('0x3b')]);break;case _0x110eca('0x67'):_0xc13791=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x110eca('0x3b')]);break;case _0x110eca('0x94'):_0xc13791=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config['SRD_COMPENDIUMS_OPTIONAL_FEATURES']);break;case _0x110eca('0x84'):_0xc13791=this[_0x110eca('0x6d')](Config[_0x110eca('0xec')]);break;case'raceFeature':_0xc13791=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x110eca('0xec')]);break;case _0x110eca('0x52'):_0xc13791=this[_0x110eca('0x6d')](Config[_0x110eca('0x1f')]);break;default:return null;}break;}default:throw new Error(_0x110eca('0x50')+_0x8e2a57+'\x22');}if(!_0xc13791[_0x110eca('0x54')])return null;_0x3df355[_0x110eca('0xca')]&&(_0x8e2a57={'baseCacheId':_0x8e2a57,'deepKeys':_0x3df355[_0x110eca('0xca')],'cacheId':[_0x8e2a57,..._0x3df355[_0x110eca('0xca')]['sort'](SortUtil[_0x110eca('0xed')])][_0x110eca('0x103')]('__')});await DataConverter[_0x110eca('0x102')]['pLock']();try{for(const _0x49553c of _0x4a69dc){for(const _0x18d407 of _0xc13791){!this[_0x110eca('0xd7')](DataConverter[_0x110eca('0xbb')],_0x8e2a57,_0x18d407)&&await this['_pCacheCompendium'](DataConverter[_0x110eca('0xbb')],_0x8e2a57,_0x18d407);const _0x2db6c0=this[_0x110eca('0x91')](DataConverter[_0x110eca('0xbb')],_0x8e2a57,_0x18d407,_0x49553c);if(_0x2db6c0)return _0x2db6c0;}}}finally{DataConverter['_COMPENDIUM_CACHES_LOCK'][_0x110eca('0x3e')]();}}static[_0x345c36('0x6d')](_0x20ddbc){const _0xd64e90=_0x345c36;return _0x20ddbc=typeof _0x20ddbc==='string'?_0x20ddbc[_0xd64e90('0x81')](',')['map'](_0x10ae4b=>_0x10ae4b[_0xd64e90('0xd9')]()[_0xd64e90('0x34')]()):_0x20ddbc['map'](_0x46cfca=>_0x46cfca['toLowerCase']()),_0x20ddbc[_0xd64e90('0x2d')](_0x195fce=>game[_0xd64e90('0x1b')][_0xd64e90('0x76')](_0x4bb4db=>_0x4bb4db[_0xd64e90('0xf6')]['toLowerCase']()===_0x195fce))[_0xd64e90('0x9a')](Boolean);}static async['pGetActorItemCompendiumImage'](_0x40bea5,_0x3f6301,_0x1aca60){const _0x19ddc5=_0x345c36;return this[_0x19ddc5('0x1')](DataConverter[_0x19ddc5('0x4b')],_0x40bea5,_0x3f6301,_0x1aca60);}static async[_0x345c36('0x1')](_0x304ef7,_0x2b8fbc,_0x2c35d5,_0x543e8c){const _0x512e4e=_0x345c36;_0x543e8c=_0x543e8c||{};let _0x546266=[(typeof _0x2c35d5[_0x512e4e('0xc1')]==='string'?_0x2c35d5[_0x512e4e('0xc1')]:_0x2c35d5[_0x512e4e('0x48')])['toLowerCase']()[_0x512e4e('0xd9')]()];if(_0x2c35d5['_displayName'])_0x546266[_0x512e4e('0xa8')](_0x2c35d5[_0x512e4e('0x0')][_0x512e4e('0x34')]()['trim']());if(_0x543e8c[_0x512e4e('0x42')])_0x546266[_0x512e4e('0xa8')](..._0x543e8c[_0x512e4e('0x42')](_0x2c35d5)[_0x512e4e('0x2d')](_0x3b6ac5=>_0x3b6ac5[_0x512e4e('0x34')]()[_0x512e4e('0xd9')]()));let _0x52d552;switch(_0x304ef7){case DataConverter[_0x512e4e('0x4b')]:{switch(_0x2b8fbc){case'monsterFeature':_0x52d552=this[_0x512e4e('0x6d')](Config[_0x512e4e('0x93')](_0x512e4e('0x8b'),_0x512e4e('0x45')));break;default:return null;}break;}case DataConverter[_0x512e4e('0xe6')]:{switch(_0x2b8fbc){case _0x512e4e('0x52'):_0x52d552=this[_0x512e4e('0x6d')](Config[_0x512e4e('0x4f')]);break;default:return null;}break;}default:throw new Error('Unknown\x20cache\x20ID\x20\x22'+_0x304ef7+'\x22');}if(!_0x52d552['length'])return null;await DataConverter['_COMPENDIUM_ACTOR_CACHES_LOCK']['pLock']();try{for(const _0x3175ce of _0x546266){for(const _0x20b0c6 of _0x52d552){!this[_0x512e4e('0xd7')](DataConverter[_0x512e4e('0x8c')],_0x304ef7,_0x20b0c6)&&await this['_pCacheActorItemCompendium'](DataConverter[_0x512e4e('0x8c')],_0x304ef7,_0x20b0c6);const _0x1fa4b4=this['_getCachedCompendiumData'](DataConverter[_0x512e4e('0x8c')],_0x304ef7,_0x20b0c6,_0x3175ce);if(_0x1fa4b4)return _0x1fa4b4;}}}finally{DataConverter[_0x512e4e('0xf4')][_0x512e4e('0x3e')]();}}static async['getSrdCompendiumEntity'](_0x38d448,_0x33d859,_0x50ef76){const _0x41e7b7=_0x345c36;return this[_0x41e7b7('0x92')](DataConverter[_0x41e7b7('0xe6')],_0x38d448,_0x33d859,_0x50ef76);}static[_0x345c36('0xd7')](_0x5482b4,_0x276362,_0x3a1695){const _0x3978cf=_0x345c36;return _0x276362=_0x276362['cacheId']||_0x276362,!!MiscUtil[_0x3978cf('0x93')](_0x5482b4,_0x276362,_0x3a1695['collection']);}static async[_0x345c36('0xd5')](_0x576e0d,_0x10a9a6,_0x398dc5){const _0x9e8c0d=_0x345c36;let _0x50ab83;if(_0x10a9a6['baseCacheId'])_0x50ab83=!![];else switch(_0x10a9a6){case DataConverter['_COMPENDIUM_CACHE_KEY_IMAGE']:_0x50ab83=![];break;case DataConverter[_0x9e8c0d('0xe6')]:_0x50ab83=!![];break;default:throw new Error(_0x9e8c0d('0x50')+_0x10a9a6+'\x22');}const _0x4a95f7=await UtilCompendium[_0x9e8c0d('0xea')](_0x398dc5,_0x50ab83),_0xd05d45={};MiscUtil[_0x9e8c0d('0x108')](_0x576e0d,_0x10a9a6[_0x9e8c0d('0x7b')]||_0x10a9a6,_0x398dc5['collection'],_0xd05d45);if(!_0x4a95f7)return;if(_0x10a9a6[_0x9e8c0d('0xae')])_0x4a95f7[_0x9e8c0d('0xe3')](_0x483733=>_0xd05d45[_0x483733[_0x9e8c0d('0x48')][_0x9e8c0d('0x34')]()]=MiscUtil[_0x9e8c0d('0x22')](_0x483733['data']));else switch(_0x10a9a6){case DataConverter['_COMPENDIUM_CACHE_KEY_IMAGE']:_0x4a95f7[_0x9e8c0d('0xe3')](_0xd7a282=>_0xd05d45[_0xd7a282[_0x9e8c0d('0x48')][_0x9e8c0d('0x34')]()]=_0xd7a282[_0x9e8c0d('0x1c')]);break;case DataConverter[_0x9e8c0d('0xe6')]:_0x4a95f7[_0x9e8c0d('0xe3')](_0x26c7e0=>_0xd05d45[_0x26c7e0[_0x9e8c0d('0x48')][_0x9e8c0d('0x34')]()]=MiscUtil['copy'](_0x26c7e0[_0x9e8c0d('0x63')]));break;default:throw new Error(_0x9e8c0d('0x50')+_0x10a9a6+'\x22');}}static async[_0x345c36('0x4c')](_0x1e3260,_0x2e79ce,_0x32e0f0){const _0x1aa50f=_0x345c36,_0x420ec4=await UtilCompendium[_0x1aa50f('0xea')](_0x32e0f0,!![]),_0x49a9fd={};MiscUtil[_0x1aa50f('0x108')](_0x1e3260,_0x2e79ce['cacheId']||_0x2e79ce,_0x32e0f0[_0x1aa50f('0xf6')],_0x49a9fd);if(!_0x420ec4)return;_0x420ec4[_0x1aa50f('0xe3')](_0x2e49b4=>{const _0x11cbb8=_0x1aa50f;(_0x2e49b4[_0x11cbb8('0x85')]||[])[_0x11cbb8('0xe3')](_0x241c44=>{const _0x15809f=_0x11cbb8,_0x4908da=_0x241c44[_0x15809f('0x48')][_0x15809f('0x34')]();switch(_0x2e79ce){case DataConverter['_COMPENDIUM_CACHE_KEY_IMAGE']:{if(!_0x241c44['img']||_0x241c44[_0x15809f('0x1c')][_0x15809f('0x34')]()[_0x15809f('0x86')]('mystery-man.svg'))return;_0x49a9fd[_0x4908da]=_0x49a9fd[_0x4908da]||_0x241c44[_0x15809f('0x1c')];break;}case DataConverter[_0x15809f('0xe6')]:_0x49a9fd[_0x4908da]=_0x49a9fd[_0x4908da]||MiscUtil[_0x15809f('0x22')](_0x241c44['data']);break;default:throw new Error(_0x15809f('0x50')+_0x2e79ce+'\x22');}});});}static['_getCachedCompendiumData'](_0x5baea4,_0x1441bb,_0x9f4e7,_0x9fad43){const _0x869ce5=_0x345c36,_0x4554f1=MiscUtil['get'](_0x5baea4,_0x1441bb[_0x869ce5('0x7b')]||_0x1441bb,_0x9f4e7[_0x869ce5('0xf6')]);if(!_0x4554f1)return null;const _0x12407c=_0x4554f1[_0x9fad43[_0x869ce5('0x48')]||_0x9fad43];if(!_0x12407c||typeof _0x9fad43===_0x869ce5('0x69'))return _0x12407c;const _0x1b28b8=Object[_0x869ce5('0x55')](_0x9fad43)[_0x869ce5('0x9a')](([_0x39bf1c])=>_0x39bf1c!==_0x869ce5('0x48'))[_0x869ce5('0xd4')](([_0x58e93b,_0x3bdc79])=>{const _0xeb3d08=_0x869ce5;if(typeof _0x3bdc79===_0xeb3d08('0x69'))_0x3bdc79=_0x3bdc79[_0xeb3d08('0x34')]()[_0xeb3d08('0xd9')]();let _0x1501ca;const _0x49704a=_0x58e93b[_0xeb3d08('0x81')]('.');for(const _0x2b1f2e of _0x49704a){_0x1501ca=(_0x1501ca||_0x12407c)[_0x2b1f2e];if(_0x1501ca===undefined)return![];}if(typeof _0x1501ca===_0xeb3d08('0x69'))_0x1501ca=_0x1501ca['trim']()[_0xeb3d08('0x34')]();return _0x1501ca===_0x3bdc79;});if(!_0x1b28b8)return null;switch(_0x1441bb[_0x869ce5('0xae')]){case DataConverter[_0x869ce5('0x4b')]:return _0x12407c[_0x869ce5('0x1c')];case DataConverter[_0x869ce5('0xe6')]:return _0x12407c;default:throw new Error('Unknown\x20cache\x20ID\x20\x22'+_0x1441bb[_0x869ce5('0xae')]+'\x22');}}static[_0x345c36('0xe9')](_0x245907,_0x5f14d8){const _0x3fd237=_0x345c36;_0x5f14d8=_0x5f14d8||{},_0x5f14d8[_0x3fd237('0xfe')]=_0x5f14d8['prop']||'entries';let _0x4c8b0c='';return _0x245907[_0x5f14d8[_0x3fd237('0xfe')]]&&(_0x4c8b0c=Renderer['get']()['setFirstSection'](!![])['render']({'type':_0x3fd237('0x55'),'entries':_0x245907[_0x5f14d8['prop']]},_0x5f14d8['depth']!=null?_0x5f14d8['depth']:0x2)),_0x4c8b0c;}static async[_0x345c36('0x104')](_0x4dfcd4,_0x457453,_0x503a66,_0x297d7a){const _0x3734af=_0x345c36;_0x297d7a=_0x297d7a||{},this[_0x3734af('0x74')](_0x4dfcd4,_0x457453,_0x297d7a),this[_0x3734af('0x83')](_0x4dfcd4,_0x457453,_0x297d7a),await this[_0x3734af('0xe')](_0x4dfcd4,_0x457453,_0x503a66,_0x297d7a);if(_0x297d7a[_0x3734af('0xe0')])return;await this[_0x3734af('0xa0')](_0x4dfcd4,_0x457453,_0x503a66,_0x297d7a);}static[_0x345c36('0x74')](_0x29b3fc,_0x45b2dd,_0x53bd56){const _0x411ee2=_0x345c36;return this['_pMutActorUpdate_mutFromSideMod'](_0x29b3fc,_0x45b2dd,_0x53bd56,'actorDataMod',_0x411ee2('0x63'));}static[_0x345c36('0x83')](_0x572401,_0x53deaa,_0x3e0f89){const _0x57d89d=_0x345c36;return this[_0x57d89d('0x8f')](_0x572401,_0x53deaa,_0x3e0f89,_0x57d89d('0xcd'),'token');}static['_pMutActorUpdate_mutFromSideMod'](_0x3f4958,_0x48be55,_0x3601a9,_0x3b26dc,_0x4685e9){const _0x317729=_0x345c36;if(!_0x3601a9[_0x317729('0x31')]||!_0x3601a9[_0x317729('0x31')][_0x3b26dc])return;Object[_0x317729('0x55')](_0x3601a9[_0x317729('0x31')][_0x3b26dc])['forEach'](([_0x5ebca3,_0x2da1a9])=>this[_0x317729('0xd1')](_0x3f4958,_0x48be55,_0x3601a9,_0x3b26dc,_0x4685e9,_0x5ebca3,_0x2da1a9));}static[_0x345c36('0xd1')](_0x302610,_0x1a7cb9,_0x3a8150,_0x51c6df,_0x20b747,_0x3211a0,_0x31438f){const _0x390ec6=_0x345c36,_0xcef331=_0x3211a0[_0x390ec6('0x81')]('.');if(_0x3211a0==='_'){_0x31438f['forEach'](_0x12e0ac=>{const _0x330922=_0x390ec6;switch(_0x12e0ac[_0x330922('0x60')]){case _0x330922('0x65'):{for(const _0x1df80c of _0x12e0ac[_0x330922('0x65')]){window[_0x330922('0xf')]={'actor':_0x302610};if(_0x1df80c[_0x330922('0xa1')]&&!eval(_0x1df80c['condition']))continue;Object['entries'](_0x1df80c[_0x330922('0x12')])[_0x330922('0xe3')](([_0x548e58,_0x3bb45f])=>this['_pMutActorUpdate_mutFromSideMod_handleProp'](_0x302610,_0x1a7cb9,_0x3a8150,_0x51c6df,_0x20b747,_0x548e58,_0x3bb45f));break;}break;}default:throw new Error(_0x330922('0xcf')+_0x12e0ac['mode']+'\x22');}});return;}const _0xe1b115=MiscUtil[_0x390ec6('0x93')](_0x302610,_0x390ec6('0x63'),_0x20b747,..._0xcef331),_0x45a6ad=MiscUtil[_0x390ec6('0x93')](_0x1a7cb9,_0x20b747,..._0xcef331),_0x2a6e42=_0x45a6ad||_0xe1b115;_0x31438f[_0x390ec6('0xe3')](_0x4ac256=>{const _0x289217=_0x390ec6;switch(_0x4ac256['mode']){case _0x289217('0x5'):{const _0x5cada4=MiscUtil['copy'](_0x2a6e42||[]),_0x2cdc06=[..._0x5cada4];_0x2cdc06['push'](..._0x4ac256[_0x289217('0x85')][_0x289217('0x9a')](_0x2f692c=>!_0x5cada4['some'](_0x2fccaf=>CollectionUtil['deepEquals'](_0x2f692c,_0x2fccaf)))),MiscUtil[_0x289217('0xc8')](_0x1a7cb9,_0x20b747,..._0xcef331,_0x2cdc06);break;}case'scalarAdd':{MiscUtil['set'](_0x1a7cb9,_0x20b747,..._0xcef331,_0x4ac256[_0x289217('0x9e')]+_0x2a6e42||0x0);break;}case _0x289217('0xfd'):{const _0x61472d=(''+(_0x2a6e42||0x0))[_0x289217('0x34')](),_0x428f89=_0x28ff0f=>{const _0x5b681e=_0x289217,_0xa77514=_0x61472d[_0x5b681e('0x27')](_0x28ff0f[_0x5b681e('0x34')]());let _0x3062fc=_0x2a6e42[_0x5b681e('0xf3')](0x0,_0xa77514);const _0x56f98c=_0x2a6e42[_0x5b681e('0xf3')](_0xa77514),_0x4ae9ac=_0x3062fc['endsWith']('\x20');_0x3062fc=_0x3062fc[_0x5b681e('0xd9')]();if(!isNaN(_0x3062fc)){const _0x5ee012=''+(_0x4ac256[_0x5b681e('0x9e')]+Number(_0x3062fc))+(_0x4ae9ac?'\x20':'')+_0x56f98c;MiscUtil[_0x5b681e('0xc8')](_0x1a7cb9,_0x20b747,..._0xcef331,_0x5ee012);}};if(!_0x2a6e42)MiscUtil[_0x289217('0xc8')](_0x1a7cb9,_0x20b747,..._0xcef331,_0x4ac256['scalar']+'\x20'+(_0x4ac256[_0x289217('0xa5')]||_0x4ac256[_0x289217('0x101')]));else{if(_0x4ac256[_0x289217('0x101')]&&_0x61472d[_0x289217('0x86')](_0x4ac256[_0x289217('0x101')][_0x289217('0x34')]()))_0x428f89(_0x4ac256[_0x289217('0x101')]);else _0x4ac256[_0x289217('0xa5')]&&_0x61472d[_0x289217('0x86')](_0x4ac256[_0x289217('0xa5')][_0x289217('0x34')]())&&_0x428f89(_0x4ac256[_0x289217('0xa5')]);}break;}case _0x289217('0xdf'):{const _0x95a5b=(''+(_0x2a6e42||0x0))[_0x289217('0x34')]();let _0x51afdb=Number(_0x95a5b);if(isNaN(_0x51afdb))_0x51afdb=0x0;const _0x54d12c=Math[_0x289217('0x9c')](_0x51afdb,_0x4ac256[_0x289217('0xe8')]);MiscUtil['set'](_0x1a7cb9,_0x20b747,..._0xcef331,_0x54d12c);break;}case'set':{MiscUtil[_0x289217('0xc8')](_0x1a7cb9,_0x20b747,..._0xcef331,MiscUtil[_0x289217('0x22')](_0x4ac256[_0x289217('0xe8')]));break;}default:throw new Error(_0x289217('0xcf')+_0x4ac256[_0x289217('0x60')]+'\x22');}});}static[_0x345c36('0xe')](_0x390105,_0x11255c,_0x10294b,_0x335ffc){const _0x7b3d3f=_0x345c36;if(!_0x335ffc['sideData']||!_0x335ffc[_0x7b3d3f('0x31')][_0x7b3d3f('0xe1')])return;return this[_0x7b3d3f('0xc3')](_0x390105,_0x11255c,_0x10294b,_0x335ffc[_0x7b3d3f('0x31')]['skillProficiencies'],_0x335ffc);}static async['_pMutActorUpdate_pMutFromSkillProfs'](_0x301835,_0x19b2b7,_0x180bce,_0x5c31d5,_0xa9e991){const _0x55a293=_0x345c36,_0xfbae6d=MiscUtil['getOrSet'](_0x19b2b7,_0x55a293('0x63'),{});await DataConverter['pFillActorSkillData'](MiscUtil['get'](_0x301835,'data',_0x55a293('0x63'),_0x55a293('0xc0')),_0x5c31d5,_0xfbae6d,_0xa9e991,{'titlePrefix':_0x180bce[_0x55a293('0x48')]+_0x55a293('0xa9')+_0x180bce[_0x55a293('0xcc')]+')'});}static async[_0x345c36('0x53')](_0x48a54b,_0x33e6c6,_0x466d3b,_0x1bbb4c,_0x4b301a){const _0x1cd4bd=_0x345c36,_0x1808a9=MiscUtil['getOrSet'](_0x33e6c6,_0x1cd4bd('0x63'),{});await DataConverter[_0x1cd4bd('0xd6')](MiscUtil['get'](_0x48a54b,'data',_0x1cd4bd('0x63'),_0x1cd4bd('0xb0'),_0x1cd4bd('0x44')),_0x1bbb4c,_0x1808a9,_0x4b301a,{'titlePrefix':_0x466d3b['name']+_0x1cd4bd('0xa9')+_0x466d3b[_0x1cd4bd('0xcc')]+')'});}static async['_pMutActorUpdate_pMutFromEntries'](_0x10ab49,_0x1607df,_0x4781b4,_0x1650f4){const _0x2c7c83=_0x345c36;if(!_0x4781b4[_0x2c7c83('0x55')])return;const _0x28d7c7=new Set(),_0x3ac63f=new Set(),_0x1b0e3a=new Set(),_0x3cb5b5=new Set(),_0xe1d07d=new Set(),_0xf9cee5=new Set(),_0x574b53=new Set(),_0x557b03=new Set(),_0x3d203d=[],_0x5411b0=[],_0x1ab14a=new Set();DataConverter[_0x2c7c83('0xeb')]['walk'](_0x4781b4[_0x2c7c83('0x55')],{'string':_0x52ad94=>{const _0x581839=_0x2c7c83;_0x52ad94['replace'](/(?:you|s?he or s?he) ([^.!?]*? )?gains? proficiency (?:with|in (?:either )?(?: the)?)(.*?)(?:[.!?]|$)/gi,(..._0x46f1e7)=>{const _0x2e4f5a=_0xa38c,[_0x3a1b34,_0x244568,_0x356aab]=_0x46f1e7;if(_0x244568&&_0x244568[_0x2e4f5a('0x81')](/\W/g)['some'](_0x264f78=>_0x264f78[_0x2e4f5a('0xd9')]()[_0x2e4f5a('0x34')]()==='instead'))return;const _0x502d80=this[_0x2e4f5a('0x9f')]('item',_0x356aab);for(const _0x1dc984 of _0x502d80){const _0x29b9b5=DataUtil[_0x2e4f5a('0x5c')]['unpackUid'](_0x1dc984,_0x2e4f5a('0xab')),_0x1c8c36=UrlUtil[_0x2e4f5a('0x79')][UrlUtil[_0x2e4f5a('0xbd')]](_0x29b9b5);_0x28d7c7[_0x2e4f5a('0x58')](_0x1c8c36);}const _0x2ff1db=_0x356aab[_0x2e4f5a('0x81')](/,? and |,? or |, /gi);_0x2ff1db[_0x2e4f5a('0x2d')](_0x3e9140=>_0x3e9140[_0x2e4f5a('0xd9')]()[_0x2e4f5a('0x35')](/^\W+/,'')[_0x2e4f5a('0x35')](/\W+$/,''))['filter'](Boolean)[_0x2e4f5a('0xe3')](_0x30cd80=>{const _0x7721ba=_0x2e4f5a;_0x30cd80=_0x30cd80[_0x7721ba('0x34')]()[_0x7721ba('0xd9')]();switch(_0x30cd80){case _0x7721ba('0x30'):_0x3cb5b5[_0x7721ba('0x58')](_0x7721ba('0xb'));break;case _0x7721ba('0xfa'):_0x3cb5b5[_0x7721ba('0x58')]('sim');break;case _0x7721ba('0xad'):case _0x7721ba('0x87'):_0xf9cee5[_0x7721ba('0x58')](_0x7721ba('0xb2'));break;case _0x7721ba('0x33'):case _0x7721ba('0x7a'):_0xf9cee5[_0x7721ba('0x58')]('med');break;case _0x7721ba('0x46'):case'heavy\x20armor':_0xf9cee5[_0x7721ba('0x58')](_0x7721ba('0xfb'));break;case'shields':_0xf9cee5[_0x7721ba('0x58')]('shl');break;}});let _0x50e97e=![];_0x356aab['replace'](/(?:(one|two|three|four|five|six) )skills? of your choice/gi,(..._0x3a0821)=>{const _0x4109f6=_0x2e4f5a;_0x50e97e=!![];const _0x543748=Parser[_0x4109f6('0x105')](_0x3a0821[0x1]);if(isNaN(_0x543748))return;_0x3d203d[_0x4109f6('0xa8')]([{'choose':{'from':Object[_0x4109f6('0xc9')](Parser[_0x4109f6('0x2c')]),'count':_0x543748}}]);}),!/(^|\W)choice(\W|$)/i[_0x2e4f5a('0x2b')](_0x356aab)&&(_0x50e97e=!![],this[_0x2e4f5a('0xd')](_0x356aab,_0x557b03)),!_0x50e97e&&_0x356aab[_0x2e4f5a('0x35')](/ or (.*?) skills?(\W|$)/i,(..._0x3c0442)=>{const _0x4a3a6b=_0x2e4f5a,_0x48a4e2=new Set();this[_0x4a3a6b('0xd')](_0x3c0442[0x2],_0x48a4e2);if(_0x48a4e2[_0x4a3a6b('0xd0')])_0x3d203d[_0x4a3a6b('0xa8')]([{'choose':{'from':[..._0x48a4e2],'count':count}}]);}),_0x356aab[_0x2e4f5a('0x35')](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throws/i,(..._0x1a2635)=>{const _0x137096=_0x2e4f5a;_0x1ab14a['add'](_0x1a2635[0x1]['toLowerCase']()[_0x137096('0xf3')](0x0,0x3));});}),_0x52ad94[_0x581839('0x35')](/you (?:[^.!?]*? )proficien[^ ]+ in (one|two|three|four|five|six) [^.!?]* skills [^.!?:]*:(.*?)(?:[.!?]|$)/gi,(..._0xef147)=>{const _0x223aa2=_0x581839,_0x3b1def=Parser['textToNumber'](_0xef147[0x1]);if(isNaN(_0x3b1def))return;const _0x88e725=new Set();this['_pMutActorUpdate_addValidSkills'](_0xef147[0x2],_0x88e725);if(_0x88e725[_0x223aa2('0xd0')])_0x3d203d[_0x223aa2('0xa8')]([{'choose':{'from':[..._0x88e725],'count':_0x3b1def}}]);}),_0x52ad94['replace'](/you (?:[^.!?]*? )proficien[^ ]+ (?:[^.!?]*? )choice of (two|three|four|five|six) (?:[^.!?]*? )skills:(.*?)(?:[.!?]|$)/gi,(..._0x4c077b)=>{const _0x3a1a38=_0x581839,_0xc03072=Parser[_0x3a1a38('0x105')](_0x4c077b[0x1]);if(isNaN(_0xc03072))return;const _0x1f7544=new Set();this[_0x3a1a38('0xd')](_0x4c077b[0x2],_0x1f7544);if(_0x1f7544[_0x3a1a38('0xd0')])_0x3d203d[_0x3a1a38('0xa8')]([{'choose':{'from':[..._0x1f7544],'count':_0xc03072}}]);}),_0x52ad94[_0x581839('0x35')](/gain proficiency (?:[^.!?]*?) (one|two|three|four|five|six) (?:[^.!?]*?) following skills(?:[^.!?]*?):(.*?)(?:[.!?]|$)/gi,(..._0x4260e5)=>{const _0x2e9e11=_0x581839,_0x38794d=Parser[_0x2e9e11('0x105')](_0x4260e5[0x1]);if(isNaN(_0x38794d))return;const _0x531df3=new Set();this[_0x2e9e11('0xd')](_0x4260e5[0x2],_0x531df3);if(_0x531df3[_0x2e9e11('0xd0')])_0x3d203d[_0x2e9e11('0xa8')]([{'choose':{'from':[..._0x531df3],'count':_0x38794d}}]);}),_0x52ad94[_0x581839('0x35')](/you learn (an|one|two|three|four|five|six)(?: additional)? language of your choice/gi,(..._0x419f38)=>{const _0x392fe5=_0x581839,_0x2530f3=Parser[_0x392fe5('0x105')](_0x419f38[0x1]);if(isNaN(_0x2530f3))return;_0x5411b0[_0x392fe5('0xa8')]([{'any':_0x2530f3}]);});}});for(const _0x301b63 of _0x28d7c7){const _0x21c5e9=await Renderer[_0x2c7c83('0x1e')][_0x2c7c83('0xda')](UrlUtil[_0x2c7c83('0xbd')],_0x301b63);if(DataConverter[_0x2c7c83('0xa4')][_0x2c7c83('0x38')](_0x21c5e9[_0x2c7c83('0x62')])){const _0x456a46=UtilActors[_0x2c7c83('0xd2')](_0x21c5e9[_0x2c7c83('0x48')]);if(_0x456a46)_0x3ac63f[_0x2c7c83('0x58')](_0x456a46);else _0x1b0e3a[_0x2c7c83('0x58')](_0x21c5e9[_0x2c7c83('0x48')][_0x2c7c83('0x34')]());}DataConverter[_0x2c7c83('0x2')][_0x2c7c83('0x38')](_0x21c5e9[_0x2c7c83('0x62')])&&_0xe1d07d[_0x2c7c83('0x58')](_0x21c5e9[_0x2c7c83('0x48')][_0x2c7c83('0x34')]()+'s');if(DataConverter[_0x2c7c83('0xaf')][_0x2c7c83('0x38')](_0x21c5e9[_0x2c7c83('0x62')])){if(_0x21c5e9[_0x2c7c83('0x48')]===_0x2c7c83('0xf8'))_0xf9cee5['add'](_0x2c7c83('0x43'));else _0x574b53[_0x2c7c83('0x58')](_0x21c5e9[_0x2c7c83('0x48')][_0x2c7c83('0x34')]());}}this['_pMutActorUpdate_mutFromProficiencySetFoundry'](_0x10ab49,_0x1607df,_0x3cb5b5,_0x2c7c83('0x63'),_0x2c7c83('0xb0'),_0x2c7c83('0x9d'),_0x2c7c83('0xe8')),this[_0x2c7c83('0x16')](_0x10ab49,_0x1607df,_0xe1d07d,_0x2c7c83('0x63'),_0x2c7c83('0xb0'),'weaponProf',_0x2c7c83('0x73')),this[_0x2c7c83('0xdb')](_0x10ab49,_0x1607df,_0xf9cee5,_0x2c7c83('0x63'),_0x2c7c83('0xb0'),_0x2c7c83('0xe4'),_0x2c7c83('0xe8')),this[_0x2c7c83('0x16')](_0x10ab49,_0x1607df,_0x574b53,_0x2c7c83('0x63'),_0x2c7c83('0xb0'),'armorProf',_0x2c7c83('0x73')),this['_pMutActorUpdate_mutFromProficiencySetFoundry'](_0x10ab49,_0x1607df,_0x3ac63f,_0x2c7c83('0x63'),_0x2c7c83('0xb0'),_0x2c7c83('0x5d'),_0x2c7c83('0xe8')),this['_pMutActorUpdate_mutFromProficiencySetCustom'](_0x10ab49,_0x1607df,_0x1b0e3a,_0x2c7c83('0x63'),_0x2c7c83('0xb0'),_0x2c7c83('0x5d'),'custom');if(_0x557b03[_0x2c7c83('0xd0')]){const _0x20c1ee=[[..._0x557b03][_0x2c7c83('0xbe')](_0x51f95d=>({[_0x51f95d]:!![]}))];await this[_0x2c7c83('0xc3')](_0x10ab49,_0x1607df,_0x4781b4,_0x20c1ee,_0x1650f4);}if(_0x3d203d[_0x2c7c83('0x54')])for(const _0x2ae836 of _0x3d203d){await this[_0x2c7c83('0xc3')](_0x10ab49,_0x1607df,_0x4781b4,_0x2ae836,_0x1650f4);}if(_0x5411b0[_0x2c7c83('0x54')])for(const _0x3b3f0e of _0x5411b0){await this[_0x2c7c83('0x53')](_0x10ab49,_0x1607df,_0x4781b4,_0x3b3f0e,_0x1650f4);}_0x1ab14a[_0x2c7c83('0xd0')]&&_0x1ab14a[_0x2c7c83('0xe3')](_0xafc42f=>MiscUtil[_0x2c7c83('0xc8')](_0x1607df,'data',_0x2c7c83('0xb6'),_0xafc42f,_0x2c7c83('0xc'),0x1));}static[_0x345c36('0xd')](_0x1bdc7b,_0x3664fc){const _0x1a4e54=_0x345c36,_0x455597=this['getTagUids'](_0x1a4e54('0x107'),_0x1bdc7b);for(const _0x23f1ae of _0x455597){const _0x1ad763=_0x23f1ae[_0x1a4e54('0x81')]('|')[0x0]['toLowerCase'](),_0x136bca=!!Parser['SKILL_TO_ATB_ABV'][_0x1ad763];if(!_0x136bca)continue;_0x3664fc[_0x1a4e54('0x58')](_0x1ad763);}}static['_pMutActorUpdate_mutFromProficiencySetFoundry'](_0x7de96d,_0x1cb73c,_0x29d695,..._0x2ccaed){const _0x341e99=_0x345c36;if(!_0x29d695[_0x341e99('0xd0')])return;const _0x199404=MiscUtil[_0x341e99('0x22')](MiscUtil[_0x341e99('0x93')](_0x7de96d,_0x341e99('0x63'),..._0x2ccaed)||[]),_0x374dbd=MiscUtil[_0x341e99('0x108')](_0x1cb73c,..._0x2ccaed,_0x199404),_0x487caf=new Set([..._0x374dbd,..._0x29d695]);MiscUtil[_0x341e99('0xc8')](_0x1cb73c,..._0x2ccaed,[..._0x487caf]);}static[_0x345c36('0x16')](_0x398515,_0x403bdf,_0x565aa9,..._0xdca922){const _0x20eb58=_0x345c36;if(!_0x565aa9[_0x20eb58('0xd0')])return;const _0x200599=MiscUtil['copy'](MiscUtil['get'](_0x398515,_0x20eb58('0x63'),..._0xdca922)||''),_0x23a751=MiscUtil['get'](_0x403bdf,..._0xdca922)||_0x200599,_0x52465f=_0x23a751[_0x20eb58('0x81')](';')[_0x20eb58('0x2d')](_0x394eb=>_0x394eb[_0x20eb58('0xd9')]())[_0x20eb58('0x9a')](Boolean);[..._0x565aa9][_0x20eb58('0x9a')](_0x3fded2=>!_0x52465f['some'](_0x4c2446=>_0x4c2446['toLowerCase']()[_0x20eb58('0xd9')]()===_0x3fded2[_0x20eb58('0x34')]()[_0x20eb58('0xd9')]()))[_0x20eb58('0xe3')](_0x2f61cf=>_0x52465f[_0x20eb58('0xa8')](_0x2f61cf)),MiscUtil[_0x20eb58('0xc8')](_0x403bdf,..._0xdca922,_0x52465f[_0x20eb58('0x103')](';'));}static[_0x345c36('0x19')](_0x3c859c,_0x295562){const _0x661cf2=_0x345c36;_0x295562=_0x295562||{},_0x295562[_0x661cf2('0xee')]=_0x295562[_0x661cf2('0xee')]||{};let {description:_0x596b2b,activationType:_0xd75fcd,activationCost:_0x3119c1,activationCondition:_0x4c31db,saveAbility:_0x4122ac,saveDc:_0x1d6e38,saveScaling:_0x4a4921,damageParts:_0x5dd16b,attackBonus:_0xb0a0a0,requirements:_0x504669,actionType:_0x59dc11,durationValue:_0x27ae2c,durationUnits:_0xb4d910,consumeType:_0x4ed239,consumeTarget:_0x2421cb,consumeAmount:_0x6e153d,formula:_0x637b91,targetValue:_0x36d5ac,targetUnits:_0xe7a7df,targetType:_0x31a8b5,foundryData:_0x40f161,_foundryData:_0x33036d,foundryFlags:_0x28f0c8,_foundryFlags:_0x2beb83}=_0x295562;const _0x42b7f2=DataConverter['getCombinedFoundryData'](_0x40f161,_0x33036d),_0xcdd8c2=DataConverter[_0x661cf2('0x89')](_0x28f0c8,_0x2beb83);_0x596b2b=_0x596b2b||(_0x295562['isSkipDescription']?'':DataConverter['getEntryDescription'](_0x3c859c,{'depth':_0x295562[_0x661cf2('0xf5')]})),_0xd75fcd=_0xd75fcd||'',_0x3119c1=_0x3119c1||0x0,_0x4c31db=_0x4c31db||'',_0x4122ac=_0x4122ac||'',_0x1d6e38=_0x1d6e38||null,_0x4a4921=_0x4a4921||'',_0x5dd16b=_0x5dd16b||[],_0xb0a0a0=_0xb0a0a0||0x0,_0x504669=_0x504669||'',_0x59dc11=_0x59dc11||'',_0x27ae2c=_0x27ae2c||null,_0xb4d910=_0xb4d910||'',_0x4ed239=_0x4ed239||null,_0x2421cb=_0x2421cb||null,_0x6e153d=_0x6e153d||null,_0x637b91=_0x637b91||'',_0x36d5ac=_0x36d5ac||null,_0xe7a7df=_0xe7a7df||'',_0x31a8b5=_0x31a8b5||'';let _0x17c684=UtilApplications[_0x661cf2('0x17')](DataConverter[_0x661cf2('0xa7')](_0x3c859c));const _0x586b4a=_0x3c859c[_0x661cf2('0x55')]?JSON['stringify'](_0x3c859c[_0x661cf2('0x55')]):null;let _0x5ef66=null;if(_0x3c859c['name']){const _0x109a56=/{@recharge( \d+)?}/gi[_0x661cf2('0xdd')](_0x3c859c[_0x661cf2('0x48')]);_0x109a56&&(_0x5ef66=_0x109a56[0x1]?Number(_0x109a56[0x1]['trim']()):0x6,_0x17c684=_0x17c684[_0x661cf2('0x35')](/\(Recharge \d+(–\d+)?\)/gi,'')[_0x661cf2('0xd9')]()['replace'](/[ ]+/g,'\x20'));}if(_0x3c859c[_0x661cf2('0x55')]){/(?:^|\W)bonus action(?:\W|$)/i['test'](_0x586b4a)&&(_0xd75fcd=_0xd75fcd||_0x661cf2('0x24'),_0x3119c1=_0x3119c1||0x1);if(_0x295562[_0x661cf2('0x60')]===_0x661cf2('0x37')){if(!_0xd75fcd&&!_0x3119c1){const _0x5331f9=DataConverter['WALKER_READONLY_GENERIC'];_0x5331f9[_0x661cf2('0x70')](_0x3c859c[_0x661cf2('0x55')],{'string':_0x40084e=>{const _0x1056cb=_0x661cf2;if(_0xd75fcd)return _0x40084e;const _0x15ed02=_0x40084e[_0x1056cb('0x81')](/[.?!]/g)[_0x1056cb('0x2d')](_0x4c0c35=>_0x4c0c35[_0x1056cb('0xd9')]());for(const _0x5568d1 of _0x15ed02){if(/as an action|can take an action/i[_0x1056cb('0x2b')](_0x5568d1)){_0xd75fcd=_0xd75fcd||_0x1056cb('0x88'),_0x3119c1=_0x3119c1||0x1;break;}const _0x4518e3=/you can use your reaction|using your reaction|you can use this special reaction/i[_0x1056cb('0xdd')](_0x5568d1);if(_0x4518e3){_0xd75fcd=_0xd75fcd||'reaction',_0x3119c1=_0x3119c1||0x1;let _0x162f58=_0x5568d1[_0x1056cb('0xf3')](0x0,_0x4518e3[_0x1056cb('0x3d')])[_0x1056cb('0xd9')]()['replace'](/,$/,'');const _0x5ca51d=/(^|\W)(?:if|when)(?:|\W)/i[_0x1056cb('0xdd')](_0x162f58);_0x5ca51d&&(_0x162f58=_0x162f58[_0x1056cb('0xf3')](_0x5ca51d[_0x1056cb('0x3d')]+_0x5ca51d[0x1][_0x1056cb('0x54')])['trim'](),_0x4c31db=_0x4c31db||_0x162f58);break;}}}});}}}let _0x1b8022=0x0,_0x4f5155=null;_0x295562[_0x661cf2('0x60')]===_0x661cf2('0xb8')&&_0x3c859c[_0x661cf2('0x48')]&&(_0x17c684=_0x17c684['replace'](/\(\s*(\d+)\s*\/\s*(Day|Short Rest|Long Rest)\s*\)/i,(..._0x412fd3)=>{const _0x5edaf9=_0x661cf2;_0x1b8022=Number(_0x412fd3[0x1]);const _0x2902c2=_0x412fd3[0x2][_0x5edaf9('0xd9')]()[_0x5edaf9('0x34')]();switch(_0x2902c2){case _0x5edaf9('0x8d'):_0x4f5155='day';break;case _0x5edaf9('0x29'):_0x4f5155='sr';break;case _0x5edaf9('0xf1'):_0x4f5155='lr';break;}return'';}),!_0x4f5155&&(_0x17c684=_0x17c684['replace'](/\(\s*(\d+)\s+Charges\s*\)/i,(..._0x40c5c7)=>{const _0x1f04ac=_0x661cf2;return _0x1b8022=Number(_0x40c5c7[0x1]),_0x4f5155=_0x1f04ac('0xba'),'';})),_0x4f5155&&(_0x17c684=_0x17c684['trim']()[_0x661cf2('0x35')](/[ ]+/g,'\x20'),_0xd75fcd=_0xd75fcd||_0x661cf2('0x66'),_0x3c859c[_0x661cf2('0x55')]&&typeof _0x3c859c[_0x661cf2('0x55')][0x0]===_0x661cf2('0x69')&&/^(?:If |When )/i['test'](_0x3c859c['entries'][0x0]['trim']())&&(_0x4c31db=_0x3c859c['entries'][0x0][_0x661cf2('0xd9')]())),/legendary resistance/gi['test'](_0x17c684)&&(_0x1b8022=0x0,_0x4f5155=null));if(_0x295562[_0x661cf2('0x60')]===_0x661cf2('0x37')&&_0x3c859c[_0x661cf2('0x55')]){const _0x118220=/finish a short rest/['test'](_0x586b4a)||/finish a short or long rest/['test'](_0x586b4a)||/finish a short rest or a long rest/[_0x661cf2('0x2b')](_0x586b4a)||/finish a short or long rest/[_0x661cf2('0x2b')](_0x586b4a),_0x19cc09=!_0x118220&&/finish a long rest/['test'](_0x586b4a);if(_0x118220)_0x4f5155='sr';else{if(_0x19cc09)_0x4f5155='lr';}const _0x178a94=new RegExp(_0x661cf2('0xb4')+Consts[_0x661cf2('0x8')][_0x661cf2('0x2d')](_0x8f5ce4=>_0x8f5ce4['tokens']['join']('\x20'))['join']('|')+_0x661cf2('0x64')+Consts[_0x661cf2('0x8')]['map'](_0x66e02f=>_0x66e02f[_0x661cf2('0x26')]['join']('\x20'))['join']('|')+_0x661cf2('0x6a'),'i'),_0x1cd418=_0x178a94[_0x661cf2('0xdd')](_0x586b4a);if(_0x1cd418&&_0x295562[_0x661cf2('0x57')]){const _0x368259=_0x1cd418[0x2][_0x661cf2('0xf3')](0x0,0x3)[_0x661cf2('0x34')](),_0x3409c1=MiscUtil[_0x661cf2('0x93')](_0x295562[_0x661cf2('0x57')],_0x661cf2('0x63'),_0x661cf2('0x63'),'abilities',_0x368259,_0x661cf2('0xe8'));if(_0x3409c1!=null){let _0x58139f=Parser[_0x661cf2('0xc2')](_0x3409c1);if(_0x1cd418[0x1]){const _0x2cdef1=(Consts[_0x661cf2('0x8')][_0x661cf2('0x76')](_0x2eb6cb=>_0x2eb6cb['tokens'][_0x661cf2('0x103')]('\x20')===_0x1cd418[0x1]['trim']()[_0x661cf2('0x34')]())||{})['count']||0x1;_0x58139f=_0x58139f*_0x2cdef1;}if(_0x1cd418[0x3]){const _0x8032b6=(Consts[_0x661cf2('0x8')][_0x661cf2('0x76')](_0x2b3d16=>_0x2b3d16[_0x661cf2('0x26')][_0x661cf2('0x103')]('\x20')===_0x1cd418[0x3][_0x661cf2('0xd9')]()[_0x661cf2('0x34')]())||{})[_0x661cf2('0x51')]||0x1;_0x58139f=Math['max'](_0x8032b6,_0x58139f);}_0x1b8022=_0x58139f;}}}_0x295562[_0x661cf2('0x60')]===_0x661cf2('0x37')&&_0x3c859c[_0x661cf2('0x55')]&&DataConverter[_0x661cf2('0xeb')][_0x661cf2('0x70')](_0x3c859c[_0x661cf2('0x55')],{'object':_0x3c0304=>{const _0x26e566=_0x661cf2;if(_0x3c0304[_0x26e566('0x62')]!==_0x26e566('0x18'))return _0x3c0304;if(_0x59dc11&&_0x4a4921)return _0x3c0304;return _0x59dc11=_0x59dc11||'save',_0x4a4921=_0x3c0304[_0x26e566('0x100')][0x0],_0x3c0304;},'string':_0x12b616=>{const _0x407290=_0x661cf2;if(_0x59dc11&&_0x4122ac&&_0x4a4921)return _0x12b616;return _0x12b616[_0x407290('0x35')](/8\s*\+\s*your proficiency bonus\s*\+\s*your (.*?) modifier/i,(..._0xe25de1)=>{const _0x419494=_0x407290,_0x3bb3be=[];_0xe25de1[0x1][_0x419494('0x35')](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/i,(..._0x3421b9)=>{const _0x32795a=_0x419494;_0x3bb3be[_0x32795a('0xa8')](_0x3421b9[0x1]['toLowerCase']()[_0x32795a('0xf3')](0x0,0x3));});if(!_0x3bb3be[_0x419494('0x54')])return;_0x59dc11=_0x59dc11||_0x419494('0x1a'),_0x4a4921=_0x3bb3be[0x0];}),_0x12b616['replace'](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throw against your (.*? )spell save DC/i,(..._0x56340c)=>{const _0x38c35a=_0x407290;_0x59dc11=_0x59dc11||_0x38c35a('0x1a'),_0x4122ac=_0x4122ac||_0x56340c[0x1][_0x38c35a('0x34')]()['slice'](0x0,0x3),_0x4a4921=_0x4a4921||_0x38c35a('0xe7');}),_0x295562[_0x407290('0xee')][_0x407290('0xa3')]&&_0x12b616[_0x407290('0x35')](/(?:make a|succeed on a) (Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throw/gi,(..._0x1a4291)=>{const _0x402480=_0x407290;_0x59dc11=_0x59dc11||'save',_0x4122ac=_0x4122ac||_0x1a4291[0x1][_0x402480('0x34')]()[_0x402480('0xf3')](0x0,0x3),_0x4a4921=_0x4a4921||_0x402480('0xe7');}),_0x12b616;}});_0x295562[_0x661cf2('0x60')]===_0x661cf2('0xb8')&&_0x3c859c[_0x661cf2('0x55')]&&_0x586b4a['replace'](/{@dc ([-+]?\s*\d+)}\s+(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/,(..._0x46ce22)=>{const _0x16cda4=_0x661cf2,_0x480946=Number(_0x46ce22[0x1][_0x16cda4('0x35')](/\s*/g,''));if(isNaN(_0x480946))return;_0x59dc11=_0x59dc11||_0x16cda4('0x1a'),_0x4122ac=_0x4122ac||_0x46ce22[0x2][_0x16cda4('0x34')]()[_0x16cda4('0xf3')](0x0,0x3),_0x1d6e38=_0x480946;if(_0x295562['pb']==null||_0x295562[_0x16cda4('0x97')]==null||Parser[_0x16cda4('0x3f')][_0x16cda4('0x40')](_0x4a453c=>_0x295562['entity'][_0x4a453c]==null)){_0x4a4921=_0x16cda4('0x2f');return;}const _0x39fefa=_0x480946-_0x295562['pb']-0x8,_0x36492e=Parser['ABIL_ABVS'][_0x16cda4('0x2d')](_0x8a74d=>({'ability':_0x8a74d,'bonus':Parser[_0x16cda4('0xc2')](_0x295562[_0x16cda4('0x97')][_0x8a74d])})),_0x39f6fc=_0x36492e[_0x16cda4('0x9a')](_0x2550ef=>_0x2550ef[_0x16cda4('0x24')]===_0x39fefa);if(_0x39f6fc[_0x16cda4('0x54')]===0x1)_0x4a4921=_0x4a4921||_0x39f6fc[0x0][_0x16cda4('0x61')];else _0x4a4921=_0x16cda4('0x2f');});_0x295562['mode']===_0x661cf2('0x37')&&_0x3c859c['entries']&&DataConverter['WALKER_READONLY_GENERIC'][_0x661cf2('0x70')](_0x3c859c[_0x661cf2('0x55')],{'string':_0x2bba66=>{const _0x365928=_0x661cf2;if(_0x27ae2c||_0xb4d910)return;_0x2bba66['replace'](/(?:^|\W)lasts for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x1b15d4)=>{const _0x46e9c5=_0xa38c;_0x27ae2c=Number(_0x1b15d4[0x1]),_0xb4d910=_0x1b15d4[0x2][_0x46e9c5('0x34')]();}),_0x2bba66[_0x365928('0x35')](/(?:^|\W)for the next (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x2cae49)=>{const _0x114edf=_0x365928;_0x27ae2c=Number(_0x2cae49[0x1]),_0xb4d910=_0x2cae49[0x2][_0x114edf('0x34')]();}),_0x2bba66[_0x365928('0x35')](/(?:^|\W)turned for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0xc17f4c)=>{const _0x12fbac=_0x365928;_0x27ae2c=Number(_0xc17f4c[0x1]),_0xb4d910=_0xc17f4c[0x2][_0x12fbac('0x34')]();}),_0x2bba66['replace'](/(?:^|\W)this effect lasts for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x136929)=>{const _0x3eb7cc=_0x365928;_0x27ae2c=Number(_0x136929[0x1]),_0xb4d910=_0x136929[0x2][_0x3eb7cc('0x34')]();}),_0x2bba66[_0x365928('0x35')](/(?:^|\W)until the end of your next turn(?:\W|$)/gi,()=>{const _0x33bfb9=_0x365928;_0x27ae2c=0x1,_0xb4d910=_0x33bfb9('0x4e');}),Renderer[_0x365928('0x4')](_0x2bba66)[_0x365928('0x35')](/(?:^|\W)is \w+ by you for (\d+) (minute|hour|day|month|year|turn|round)s(?:\W|$)/gi,(..._0x20f828)=>{const _0x273c74=_0x365928;_0x27ae2c=Number(_0x20f828[0x1]),_0xb4d910=_0x20f828[0x2][_0x273c74('0x34')]();});}});_0x295562[_0x661cf2('0x60')]==='player'&&_0x3c859c[_0x661cf2('0x55')]&&DataConverter['WALKER_READONLY_GENERIC'][_0x661cf2('0x70')](_0x3c859c[_0x661cf2('0x55')],{'string':_0x34671a=>{const _0x53ae3c=_0x661cf2;if(_0x4ed239||_0x2421cb||_0x6e153d)return;_0x34671a[_0x53ae3c('0x35')](/(?:(\d+) to )?(\d+) (?:ki|sorcery) point/i,(..._0x28e2cf)=>{const _0x36d700=_0x53ae3c;_0x4ed239=_0x36d700('0xac'),_0x2421cb=_0x36d700('0xff'),_0x6e153d=Number(_0x28e2cf[0x1]||_0x28e2cf[0x2]);});}});let _0x141a3f=_0x586b4a;if((_0x295562['mode']==='player'||_0x295562[_0x661cf2('0x60')]===_0x661cf2('0xf0'))&&_0x3c859c[_0x661cf2('0x55')]&&!_0x5dd16b[_0x661cf2('0x54')]){const {str:_0x114162,damageTuples:_0x180ecd}=DataConverter[_0x661cf2('0x2a')](_0x586b4a);_0x141a3f=_0x114162,_0x5dd16b=_0x180ecd;}return(_0x295562[_0x661cf2('0x60')]===_0x661cf2('0x37')||_0x295562[_0x661cf2('0x60')]===_0x661cf2('0xf0'))&&_0x3c859c['entries']&&!_0x637b91&&_0x141a3f[_0x661cf2('0x35')](/{(?:@dice|@scaledice) ([^}]+)}/i,(..._0x306411)=>{const _0x4f8903=_0x661cf2,[_0x4949b3]=_0x306411[0x1][_0x4f8903('0x81')]('|');_0x637b91=_0x4949b3;}),_0x586b4a&&_0x586b4a[_0x661cf2('0x35')](/exhales [^.]*in a (\d+)-foot[- ](cone|line)/,(..._0x1b5898)=>{_0x36d5ac=_0x36d5ac||Number(_0x1b5898[0x1]),_0xe7a7df=_0xe7a7df||'ft',_0x31a8b5=_0x31a8b5||_0x1b5898[0x2];}),{'name':_0x17c684,'type':_0x295562['fvttType'],'data':{'source':_0x295562[_0x661cf2('0x56')]?Parser[_0x661cf2('0x5b')](_0x295562['source']):'','description':{'value':_0x596b2b,'chat':'','unidentified':''},'damage':{'parts':_0x5dd16b,'versatile':''},'duration':{'value':_0x27ae2c,'units':_0xb4d910},'range':{'value':null,'long':null,'units':''},'requirements':_0x504669,'save':{'ability':_0x4122ac,'dc':_0x1d6e38,'scaling':_0x4a4921||_0x661cf2('0x2f')},'activation':{'type':_0xd75fcd,'cost':_0x3119c1,'condition':_0x4c31db},'target':{'value':_0x36d5ac,'units':_0xe7a7df,'type':_0x31a8b5},'uses':{'value':_0x1b8022,'max':_0x1b8022,'per':_0x4f5155},'ability':'','actionType':_0x59dc11||_0x661cf2('0x14'),'attackBonus':_0xb0a0a0,'chatFlavor':'','critical':null,'formula':_0x637b91,'recharge':{'value':_0x5ef66,'charged':_0x5ef66!=null},'consume':{'type':_0x4ed239,'target':_0x2421cb,'amount':_0x6e153d},..._0x42b7f2||{},..._0x295562[_0x661cf2('0xa')]||{}},'img':_0x295562[_0x661cf2('0x1c')],'flags':{..._0xcdd8c2||{}},'effects':[]};}static['_getAdventureBookJournals'](_0x2b5f7a,_0x1e1927,_0x72d6f5,_0x3059df){const _0x5c47b4=_0x345c36,_0x112c9d=_0x72d6f5==='adventure'?'importAdventure':'importBook',_0x151f0c=[],_0x61e221=_0x1e1927['contents'],_0x51d5b7=Math[_0x5c47b4('0xb3')](_0x61e221[_0x5c47b4('0x54')],_0x2b5f7a[_0x5c47b4('0x54')]);for(let _0x464c04=0x0;_0x464c04<_0x51d5b7;++_0x464c04){const _0xe680ac=_0x61e221[_0x464c04],_0x58dc0c=_0x2b5f7a[_0x464c04],_0x4769d6={'name':UtilApplications[_0x5c47b4('0x17')](''+Parser[_0x5c47b4('0xc4')](_0xe680ac[_0x5c47b4('0x49')])+_0xe680ac['name']),'permission':{'default':0x0},'entryTime':Date[_0x5c47b4('0x6c')](),'content':(_0x5c47b4('0xe2')+Renderer[_0x5c47b4('0x93')]()['setFirstSection'](!![])[_0x5c47b4('0x5f')](_0x58dc0c)+_0x5c47b4('0xaa'))[_0x5c47b4('0x35')](new RegExp(DataConverter[_0x5c47b4('0x20')],'g'),'@')};if(_0x3059df[_0x5c47b4('0x72')])_0x4769d6[_0x5c47b4('0xa2')]={'default':Config[_0x5c47b4('0x93')](_0x112c9d,_0x5c47b4('0x7f'))};_0x151f0c[_0x5c47b4('0xa8')](_0x4769d6);}return _0x151f0c;}static[_0x345c36('0x2e')](_0x386095,_0x254e15,_0xcfad05){const _0x46f944=_0x345c36;return this[_0x46f944('0xd3')](_0x386095,_0x254e15,_0x46f944('0xb5'),_0xcfad05);}static['getBookJournals'](_0x2d480a,_0x99489f,_0x28df13){const _0x595744=_0x345c36;return this[_0x595744('0xd3')](_0x2d480a,_0x99489f,_0x595744('0xcb'),_0x28df13);}static async[_0x345c36('0x5e')](_0x22e759,_0x3c9e43,_0x59594c,_0x2a3c3a){const _0x367215=_0x345c36;if(!_0x3c9e43||!_0x3c9e43['length'])return;const _0x53f687=await Charactermancer_AbilityScoreSelect[_0x367215('0x3a')](_0x3c9e43);if(!_0x53f687)return _0x2a3c3a[_0x367215('0xe0')]=!![];if(_0x53f687===VeCt[_0x367215('0x6e')])return;_0x59594c[_0x367215('0xb6')]=_0x59594c[_0x367215('0xb6')]||{},Parser[_0x367215('0x3f')][_0x367215('0x9a')](_0x2b5928=>_0x53f687['data'][_0x2b5928])[_0x367215('0xe3')](_0x3e6383=>_0x59594c[_0x367215('0xb6')][_0x3e6383]={'value':UtilActors[_0x367215('0x6f')](_0x22e759,_0x3e6383)+_0x53f687[_0x367215('0x63')][_0x3e6383]});}static async['pFillActorSkillData'](_0x1cbb4d,_0x1d42b9,_0x3b8e5f,_0x413989,_0x385e85){const _0x39c52d=_0x345c36;_0x385e85=_0x385e85||{};if(!_0x1d42b9)return{};const _0x29e54c=await Charactermancer_SkillSelect[_0x39c52d('0x3a')]({..._0x385e85,'existingProficienciesFvtt':_0x1cbb4d,'availableProficiencies':_0x1d42b9});if(!_0x29e54c)return _0x413989[_0x39c52d('0xe0')]=!![];if(_0x29e54c===VeCt['SYM_UI_SKIP'])return;const _0x50bbf5={};return _0x3b8e5f['skills']=_0x3b8e5f['skills']||{},Object[_0x39c52d('0x55')](UtilActors['SKILL_ABV_TO_FULL'])[_0x39c52d('0x9a')](([_0xd326ed,_0x2bb160])=>_0x29e54c[_0x39c52d('0x63')][_0x2bb160])[_0x39c52d('0xe3')](([_0x59d2c8,_0x4f7dfe])=>{const _0x4f43c5=_0x39c52d;_0x50bbf5[_0x59d2c8]=_0x29e54c[_0x4f43c5('0x63')][_0x4f7dfe];const _0xb6f255=Math[_0x4f43c5('0x9c')]((_0x1cbb4d[_0x59d2c8]||{})['value']||0x0,_0x29e54c['data'][_0x4f7dfe]?0x1:0x0,(_0x3b8e5f['skills'][_0x59d2c8]||{})[_0x4f43c5('0xe8')]||0x0),_0x58f7d9=_0xb6f255>(MiscUtil['get'](_0x3b8e5f['skills'],_0x59d2c8,_0x4f43c5('0xe8'))||0x0);if(_0x58f7d9)(_0x3b8e5f[_0x4f43c5('0xc0')][_0x59d2c8]=_0x3b8e5f[_0x4f43c5('0xc0')][_0x59d2c8]||{})[_0x4f43c5('0xe8')]=_0xb6f255;}),_0x50bbf5;}static async['pFillActorLanguageData'](_0x20544a,_0xec90c5,_0x102d0b,_0x2d789d,_0x4386e7){const _0x2fabc2=_0x345c36;_0x4386e7=_0x4386e7||{};const _0x2c1e2f=await Charactermancer_LanguageSelect['pGetUserInput']({..._0x4386e7,'existingProficienciesFvtt':_0x20544a,'availableProficiencies':_0xec90c5});if(!_0x2c1e2f)return _0x2d789d[_0x2fabc2('0xe0')]=!![];if(_0x2c1e2f===VeCt['SYM_UI_SKIP'])return;this[_0x2fabc2('0xbf')](_0x20544a,_0x2c1e2f,_0x102d0b,{'fnGetMappedItem':_0x4b1471=>UtilActors[_0x2fabc2('0xef')](_0x4b1471),'actorTraitProp':'languages'});}static async[_0x345c36('0x6')](_0x1fd542,_0x392437,_0x258fb4,_0x14d04e,_0x322704){const _0x4aac3d=_0x345c36;_0x322704=_0x322704||{};const _0x38b8ab=await Charactermancer_ToolSelect[_0x4aac3d('0x3a')]({..._0x322704,'existingProficienciesFvtt':_0x1fd542,'availableProficiencies':_0x392437});if(!_0x38b8ab)return _0x14d04e[_0x4aac3d('0xe0')]=!![];if(_0x38b8ab===VeCt[_0x4aac3d('0x6e')])return;this[_0x4aac3d('0xbf')](_0x1fd542,_0x38b8ab,_0x258fb4,{'fnGetMappedItem':_0x4aba4f=>UtilActors[_0x4aac3d('0xd2')](_0x4aba4f),'actorTraitProp':_0x4aac3d('0x5d')});}static['_doApplyFormData'](_0x5e191e,_0x36fca9,_0x14f771,_0x5d65e8){const _0x1d307c=_0x345c36;if(!_0x36fca9)return![];_0x5e191e=_0x5e191e||{};const _0x158008=MiscUtil[_0x1d307c('0x22')](_0x36fca9[_0x1d307c('0x63')]),_0x24e4cb=new Set();Object[_0x1d307c('0xc9')](_0x158008)[_0x1d307c('0x9a')](_0x48779a=>_0x158008[_0x48779a])[_0x1d307c('0xe3')](_0x3e1858=>_0x24e4cb[_0x1d307c('0x58')](_0x3e1858));const _0x289076=new Set(),_0x94752a=[];(_0x5e191e[_0x1d307c('0xe8')]||[])[_0x1d307c('0xe3')](_0x1a25c9=>_0x289076[_0x1d307c('0x58')](_0x1a25c9)),(_0x5e191e[_0x1d307c('0x73')]||'')[_0x1d307c('0x81')](';')['map'](_0x23f2bd=>_0x23f2bd[_0x1d307c('0xd9')]())[_0x1d307c('0x9a')](Boolean)['forEach'](_0x4addba=>this[_0x1d307c('0x71')](_0x94752a,_0x4addba)),_0x24e4cb[_0x1d307c('0xe3')](_0x194d7f=>{const _0x1b5f37=_0x1d307c,_0x14eda3=_0x5d65e8[_0x1b5f37('0x28')](_0x194d7f);if(_0x14eda3)_0x289076[_0x1b5f37('0x58')](_0x14eda3);else this[_0x1b5f37('0x71')](_0x94752a,_0x194d7f[_0x1b5f37('0xc7')]());});const _0x427a1f=(_0x14f771[_0x1d307c('0xb0')]=_0x14f771['traits']||{})[_0x5d65e8['actorTraitProp']]=_0x14f771[_0x1d307c('0xb0')][_0x5d65e8[_0x1d307c('0x6b')]]||{};_0x427a1f[_0x1d307c('0xe8')]=[..._0x289076]['map'](_0x716620=>_0x716620['toLowerCase']())['sort'](SortUtil[_0x1d307c('0xed')]),_0x427a1f[_0x1d307c('0x73')]=_0x94752a[_0x1d307c('0x103')](';');}static[_0x345c36('0x71')](_0x2d735c,_0x31ac25){const _0x39f29b=_0x345c36,_0x2ad565=_0x31ac25[_0x39f29b('0xd9')]()[_0x39f29b('0x34')]();if(!_0x2d735c[_0x39f29b('0x40')](_0x4d8de5=>_0x4d8de5[_0x39f29b('0xd9')]()[_0x39f29b('0x34')]()===_0x2ad565))_0x2d735c[_0x39f29b('0xa8')](_0x31ac25);}static async['pFillActorImmunityData'](_0x3ad8e3,_0x5e8a5a,_0x1e05e0,_0x3e7d56){const _0x3ec0bf=_0x345c36,_0x34e789=await Charactermancer_DamageImmunitySelect[_0x3ec0bf('0x3a')]({'existingFvtt':_0x3ad8e3,'available':_0x5e8a5a});if(!_0x34e789)return _0x3e7d56[_0x3ec0bf('0xe0')]=!![];if(_0x34e789===VeCt[_0x3ec0bf('0x6e')])return;const _0xef7c3c=MiscUtil[_0x3ec0bf('0x108')](_0x1e05e0,'traits','di',{});_0xef7c3c[_0x3ec0bf('0xe8')]=[...Object[_0x3ec0bf('0xc9')](_0x34e789[_0x3ec0bf('0x63')]||{})];}static async[_0x345c36('0x80')](_0x315748,_0x3afdc6,_0x50290a,_0x3f6c65){const _0x473013=_0x345c36,_0x37565f=await Charactermancer_DamageResistanceSelect[_0x473013('0x3a')]({'existingFvtt':_0x315748,'available':_0x3afdc6});if(!_0x37565f)return _0x3f6c65[_0x473013('0xe0')]=!![];if(_0x37565f===VeCt[_0x473013('0x6e')])return;const _0x310c11=MiscUtil[_0x473013('0x108')](_0x50290a,_0x473013('0xb0'),'dr',{});_0x310c11[_0x473013('0xe8')]=[...Object[_0x473013('0xc9')](_0x37565f[_0x473013('0x63')]||{})];}static async[_0x345c36('0x13')](_0x307f9d,_0x4d5738,_0x4c7408,_0x10f17c){const _0x2b6c63=_0x345c36,_0x5264b0=await Charactermancer_DamageVulnerabilitySelect[_0x2b6c63('0x3a')]({'existingFvtt':_0x307f9d,'available':_0x4d5738});if(!_0x5264b0)return _0x10f17c[_0x2b6c63('0xe0')]=!![];if(_0x5264b0===VeCt[_0x2b6c63('0x6e')])return;const _0x53d483=MiscUtil[_0x2b6c63('0x108')](_0x4c7408,'traits','dv',{});_0x53d483[_0x2b6c63('0xe8')]=[...Object[_0x2b6c63('0xc9')](_0x5264b0['data']||{})];}static async[_0x345c36('0x32')](_0x5b7a5f,_0x58d85f,_0x176020,_0x259fdd){const _0xaf8433=_0x345c36,_0x790a26=await Charactermancer_ConditionImmunitySelect[_0xaf8433('0x3a')]({'existingFvtt':_0x5b7a5f,'available':_0x58d85f});if(!_0x790a26)return _0x259fdd[_0xaf8433('0xe0')]=!![];if(_0x790a26===VeCt['SYM_UI_SKIP'])return;const _0x3f64f4=MiscUtil[_0xaf8433('0x108')](_0x176020,_0xaf8433('0xb0'),'ci',{});_0x3f64f4[_0xaf8433('0xe8')]=[...Object['keys'](_0x790a26[_0xaf8433('0x63')]||{})[_0xaf8433('0x2d')](_0x3e420d=>_0x3e420d===_0xaf8433('0x9')?'diseased':_0x3e420d)];}static[_0x345c36('0x2a')](_0x3c9278){const _0x2bd1f5=_0x345c36,_0x3a98f2=[],_0x9ee842=_0x3c9278[_0x2bd1f5('0x35')](/(?:(\d+)|\(?{@(?:dice|damage) ([^}]+)}(?:\s+[-+]\s+the spell's level)?(?: plus {@(?:dice|damage) ([^}]+)})?\)?)(?:\s+[-+]\s+[-+a-zA-Z0-9 ]*?)? ([^ ]+) damage/gi,(..._0x3de435)=>{const _0x4ea297=_0x2bd1f5,_0x52899b=_0x3de435[0x1]!=null,_0x48c1e7=_0x52899b?_0x3de435[0x1]:_0x3de435[0x3]?_0x3de435[0x2]+_0x4ea297('0xf9')+_0x3de435[0x3]:_0x3de435[0x2];if(_0x52899b){const _0x1f88ee=_0x3de435[0x5],_0x3d8bf4=_0x3c9278['split'](/( )/g);let _0xfc445a=0x0;const _0x5a7017=[];for(let _0x292f31=0x0;_0x292f31<_0x3d8bf4[_0x4ea297('0x54')];++_0x292f31){_0x5a7017[_0x4ea297('0xa8')](_0x3d8bf4[_0x292f31]),_0xfc445a+=_0x3d8bf4[_0x292f31][_0x4ea297('0x54')];if(_0xfc445a===_0x1f88ee){const _0x54a494=_0x5a7017[_0x4ea297('0xf3')](-0x4);if(/^by dealing$/i['test'](_0x54a494['join']('')[_0x4ea297('0xd9')]()))return'';}}}const _0x3948d3=_0x3de435[0x4];return _0x3a98f2[_0x4ea297('0xa8')]([_0x48c1e7,_0x3948d3]),'';});return{'str':_0x9ee842,'damageTuples':_0x3a98f2[_0x2bd1f5('0x9a')](_0x5aeff0=>_0x5aeff0[_0x2bd1f5('0x54')])};}static[_0x345c36('0x7')](_0x254704,_0x5a45da){const _0x178f98=_0x345c36;if(typeof _0x254704===_0x178f98('0x4d'))return _0x5a45da==='walk'?_0x254704:null;_0x254704=_0x254704[_0x5a45da];if(_0x254704==null)return null;if(_0x254704[_0x178f98('0x4d')]!=null)return _0x254704[_0x178f98('0x4d')];return Number(_0x254704);}static[_0x345c36('0xb9')](_0xdde612){const _0x178249=_0x345c36;if(typeof _0xdde612==='number')return![];return!!_0xdde612[_0x178249('0xce')];}static[_0x345c36('0x23')](_0x5ced17){const _0x492092=_0x345c36;let _0x31ed4e=0x0,_0x4c75e4=0x0;const _0x122872=/range (\d+)\/(\d+) ft/gi[_0x492092('0xdd')](_0x5ced17);if(_0x122872)_0x31ed4e=Number(_0x122872[0x1]),_0x4c75e4=Number(_0x122872[0x2]);else{const _0x39db43=/reach (\d+) ft/gi[_0x492092('0xdd')](_0x5ced17);_0x39db43&&(_0x31ed4e=Number(_0x39db43[0x1]));}return{'rangeShort':_0x31ed4e,'rangeLong':_0x4c75e4};}static['getAttackActionType'](_0x2d3a12){const _0x3d4ea6=_0x345c36;let _0x5ccf94='',_0x313069=![];const _0x8e1348=/{@atk ([^}]+)}/gi['exec'](_0x2d3a12);if(_0x8e1348){_0x313069=!![];if(_0x8e1348[0x1]['includes']('s')){if(_0x8e1348[0x1][_0x3d4ea6('0x86')]('m'))_0x5ccf94=_0x3d4ea6('0xc5');else _0x5ccf94=_0x3d4ea6('0xfc');}else{if(_0x8e1348[0x1][_0x3d4ea6('0x86')]('m'))_0x5ccf94=_0x3d4ea6('0x9b');else{if(_0x8e1348[0x1][_0x3d4ea6('0x86')]('r'))_0x5ccf94='rwak';}}}return{'actionType':_0x5ccf94,'isAttack':_0x313069};}static[_0x345c36('0xdc')](_0x30105c){const _0x4f2e32=_0x345c36;return _0x30105c=MiscUtil['copy'](_0x30105c),Object[_0x4f2e32('0xc9')](_0x30105c)[_0x4f2e32('0x9a')](_0x513878=>/^_f[A-Z]/['test'](_0x513878))[_0x4f2e32('0xe3')](_0x4d28df=>delete _0x30105c[_0x4d28df]),this[_0x4f2e32('0x21')](_0x30105c),_0x30105c;}static[_0x345c36('0x21')](_0x2ec001){const _0x51ffc0=_0x345c36;if(_0x2ec001==null)return;if(typeof _0x2ec001!==_0x51ffc0('0x8a'))return;_0x2ec001 instanceof Array?_0x2ec001['forEach'](_0x4d9253=>this['_getCleanOriginalData_recurse'](_0x4d9253)):Object[_0x51ffc0('0x55')](_0x2ec001)['forEach'](([_0x4dacbd,_0x100210])=>{const _0x2596f8=_0x51ffc0;if(_0x4dacbd[_0x2596f8('0x86')]('$'))delete _0x2ec001[_0x4dacbd],console[_0x2596f8('0x78')](...LGT,'Removed\x20key\x20\x22'+_0x4dacbd+'\x22\x20from\x20object');else this[_0x2596f8('0x21')](_0x100210);});}}DataConverter[_0x345c36('0xeb')]=MiscUtil[_0x345c36('0x5a')]({'isNoModification':!![],'keyBlacklist':MiscUtil[_0x345c36('0xf2')]}),DataConverter[_0x345c36('0x20')]=_0x345c36('0x36'),DataConverter[_0x345c36('0x4b')]='img',DataConverter['_COMPENDIUM_CACHE_KEY_DATA']=_0x345c36('0x63'),DataConverter[_0x345c36('0xb7')]={},DataConverter['_COMPENDIUM_CACHES']={},DataConverter[_0x345c36('0x102')]=new VeLock(),DataConverter[_0x345c36('0x75')]={},DataConverter['_COMPENDIUM_ACTOR_CACHES']={},DataConverter[_0x345c36('0xf4')]=new VeLock(),DataConverter[_0x345c36('0x95')]=_0x345c36('0x4a'),DataConverter[_0x345c36('0x77')]=new RegExp(DataConverter[_0x345c36('0x95')]+_0x345c36('0x7c')),DataConverter[_0x345c36('0xa4')]=new Set(['AT','GS',_0x345c36('0x98'),'T']),DataConverter[_0x345c36('0x2')]=new Set(['M','R']),DataConverter[_0x345c36('0xaf')]=new Set(['LA','MA','HA','S']);export{DataConverter};