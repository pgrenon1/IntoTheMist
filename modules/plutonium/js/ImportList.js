const _0xff67=['then','_$btnToggleSummary','_$wrpList','actors','_pHandleClickRunButton','toString','page','isActorRadio','pSetClient','_initCreateSheetItemHook','TASK_EXIT_COMPLETE_UPDATE_OVERWRITE','hover','cbSel','trim','filterBox','join','Please\x20select\x20something\x20from\x20the\x20list!','insert','Ambiguous\x20folder\x20path!\x20Found\x20multiple\x20folders\x20for\x20','sidebar','isEscapeable','cacheKey','showVe','doAbsorbItems','userData','_pHandleClickRunButton_doDumpPackCache','_pImportEntry_pImportToDirectoryGeneric','_isNonCacheableInstance','_folderPathSpec','imported','_getDuplicateMeta_getEntityKey','journal','preventDefault','DataSourceFile','slice','hideVe','[name=\x22btn-toggle-summary\x22]','init','constructor','Either\x20\x22name\x22\x20and\x20\x22source\x22,\x20or\x20\x22entity\x22,\x20must\x20be\x20provided!','_titleSearch','_sidebarTab','url','[name=\x22btn-run\x22]','mouseleave','mousemove','isNonCacheableInstance','pGetUserBoolean','preCreateOwnedItem','One\x20of\x20\x22props\x22\x20or\x20\x22namespace\x22\x20must\x20be\x20provided!','error','./ChooseImporter.js','sourceShort','[name=\x22btn-filter\x22]','SOURCE_TYP_BREW','_$wrpRun','pGetClient','remove','_pHandleClickRunButton_pDoPreCachePack','SOURCE_TYP_OFFICIAL_ALL','C_IMPORT_DEDUPE_MODE_OVERWRITE','actor','_content','pRunTasks','_$btnRunWithMods','items','C_IMPORT_DEDUPE_MODE_NONE','_fnListSort','addEventListener','copy','SOURCE_TYP_ARCANA','forEach','existing','pInit','Please\x20select\x20something\x20to\x20import!','handleLinkMouseLeave','folderType','filter','dragDropMode','text-center','initBtnSortHandlers','_namespace','Source','UA/Etc.','MODULE_LOCATION','_pack','_packCache','create','getFolderPathMeta','last','_list','_isRadio','_activateListeners_initList','_$cbAll','checked','\x20(Single\x20Source)','C_IMPORT_DRAG_DROP_MODE_PROMPT','_STO_K_FOLDER_PATH_SPEC','status','SOURCE_TYPE_ORDER__FILTER','_$iptSearch','_pLoadFolderPathSpec','prop','click','path','_getFullFolderPathSpecKey','SOURCE_TYP_OFFICIAL_BASE','_$btnRun','isDefault','list-multi-selected','DataSourceBase','_isPreviewable','filterValues','showAndRender','STR_SEE_CONSOLE','Game\x20property\x20\x22','close','Task','flags','\x20Importer','set','Continue','_titleButtonRun','_gameProp','pSetFolderPathSpec','_$wrpBtnsSort','_activateListeners_initPreviewHoverButton','_pImportEntry_pImportToDirectoryGeneric_pGetImportableData','handleLinkMouseMove','_activateListeners_initRunButton','pGetCompendiumData','_activateListeners_absorbListItems','activateTab','isFile','\x22\x20is\x20not\x20supported!','Import\x20exited\x20with\x20status\x20\x22','addToFilters','notifications','_page','stopPropagation','pageFilter','\x20>\x20','Unknown','\x20(All)','_$bntFilter','values','_isDedupable','_getDuplicateMeta','_activateListeners_initPreviewImportButton','toLowerCase','text','push','No\x20cache\x20key\x20specified!','toUpperCase','render','MODULE_TITLE','deduplicationMode','DataSourceSpecial','reset','[name=\x22btn-run-mods\x22]','element','No,\x20use\x20normal\x20drag-drop','Import','Unimplemented!','importEntity','entity','pImportEntry','/template/ImportList.handlebars','isUseProps','pPostLoad','pResult','getContent','SOURCE_TYP_CUSTOM','_isResolveOnClose','_handleFilterChange','get','_isInit','val','isStreamerMode','titleSearch','activateListeners','_comp','isClosable','parent','_isClosable','_folderType','_$wrpMiniPills','import','_displayName','hash','MODULE_NAME','First\x20Letter\x20of\x20Name','Imported\x20\x22','C_IMPORT_DEDUPE_MODE_SKIP','_fnResolve','_pImportEntry_pDoUpdateExistingPackEntity','source','Official','tables','_getFilterNamespace','Yes,\x20use\x20the\x20importer','Continue\x20and\x20Remember','_props','_activateListeners_doFindUiElements','EVNT_VALCHANGE','_$btnReset','isFolderOnly','TASK_EXIT_FAILED','gameProp','info','URL_TO_HASH_BUILDER','TASK_EXIT_SKIPPED_DUPLICATE','name','Source\x20(Full)','namespace','_activateListeners_initPreviewHoversAndImportButtons','Import\x20via\x20','sourceJsonToColor','sourceLong','_id','getStateFromString','children','SRD\x20Importer','TASK_EXIT_COMPLETE','pHandleLinkMouseOver','_pImportEntry_pGetFolderId','Edit\x20Folder\x20Path','props','isDisableLargeImportWarning','SOURCE_TYP_OFFICIAL_SINGLE','_pImportEntry_pDoUpdateExistingDirectoryEntity','doShowImportedNotification','pGetUserChoice','map','ele','filterTypes','content','Name','warn','_pFnPostProcessEntries','Custom/User','selectedProp','_uploadedFile','SOURCE_TYP_UNKNOWN','_fnReject','.search','identifier','Warning:\x20Large\x20Import','\x20entities\x20to\x20import.<br>Importing\x20a\x20large\x20number\x20of\x20entities\x20may\x20degrade\x20game\x20performance\x20(consider\x20importing\x20to\x20a\x20compendium\x20instead).<br>Do\x20you\x20wish\x20to\x20continue?','_defaultFolderPath','getValues','isFreeText','activateSidebarTab','data','isDedupable','[name=\x22cb-select-all\x22]','_isHidden','_isFolderOnly','getData','isStandardDragDrop','\x22!\x20','pack','length','importer_','_pGetUseImporterDragDrop','absorbFnBindListeners','details','_pageFilter','bindSelectAllCheckbox','getNameWithSourcePart','_isUseMods','_actor','teardown','find','SOURCE_TYPE_ORDER','classList','_isModdable','isModdable','importerName','sourceJsonToAbv','absorbFnBindListenersRadio','sourceJsonToFull','entries'];(function(_0xc665b8,_0xff67e6){const _0x634685=function(_0x3039ab){while(--_0x3039ab){_0xc665b8['push'](_0xc665b8['shift']());}};_0x634685(++_0xff67e6);}(_0xff67,0x1ee));const _0x6346=function(_0xc665b8,_0xff67e6){_0xc665b8=_0xc665b8-0x0;let _0x634685=_0xff67[_0xc665b8];return _0x634685;};const _0x2124d1=_0x6346;'use strict';import{SharedConsts}from'../shared/SharedConsts.js';import{UtilApplications}from'./UtilApplications.js';import{Util}from'./Util.js';import{UtilList2}from'./UtilList2.js';import{FolderPathBuilder,FolderPathBuilderRow}from'./FolderPathBuilder.js';import{GameStorage}from'./GameStorage.js';import{Config}from'./Config.js';import{Vetools}from'./Vetools.js';import{DataConverter}from'./DataConverter.js';import{UtilCompendium}from'./UtilCompendium.js';class ImportList extends Application{static[_0x2124d1('0x51')](_0x3039ab){const _0x5b76f9=_0x2124d1;Hooks['on'](_0x5b76f9('0x78'),(_0x3cf6ec,_0x1d4ec1)=>{const _0x5a5312=_0x5b76f9,_0x1b865a=_0x1d4ec1[_0x5a5312('0xbe')]?.[SharedConsts['MODULE_NAME']];if(!_0x1b865a||!_0x1b865a?.['data']?.[_0x3039ab[_0x5a5312('0xae')]])return;if(_0x1b865a[_0x5a5312('0x30')])return;return this[_0x5a5312('0x35')]()[_0x5a5312('0x48')](async _0x16689e=>{const _0x1df89a=_0x5a5312,_0x1357fe=_0x1b865a[_0x1df89a('0x2a')][_0x3039ab[_0x1df89a('0xae')]];try{if(_0x16689e){const _0x14d8a6=new this({'actor':_0x3cf6ec});await _0x14d8a6[_0x1df89a('0x91')](),await _0x14d8a6[_0x1df89a('0xee')](_0x1357fe,{'filterValues':_0x1b865a[_0x1df89a('0xb8')]}),ui[_0x1df89a('0xd1')][_0x1df89a('0x119')](_0x1df89a('0x108')+_0x1357fe[_0x1df89a('0x1')]+'\x22\x20via\x20'+_0x3039ab[_0x1df89a('0x43')]+_0x1df89a('0xbf'));return;}_0x1d4ec1=MiscUtil['copy'](_0x1d4ec1),_0x1d4ec1[_0x1df89a('0xbe')][SharedConsts[_0x1df89a('0x106')]][_0x1df89a('0x30')]=!![],await _0x3cf6ec['createEmbeddedEntity']('OwnedItem',_0x1d4ec1);}catch(_0x2d2724){ui[_0x1df89a('0xd1')][_0x1df89a('0x7a')]('Failed\x20to\x20import\x20\x22'+_0x1357fe['name']+_0x1df89a('0x31')+VeCt[_0x1df89a('0xba')]);throw _0x2d2724;}}),![];});}static async[_0x2124d1('0x35')](){const _0x557708=_0x2124d1,_0x1af276=Config[_0x557708('0xf7')](_0x557708('0x103'),_0x557708('0x96'));if(_0x1af276===Config['C_IMPORT_DRAG_DROP_MODE_NEVER'])return![];if(_0x1af276===Config[_0x557708('0xa8')]){const _0x4436d0=await InputUiUtil[_0x557708('0x77')]({'title':_0x557708('0x5')+(Config[_0x557708('0xf7')]('ui',_0x557708('0xfa'))?_0x557708('0xb'):SharedConsts[_0x557708('0xe3')])+'?\x20Note\x20that\x20this\x20will\x20ignore\x20any\x20in-Foundry\x20modifications\x20made\x20to\x20the\x20item.','textYes':_0x557708('0x110'),'textNo':_0x557708('0xe9')});if(!_0x4436d0)return![];}return!![];}constructor(_0x4b051d,_0x262f70,_0x5d51ae){const _0x3366c7=_0x2124d1;_0x5d51ae=_0x5d51ae||{};if(!_0x5d51ae[_0x3366c7('0x10')]&&!_0x5d51ae['namespace'])throw new Error(_0x3366c7('0x79'));const _0x8aa8c7={'template':SharedConsts[_0x3366c7('0x9c')]+_0x3366c7('0xef'),'width':0x3c0,'height':Util['getMaxWindowHeight'](),'resizable':!![]};Object['assign'](_0x8aa8c7,_0x4b051d||{}),super(_0x8aa8c7),this[_0x3366c7('0x112')]=_0x5d51ae['props'],this[_0x3366c7('0x70')]=_0x5d51ae[_0x3366c7('0xfb')]||_0x3366c7('0x47'),this[_0x3366c7('0x71')]=_0x5d51ae['sidebarTab'],this['_gameProp']=_0x5d51ae[_0x3366c7('0x118')],this[_0x3366c7('0x26')]=_0x5d51ae['defaultFolderPath'],this[_0x3366c7('0x101')]=_0x5d51ae[_0x3366c7('0x94')],this[_0x3366c7('0x8b')]=_0x5d51ae['fnListSort'],this[_0x3366c7('0x38')]=_0x5d51ae[_0x3366c7('0xd4')],this['_namespace']=_0x5d51ae[_0x3366c7('0x3')],this[_0x3366c7('0x2e')]=!!_0x5d51ae['isFolderOnly'],this[_0x3366c7('0x63')]=_0x5d51ae[_0x3366c7('0x76')],this[_0x3366c7('0xd2')]=_0x5d51ae[_0x3366c7('0x4e')],this['_isPreviewable']=_0x5d51ae['isPreviewable'],this[_0x3366c7('0x41')]=_0x5d51ae[_0x3366c7('0x42')],this[_0x3366c7('0xc2')]=_0x5d51ae['titleButtonRun']||_0x3366c7('0xea'),this[_0x3366c7('0xda')]=!!_0x5d51ae[_0x3366c7('0x2b')],this[_0x3366c7('0x3c')]=_0x262f70[_0x3366c7('0x85')],this['_isRadio']=!!_0x262f70['actor']&&_0x5d51ae[_0x3366c7('0x4f')],this[_0x3366c7('0x9d')]=null,this[_0x3366c7('0x9e')]=null,this['_folderPathSpec']=[],this[_0x3366c7('0x100')]=!![],this['_isHidden']=![],this['_isInit']=![],this['_content']=null,this[_0x3366c7('0xa2')]=null,this[_0x3366c7('0x1f')]=null,this['_$bntFilter']=null,this[_0x3366c7('0x115')]=null,this['_$btnToggleSummary']=null,this['_$iptSearch']=null,this['_$cbAll']=null,this[_0x3366c7('0x7f')]=null,this[_0x3366c7('0xb3')]=null,this[_0x3366c7('0x88')]=null,this[_0x3366c7('0xc5')]=null,this['_$wrpList']=null,this[_0x3366c7('0x102')]=null;}get[_0x2124d1('0x4e')](){const _0x4fab55=_0x2124d1;return this[_0x4fab55('0xd2')];}get[_0x2124d1('0x94')](){const _0x155a53=_0x2124d1;return this[_0x155a53('0x101')];}set[_0x2124d1('0xfe')](_0x763dba){const _0x5eb3e3=_0x2124d1;this[_0x5eb3e3('0x100')]=_0x763dba;}get['namespace'](){const _0x388124=_0x2124d1;return this[_0x388124('0x99')];}get[_0x2124d1('0x10')](){return this['_props'];}set[_0x2124d1('0x19')](_0x3bbde7){const _0x426f00=_0x2124d1;this[_0x426f00('0x86')]=_0x3bbde7;}set[_0x2124d1('0x32')](_0xfc30d8){this['_pack']=_0xfc30d8;}get['folderPathSpec'](){const _0x286bc9=_0x2124d1;return this[_0x286bc9('0x64')];}get[_0x2124d1('0x116')](){const _0xf7009e=_0x2124d1;return this[_0xf7009e('0x2e')];}get[_0x2124d1('0x76')](){const _0x19ea30=_0x2124d1;return!!this[_0x19ea30('0x63')];}get[_0x2124d1('0x2b')](){const _0x34b5b5=_0x2124d1;return!!this[_0x34b5b5('0xda')];}get[_0x2124d1('0x5c')](){const _0x3c59c0=_0x2124d1;if(this[_0x3c59c0('0x100')])return!![];else return!this[_0x3c59c0('0x2d')];}async['pSyncStateFrom'](_0x40d816){const _0x3506af=_0x2124d1;this[_0x3506af('0x3c')]=_0x40d816[_0x3506af('0x3c')],this['_pack']=_0x40d816[_0x3506af('0x9d')],await this[_0x3506af('0xc4')](_0x40d816[_0x3506af('0x64')]);}[_0x2124d1('0xbc')](..._0x46e854){const _0x23b07b=_0x2124d1;if(this[_0x23b07b('0x63')]){if(this[_0x23b07b('0x38')]&&this[_0x23b07b('0x38')][_0x23b07b('0x56')])this[_0x23b07b('0x38')]['filterBox'][_0x23b07b('0x3d')]();return super['close'](..._0x46e854);}if(!this[_0x23b07b('0x100')]){this[_0x23b07b('0x2d')]=!![],this[_0x23b07b('0xe8')][_0x23b07b('0x6b')]();return;}if(this['_pageFilter']&&this[_0x23b07b('0x38')][_0x23b07b('0x56')])this['_pageFilter'][_0x23b07b('0x56')][_0x23b07b('0x3d')]();return super['close'](..._0x46e854);}[_0x2124d1('0xe2')](..._0x41d2e5){const _0x44d3f7=_0x2124d1;if(this[_0x44d3f7('0x2d')]){this['element'][_0x44d3f7('0x5e')](),this[_0x44d3f7('0x2d')]=![];return;}return super['render'](..._0x41d2e5);}[_0x2124d1('0xb9')](..._0x481b06){const _0x5db0d8=_0x2124d1;return this['_isHidden']&&(this['element'][_0x5db0d8('0x5e')](),this['_isHidden']=![]),this[_0x5db0d8('0xe2')](..._0x481b06);}[_0x2124d1('0x29')](){const _0x2cb325=_0x2124d1;if(this[_0x2cb325('0x9d')])ui[_0x2cb325('0x5b')]['activateTab']('compendium');else{if(!this[_0x2cb325('0x3c')]&&this[_0x2cb325('0x71')])ui[_0x2cb325('0x5b')][_0x2cb325('0xcc')](this[_0x2cb325('0x71')]);}}async[_0x2124d1('0x91')](){const _0x36a483=_0x2124d1;if(this[_0x36a483('0xf8')])return;this[_0x36a483('0xf8')]=!![],await this[_0x36a483('0xad')]();}async[_0x2124d1('0xad')](){const _0x509b72=_0x2124d1;this[_0x509b72('0x64')]=MiscUtil[_0x509b72('0xf7')](await GameStorage[_0x509b72('0x80')](this['_getFullFolderPathSpecKey']()),_0x509b72('0xb0'));if(this['_folderPathSpec']==null)await this['pSetFolderPathSpec']((this[_0x509b72('0x26')]||[])[_0x509b72('0x16')](_0x47bf30=>FolderPathBuilderRow[_0x509b72('0x9')](_0x47bf30)));}async[_0x2124d1('0xc4')](_0x2908b9){const _0x26ad0a=_0x2124d1;return this[_0x26ad0a('0x64')]=_0x2908b9,GameStorage[_0x26ad0a('0x50')](this[_0x26ad0a('0xb1')](),{'path':this[_0x26ad0a('0x64')]});}[_0x2124d1('0xb1')](){const _0x10c9f9=_0x2124d1;return ImportList[_0x10c9f9('0xa9')]+'.'+this[_0x10c9f9('0x6e')][_0x10c9f9('0x1')];}[_0x2124d1('0x2f')](){const _0x23aec4=_0x2124d1;return{'isRadio':this[_0x23aec4('0xa3')],'titleButtonRun':this[_0x23aec4('0xc2')],'titleSearch':this[_0x23aec4('0x70')],'cols':[{'name':_0x23aec4('0x1a'),'width':0x9,'field':_0x23aec4('0x1')},{'name':_0x23aec4('0x9a'),'width':0x2,'field':'source','titleProp':_0x23aec4('0x7'),'displayProp':_0x23aec4('0x7c'),'classNameProp':'sourceClassName','rowClassName':_0x23aec4('0x97')}],'rows':this[_0x23aec4('0x86')]['map']((_0xd54091,_0x4ea3b5)=>({'name':_0xd54091['name'],'source':_0xd54091[_0x23aec4('0x10c')],'sourceShort':Parser[_0x23aec4('0x44')](_0xd54091[_0x23aec4('0x10c')]),'sourceLong':Parser[_0x23aec4('0x46')](_0xd54091[_0x23aec4('0x10c')]),'sourceClassName':Parser[_0x23aec4('0x6')](_0xd54091['source']),'ix':_0x4ea3b5}))};}[_0x2124d1('0x113')](_0x3ccf75){const _0x5385cd=_0x2124d1,_0x36b093=_0x3ccf75[0x0],_0x1a5c0e=$(_0x36b093[_0x5385cd('0xa')][0x0]);this['_$bntFilter']=_0x1a5c0e['find'](_0x5385cd('0x7d')),this['_$btnReset']=_0x1a5c0e[_0x5385cd('0x3e')]('[name=\x22btn-reset\x22]'),this[_0x5385cd('0x49')]=_0x1a5c0e[_0x5385cd('0x3e')](_0x5385cd('0x6c')),this[_0x5385cd('0xac')]=_0x1a5c0e[_0x5385cd('0x3e')](_0x5385cd('0x22')),this[_0x5385cd('0x102')]=$(_0x36b093[_0x5385cd('0xa')][0x1]);const _0x4df657=$(_0x36b093[_0x5385cd('0xa')][0x2]);this[_0x5385cd('0xa5')]=_0x4df657[_0x5385cd('0x3e')](_0x5385cd('0x2c')),this[_0x5385cd('0xc5')]=_0x4df657,this[_0x5385cd('0x4a')]=$(_0x36b093['children'][0x3]),this['_$wrpRun']=$(_0x36b093[_0x5385cd('0xa')][0x4]),this[_0x5385cd('0xb3')]=this['_$wrpRun']['find'](_0x5385cd('0x73')),this[_0x5385cd('0x41')]&&(this['_$btnRunWithMods']=this[_0x5385cd('0x7f')]['find'](_0x5385cd('0xe7')));}['activateListeners'](_0x2e57e1){const _0x558c12=_0x2124d1;super[_0x558c12('0xfc')](_0x2e57e1),this[_0x558c12('0x113')](_0x2e57e1),this['_activateListeners_initRunButton'](),this[_0x558c12('0x115')][_0x558c12('0xaf')](()=>{const _0x56432a=_0x558c12;this[_0x56432a('0xac')][_0x56432a('0xf9')]('');if(this[_0x56432a('0xa2')])this[_0x56432a('0xa2')][_0x56432a('0xe6')]();});this[_0x558c12('0x38')]?this['_activateListeners_pInitFilteredList']()[_0x558c12('0x48')](()=>this[_0x558c12('0x4')]()):this[_0x558c12('0xa4')]();ListUiUtil[_0x558c12('0x39')](this['_$cbAll'],this[_0x558c12('0xa2')]);if(this[_0x558c12('0x115')])this[_0x558c12('0x115')][_0x558c12('0xaf')]();}['_activateListeners_initPreviewHoversAndImportButtons'](){const _0x7ff393=_0x2124d1;if(!this[_0x7ff393('0xb7')])return;const _0x4206e7=this[_0x7ff393('0xa2')]['items'],_0x9b1b95=_0x4206e7['length'];for(let _0x5981ac=0x0;_0x5981ac<_0x9b1b95;++_0x5981ac){const _0x1bb14b=_0x4206e7[_0x5981ac],_0x6825e7=_0x1bb14b[_0x7ff393('0x17')]['children'][0x1][_0x7ff393('0xa')][0x0],_0x4fe1db=_0x6825e7[_0x7ff393('0xa')][0x0],_0xde06eb=_0x6825e7[_0x7ff393('0xa')][0x1];this['_activateListeners_initPreviewHoverButton'](_0x1bb14b,_0x4fe1db),this[_0x7ff393('0xdc')](_0x1bb14b,_0xde06eb);}}[_0x2124d1('0xc6')](_0x1278b3,_0x2d6be1){const _0xfbbd5c=_0x2124d1;_0x2d6be1[_0xfbbd5c('0x8c')]('mousedown',_0x2b0d52=>Renderer['hover'][_0xfbbd5c('0xd')](_0x2b0d52,_0x2d6be1,this[_0xfbbd5c('0xd2')],_0x1278b3['values'][_0xfbbd5c('0x10c')],_0x1278b3[_0xfbbd5c('0xd9')][_0xfbbd5c('0x105')],null)),_0x2d6be1[_0xfbbd5c('0x8c')](_0xfbbd5c('0x74'),_0x20d655=>Renderer[_0xfbbd5c('0x53')][_0xfbbd5c('0x93')](_0x20d655,_0x2d6be1)),_0x2d6be1[_0xfbbd5c('0x8c')]('mouseup',_0x29def5=>Renderer[_0xfbbd5c('0x53')][_0xfbbd5c('0x93')](_0x29def5,_0x2d6be1)),_0x2d6be1[_0xfbbd5c('0x8c')](_0xfbbd5c('0x75'),_0x1ff5c7=>Renderer[_0xfbbd5c('0x53')][_0xfbbd5c('0xc8')](_0x1ff5c7,_0x2d6be1)),_0x2d6be1[_0xfbbd5c('0x8c')](_0xfbbd5c('0xaf'),_0x2935de=>{const _0x3df2f9=_0xfbbd5c;_0x2935de[_0x3df2f9('0xd3')](),_0x2935de['preventDefault']();});}[_0x2124d1('0xdc')](_0x128121,_0x4d4b8d){const _0x2b9cf9=_0x2124d1;_0x4d4b8d['addEventListener'](_0x2b9cf9('0xaf'),async _0x4c2962=>{const _0x5b1472=_0x2b9cf9;_0x4c2962['stopPropagation'](),_0x4c2962[_0x5b1472('0x68')]();if(this[_0x5b1472('0xa3')])this['close']();const _0x44821f=this[_0x5b1472('0x86')][_0x128121['ix']];try{await this[_0x5b1472('0x82')]();let _0x26af67;try{_0x26af67=await this[_0x5b1472('0xee')](_0x44821f);}finally{this[_0x5b1472('0x61')]();}if(!_0x26af67)return;UtilApplications[_0x5b1472('0x14')](_0x26af67);}catch(_0x2f2c9c){setTimeout(()=>{throw _0x2f2c9c;}),UtilApplications['doShowImportedNotification']({'entity':_0x44821f,'status':UtilApplications[_0x5b1472('0x117')]});}});}[_0x2124d1('0xc9')](){const _0x3c6e6c=_0x2124d1;this['_$btnRun'][_0x3c6e6c('0xaf')](()=>this[_0x3c6e6c('0x4c')]()),this[_0x3c6e6c('0x41')]&&this[_0x3c6e6c('0x88')]['click'](async()=>{const _0x27aef4=_0x3c6e6c;try{this[_0x27aef4('0x3b')]=!![],await this['_pHandleClickRunButton']();}finally{this[_0x27aef4('0x3b')]=![];}});}async[_0x2124d1('0x1c')](_0x11bbac){return _0x11bbac;}async[_0x2124d1('0x4c')](){const _0x34b893=_0x2124d1;if(!this[_0x34b893('0xa2')])return;const _0x6b3fb=this['_list'][_0x34b893('0x89')][_0x34b893('0x95')](_0x4a4533=>_0x4a4533[_0x34b893('0x2a')][_0x34b893('0x54')][_0x34b893('0xa6')])['map'](_0x3452f0=>_0x3452f0['ix']);if(!_0x6b3fb['length'])return ui[_0x34b893('0xd1')][_0x34b893('0x1b')](_0x34b893('0x92'));if(!this[_0x34b893('0x9d')]&&_0x6b3fb['length']>0x64&&!Config[_0x34b893('0xf7')]('ui',_0x34b893('0x11'))){const _0x573221=await InputUiUtil[_0x34b893('0x77')]({'title':_0x34b893('0x24'),'htmlDescription':'You\x20have\x20selected\x20'+_0x6b3fb['length']+_0x34b893('0x25'),'textYesRemember':_0x34b893('0x111'),'textYes':_0x34b893('0xc1'),'textNo':'Cancel','fnRemember':_0x5b27e3=>Config[_0x34b893('0xc0')]('ui',_0x34b893('0x11'),_0x5b27e3)});if(_0x573221==null||_0x573221===![])return;}this[_0x34b893('0xbc')](),this[_0x34b893('0x29')]();let _0x28b207=_0x6b3fb[_0x34b893('0x16')](_0x4f1f4f=>this[_0x34b893('0x86')][_0x4f1f4f]);_0x28b207=await this['_pFnPostProcessEntries'](_0x28b207);if(_0x28b207==null)return;await this['_pHandleClickRunButton_pDoPreCachePack']();const _0x436d5f=_0x28b207[_0x34b893('0x16')](_0x510194=>{const _0x5cfe4c=_0x34b893;return new Util[(_0x5cfe4c('0xbd'))]((_0x510194[_0x5cfe4c('0x104')]||_0x510194['name'])+'\x20('+Parser[_0x5cfe4c('0x44')](_0x510194[_0x5cfe4c('0x10c')])+')',()=>this['pImportEntry'](_0x510194));});await UtilApplications[_0x34b893('0x87')](_0x436d5f);if(!this['_actor'])game[this['_gameProp']]['render']();this['_pHandleClickRunButton_doDumpPackCache'](),this['_$cbAll']['prop'](_0x34b893('0xa6'),![]),this['_list'][_0x34b893('0x89')][_0x34b893('0x8f')](_0x38ea7c=>{const _0x103ea2=_0x34b893;_0x38ea7c[_0x103ea2('0x2a')][_0x103ea2('0x54')]['checked']=![],_0x38ea7c['ele'][_0x103ea2('0x40')][_0x103ea2('0x81')]('list-multi-selected');});}['_activateListeners_pInitFilteredList'](){const _0x4d6f4b=_0x2124d1;return this[_0x4d6f4b('0xa2')]=new List({'$iptSearch':this[_0x4d6f4b('0xac')],'$wrpList':this['_$wrpList'],'fnSort':this[_0x4d6f4b('0x8b')]}),SortUtil[_0x4d6f4b('0x98')](this[_0x4d6f4b('0xc5')],this['_list']),this[_0x4d6f4b('0x38')]['pInitFilterBox']({'$iptSearch':this[_0x4d6f4b('0xac')],'$btnReset':this[_0x4d6f4b('0x115')],'$btnOpen':this[_0x4d6f4b('0xd8')],'$btnToggleSummaryHidden':this[_0x4d6f4b('0x49')],'$wrpMiniPills':this[_0x4d6f4b('0x102')],'namespace':this[_0x4d6f4b('0x10f')]()})[_0x4d6f4b('0x48')](()=>{const _0x43ad57=_0x4d6f4b;this[_0x43ad57('0x86')][_0x43ad57('0x8f')](_0xccb6d=>this[_0x43ad57('0x38')][_0x43ad57('0xd0')](_0xccb6d)),this[_0x43ad57('0xcb')](),this[_0x43ad57('0xa2')][_0x43ad57('0x6d')](),this[_0x43ad57('0x38')][_0x43ad57('0x56')]['render'](),this[_0x43ad57('0x38')]['filterBox']['on'](FilterBox[_0x43ad57('0x114')],this[_0x43ad57('0xf6')]['bind'](this)),this[_0x43ad57('0xf6')]();});}['_activateListeners_initList'](){const _0x541723=_0x2124d1;this[_0x541723('0xa2')]=new List({'$iptSearch':this[_0x541723('0xac')],'$wrpList':this[_0x541723('0x4a')],'fnSort':this[_0x541723('0x8b')]}),SortUtil[_0x541723('0x98')](this[_0x541723('0xc5')],this[_0x541723('0xa2')]),this[_0x541723('0xcb')](),this['_list']['init']();}[_0x2124d1('0xcb')](){const _0x52d536=_0x2124d1;this[_0x52d536('0xa2')][_0x52d536('0x5f')](this['_content'],{'fnGetName':_0x190478=>_0x190478['name'],'fnGetValues':_0x168e5e=>({'source':_0x168e5e[_0x52d536('0x10c')],'hash':UrlUtil[_0x52d536('0x11a')][this['_page']](_0x168e5e)}),'fnGetData':UtilList2['absorbFnGetData'],'fnBindListeners':_0x1e6f96=>this['_isRadio']?UtilList2[_0x52d536('0x45')](this[_0x52d536('0xa2')],_0x1e6f96):UtilList2[_0x52d536('0x36')](this[_0x52d536('0xa2')],_0x1e6f96)});}[_0x2124d1('0xf6')](){const _0x36b953=_0x2124d1,_0x21ddb5=this[_0x36b953('0x38')][_0x36b953('0x56')][_0x36b953('0x27')]();this['_list'][_0x36b953('0x95')](_0x47ffc0=>this[_0x36b953('0x38')]['toDisplay'](_0x21ddb5,this[_0x36b953('0x86')][_0x47ffc0['ix']]));}async[_0x2124d1('0xee')](){const _0x3d3ba9=_0x2124d1;throw new Error(_0x3d3ba9('0xeb'));}[_0x2124d1('0xa0')](){const _0x45cb96=_0x2124d1;return{'alpha':{'label':_0x45cb96('0x107'),'getter':_0x453b75=>_0x453b75[_0x45cb96('0x1')][_0x45cb96('0x6a')](0x0,0x1)[_0x45cb96('0xe1')]()},'source':{'label':_0x45cb96('0x2'),'getter':_0x4dbcf1=>Parser['sourceJsonToFull'](_0x4dbcf1['source'])},'sourceAbbreviation':{'label':'Source\x20(Abbreviation)','getter':_0x4fde7b=>Parser[_0x45cb96('0x44')](_0x4fde7b[_0x45cb96('0x10c')])}};}async['_pImportEntry_pGetFolderId'](_0x152f92,_0x44c7ab){const _0x3b4cfd=_0x2124d1;_0x44c7ab=_0x44c7ab||{};const _0xd14f80=_0x44c7ab[_0x3b4cfd('0x94')]||this[_0x3b4cfd('0x101')];if(!this[_0x3b4cfd('0x64')]['length']||!_0xd14f80)return null;const _0x25b80d=this[_0x3b4cfd('0xa0')](),_0x20df92=this['_folderPathSpec'][_0x3b4cfd('0x95')](_0x59d049=>_0x59d049['isFreeText']?_0x59d049[_0x3b4cfd('0xde')]&&_0x59d049[_0x3b4cfd('0xde')][_0x3b4cfd('0x55')]():_0x59d049['selectedProp'])[_0x3b4cfd('0x16')](_0xf632d4=>_0xf632d4[_0x3b4cfd('0x28')]?_0xf632d4[_0x3b4cfd('0xde')]:_0x25b80d[_0xf632d4[_0x3b4cfd('0x1e')]]['getter'](_0x152f92)),_0x53252d=[],_0x5b94b8=(_0x8f56de,_0x16da0e)=>{const _0x3b6b8e=_0x3b4cfd,_0x35b0ec=Folder['collection']['entities'][_0x3b6b8e('0x95')](_0x58606e=>{const _0x27cd5e=_0x3b6b8e,_0x1ab644=_0x58606e['data'][_0x27cd5e('0x1')]===_0x8f56de,_0x116f37=_0x58606e[_0x27cd5e('0x2a')]['type']===_0xd14f80,_0x12ce19=_0x16da0e?_0x58606e['data'][_0x27cd5e('0xff')]===_0x16da0e:_0x58606e['data'][_0x27cd5e('0xff')]==null;return _0x1ab644&&_0x116f37&&_0x12ce19;});if(_0x35b0ec[_0x3b6b8e('0x33')]>0x1){const _0x170b16=_0x3b6b8e('0x5a')+_0x53252d['map'](_0x646543=>_0x646543[_0x3b6b8e('0x2a')][_0x3b6b8e('0x1')])[_0x3b6b8e('0x57')](_0x3b6b8e('0xd5'));ui[_0x3b6b8e('0xd1')]['error'](_0x170b16);throw new Error(_0x170b16);}else{if(_0x35b0ec[_0x3b6b8e('0x33')])return _0x35b0ec[0x0];else return null;}};for(const _0x424339 of _0x20df92){const _0x2edf98=_0x53252d[_0x3b4cfd('0x33')]?_0x53252d[_0x3b4cfd('0xa1')]()[_0x3b4cfd('0x8')]||_0x53252d[_0x3b4cfd('0xa1')]()['data'][_0x3b4cfd('0x8')]:null,_0x1adae2=_0x5b94b8(_0x424339,_0x2edf98);if(_0x1adae2)_0x53252d[_0x3b4cfd('0xdf')](_0x1adae2);else{const _0x12f42f=await Folder[_0x3b4cfd('0x9f')]({'name':_0x424339,'parent':_0x2edf98,'type':_0xd14f80},{});_0x53252d['push'](_0x12f42f);}}if(_0x53252d[_0x3b4cfd('0x33')])return _0x53252d[_0x3b4cfd('0xa1')]()[_0x3b4cfd('0x8')];return null;}async['pHandleEditFolderPathClick'](){const _0x13a213=_0x2124d1;await this[_0x13a213('0xad')]();const _0x3b1108=new FolderPathBuilderApp(this);_0x3b1108[_0x13a213('0xe2')](!![]);}[_0x2124d1('0xf3')](_0xb5c843){return Vetools['getContent'](_0xb5c843,this['_props']);}['_getFilterNamespace'](){const _0x306ebc=_0x2124d1;return _0x306ebc('0x34')+(this[_0x306ebc('0x99')]||this['_props'][_0x306ebc('0x57')]('_'));}[_0x2124d1('0xdb')](_0x1c7407){const _0x31812e=_0x2124d1;_0x1c7407=_0x1c7407||{};const _0x1fda34=_0x1c7407[_0x31812e('0x118')]||this[_0x31812e('0xc3')],_0x487c4e=_0x1fda34===this[_0x31812e('0xc3')]?this[_0x31812e('0x9d')]:null;let _0x12ca74=null;switch(_0x1fda34){case _0x31812e('0x4b'):case _0x31812e('0x89'):{if(!(_0x1c7407['name']&&_0x1c7407[_0x31812e('0x10c')]||_0x1c7407['entity']))throw new Error(_0x31812e('0x6f'));const _0x5c848e=(_0x1c7407[_0x31812e('0x1')]||DataConverter[_0x31812e('0x3a')](_0x1c7407['entity']))[_0x31812e('0xdd')]()[_0x31812e('0x55')](),_0x23829a=(_0x1c7407['source']||DataConverter['getSourceWithPagePart'](_0x1c7407[_0x31812e('0xed')]))[_0x31812e('0xdd')]()[_0x31812e('0x55')]();switch(_0x1fda34){case _0x31812e('0x4b'):{if(_0x487c4e){const _0x795a70=this[_0x31812e('0x66')]({'name':_0x5c848e,'source':_0x23829a});_0x12ca74=(this['_packCache']||{})[_0x795a70];}else _0x12ca74=game[_0x1fda34][_0x31812e('0x3e')](_0x6c8192=>(MiscUtil[_0x31812e('0xf7')](_0x6c8192,_0x31812e('0x2a'),_0x31812e('0x1'))||'')[_0x31812e('0xdd')]()[_0x31812e('0x55')]()===_0x5c848e&&(MiscUtil[_0x31812e('0xf7')](_0x6c8192,_0x31812e('0x2a'),_0x31812e('0x2a'),_0x31812e('0x37'),'source')||'')[_0x31812e('0xdd')]()[_0x31812e('0x55')]()===_0x23829a);break;}case _0x31812e('0x89'):{if(_0x487c4e){const _0x1e38dc=this[_0x31812e('0x66')]({'name':_0x5c848e,'source':_0x23829a});_0x12ca74=(this[_0x31812e('0x9e')]||{})[_0x1e38dc];}else _0x12ca74=game[_0x1fda34][_0x31812e('0x3e')](_0x294233=>(MiscUtil['get'](_0x294233,_0x31812e('0x2a'),_0x31812e('0x1'))||'')['toLowerCase']()[_0x31812e('0x55')]()===_0x5c848e&&(MiscUtil[_0x31812e('0xf7')](_0x294233,_0x31812e('0x2a'),'data','source')||'')[_0x31812e('0xdd')]()['trim']()===_0x23829a);break;}}break;}case _0x31812e('0x67'):case'tables':{const _0x50cf35=_0x1c7407[_0x31812e('0x1')][_0x31812e('0xdd')]()[_0x31812e('0x55')]();if(_0x487c4e){const _0x9b513d=this['_getDuplicateMeta_getEntityKey']({'name':_0x50cf35});_0x12ca74=(this[_0x31812e('0x9e')]||{})[_0x9b513d];}else _0x12ca74=game[_0x1fda34][_0x31812e('0x3e')](_0x98910=>(MiscUtil[_0x31812e('0xf7')](_0x98910,'data',_0x31812e('0x1'))||'')[_0x31812e('0xdd')]()[_0x31812e('0x55')]()===_0x50cf35);break;}default:throw new Error(_0x31812e('0xbb')+_0x1fda34+_0x31812e('0xce'));}const _0x24b8e1=Config[_0x31812e('0xf7')](_0x31812e('0x103'),_0x31812e('0xe4'));return{'mode':_0x24b8e1,'existing':_0x12ca74,'isSkip':_0x24b8e1===Config[_0x31812e('0x109')]&&_0x12ca74!=null,'isOverwrite':_0x24b8e1===Config[_0x31812e('0x84')]&&_0x12ca74!=null};}['_getDuplicateMeta_getEntityKey'](_0x594768){const _0x1b8f6a=_0x2124d1;return Object[_0x1b8f6a('0x47')](_0x594768)['sort'](([_0x417e85],[_0x334134])=>SortUtil['ascSortLower'](_0x417e85,_0x334134))['map'](([_0x30ce7c,_0x577f6c])=>(_0x30ce7c+'='+(''+_0x577f6c)[_0x1b8f6a('0x55')]())[_0x1b8f6a('0xdd')]())[_0x1b8f6a('0x57')]('::');}async[_0x2124d1('0x82')](){const _0x531769=_0x2124d1;if(!this[_0x531769('0x9d')]||Config['get'](_0x531769('0x103'),_0x531769('0xe4'))===Config[_0x531769('0x8a')])return;this[_0x531769('0x9e')]={};const _0x5c3d99=await UtilCompendium[_0x531769('0xca')](this[_0x531769('0x9d')],!![]);_0x5c3d99[_0x531769('0x8f')](_0x22418d=>{const _0x1f2bae=_0x531769;switch(this['_gameProp']){case'actors':{const _0x5a3e82=(MiscUtil[_0x1f2bae('0xf7')](_0x22418d,_0x1f2bae('0x2a'),'name')||'')['toLowerCase']()[_0x1f2bae('0x55')](),_0x22250c=(MiscUtil['get'](_0x22418d,'data',_0x1f2bae('0x2a'),_0x1f2bae('0x37'),_0x1f2bae('0x10c'))||'')[_0x1f2bae('0xdd')]()[_0x1f2bae('0x55')](),_0xfa753e=this[_0x1f2bae('0x66')]({'name':_0x5a3e82,'source':_0x22250c});this[_0x1f2bae('0x9e')][_0xfa753e]=_0x22418d;break;}case'items':{const _0x3db7a1=(MiscUtil[_0x1f2bae('0xf7')](_0x22418d,_0x1f2bae('0x2a'),_0x1f2bae('0x1'))||'')[_0x1f2bae('0xdd')]()[_0x1f2bae('0x55')](),_0x5248db=(MiscUtil[_0x1f2bae('0xf7')](_0x22418d,_0x1f2bae('0x2a'),_0x1f2bae('0x2a'),_0x1f2bae('0x10c'))||'')[_0x1f2bae('0xdd')]()[_0x1f2bae('0x55')](),_0x1b8304=this['_getDuplicateMeta_getEntityKey']({'name':_0x3db7a1,'source':_0x5248db});this[_0x1f2bae('0x9e')][_0x1b8304]=_0x22418d;break;}case _0x1f2bae('0x67'):case _0x1f2bae('0x10e'):{const _0x3b1c44=(MiscUtil[_0x1f2bae('0xf7')](_0x22418d,'data',_0x1f2bae('0x1'))||'')[_0x1f2bae('0xdd')]()['trim'](),_0x5eb1ba=this['_getDuplicateMeta_getEntityKey']({'name':_0x3b1c44});this['_packCache'][_0x5eb1ba]=_0x22418d;break;}default:throw new Error(_0x1f2bae('0xbb')+this[_0x1f2bae('0xc3')]+_0x1f2bae('0xce'));}});}[_0x2124d1('0x61')](){this['_packCache']=null;}async[_0x2124d1('0x10b')](_0x56e96a,_0x3d9d0b){const _0x2e3535=_0x2124d1,_0x3ed58f=MiscUtil['copy'](_0x56e96a[_0x2e3535('0x90')][_0x2e3535('0x2a')]);return Object['assign'](_0x3ed58f,_0x3d9d0b),await this[_0x2e3535('0x9d')]['updateEntity'](MiscUtil[_0x2e3535('0x8d')](_0x3ed58f)),{'imported':_0x56e96a[_0x2e3535('0x90')],'status':UtilApplications['TASK_EXIT_COMPLETE_UPDATE_OVERWRITE']};}async['_pImportEntry_pDoUpdateExistingDirectoryEntity'](_0x4efb35,_0x553ae8){const _0x232cf2=_0x2124d1;return await _0x4efb35[_0x232cf2('0x90')]['update'](_0x553ae8),{'imported':_0x4efb35[_0x232cf2('0x90')],'status':UtilApplications[_0x232cf2('0x52')]};}async[_0x2124d1('0x62')](_0x7fe37d,_0x2510c1,_0xd54e28){const _0x26d7e6=_0x2124d1,_0x594f84=await this[_0x26d7e6('0xc7')](_0x7fe37d,{'isAddDataFlags':!![],'filterValues':_0x2510c1['filterValues'],..._0xd54e28,'isAddPermission':!![]}),_0x317a3f=this['_getDuplicateMeta']({'name':_0x594f84[_0x26d7e6('0x1')],'source':MiscUtil[_0x26d7e6('0xf7')](_0x594f84,_0x26d7e6('0x2a'),'source')});if(_0x317a3f['isSkip'])return{'status':UtilApplications[_0x26d7e6('0x0')]};let _0x3ac1ae;switch(this[_0x26d7e6('0xc3')]){case'items':_0x3ac1ae=Item;break;case _0x26d7e6('0x67'):_0x3ac1ae=JournalEntry;break;case _0x26d7e6('0x10e'):_0x3ac1ae=RollTable;break;}if(_0x2510c1['isTemp']){const _0x14560c=await _0x3ac1ae[_0x26d7e6('0x9f')](_0x594f84,{'renderSheet':!![],'temporary':!![]});return{'imported':_0x14560c,'status':UtilApplications[_0x26d7e6('0xc')]};}else{if(this[_0x26d7e6('0x9d')]){if(_0x317a3f['isOverwrite'])return this['_pImportEntry_pDoUpdateExistingPackEntity'](_0x317a3f,_0x594f84);const _0x501c0b=new _0x3ac1ae(_0x594f84);return await this[_0x26d7e6('0x9d')][_0x26d7e6('0xec')](_0x501c0b),{'imported':_0x501c0b,'status':UtilApplications['TASK_EXIT_COMPLETE']};}else{if(_0x317a3f['isOverwrite'])return this[_0x26d7e6('0x13')](_0x317a3f,_0x594f84);const _0x388b66=await this[_0x26d7e6('0xe')](_0x7fe37d);if(_0x388b66)_0x594f84['folder']=_0x388b66;const _0x470e3e=await _0x3ac1ae['create'](_0x594f84,{'renderSheet':![],'temporary':![]});return await game[this[_0x26d7e6('0xc3')]][_0x26d7e6('0x59')](_0x470e3e),{'imported':_0x470e3e,'status':UtilApplications[_0x26d7e6('0xc')]};}}}[_0x2124d1('0xc7')](_0x4d6a8a,_0xaaef40){const _0x199cd1=_0x2124d1;throw new Error(_0x199cd1('0xeb'));}}ImportList[_0x2124d1('0xa9')]='ImportList.folderKeyPathSpec',ImportList[_0x2124d1('0xb2')]=_0x2124d1('0x10d'),ImportList[_0x2124d1('0x83')]=ImportList[_0x2124d1('0xb2')]+_0x2124d1('0xd7'),ImportList[_0x2124d1('0x12')]=ImportList[_0x2124d1('0xb2')]+_0x2124d1('0xa7'),ImportList[_0x2124d1('0xf4')]=_0x2124d1('0x1d'),ImportList['SOURCE_TYP_ARCANA']=_0x2124d1('0x9b'),ImportList[_0x2124d1('0x7e')]='Homebrew',ImportList[_0x2124d1('0x20')]=_0x2124d1('0xd6'),ImportList[_0x2124d1('0x3f')]=[ImportList['SOURCE_TYP_OFFICIAL_ALL'],ImportList[_0x2124d1('0xf4')],ImportList[_0x2124d1('0x12')],ImportList[_0x2124d1('0x8e')],ImportList[_0x2124d1('0x7e')],ImportList[_0x2124d1('0x20')]],ImportList[_0x2124d1('0xab')]=[ImportList['SOURCE_TYP_OFFICIAL_ALL'],ImportList[_0x2124d1('0x12')],ImportList[_0x2124d1('0x8e')],ImportList[_0x2124d1('0x7e')],ImportList[_0x2124d1('0xf4')],ImportList[_0x2124d1('0x20')]],ImportList[_0x2124d1('0xb6')]=class{constructor(_0x5b20c6,_0x1a1a31){const _0x6a9fce=_0x2124d1;this[_0x6a9fce('0x1')]=_0x5b20c6,this['pPostLoad']=_0x1a1a31[_0x6a9fce('0xf1')],this[_0x6a9fce('0x18')]=_0x1a1a31[_0x6a9fce('0x18')]||[ImportList[_0x6a9fce('0x20')]],this['isDefault']=!!_0x1a1a31[_0x6a9fce('0xb4')];}get[_0x2124d1('0x23')](){const _0x3a577a=_0x2124d1;throw new Error(_0x3a577a('0xeb'));}},ImportList['DataSourceUrl']=class extends ImportList[_0x2124d1('0xb6')]{constructor(_0x5476a4,_0x1a6acf,_0x44cfff){const _0x2ebcf9=_0x2124d1;_0x44cfff=_0x44cfff||{},super(_0x5476a4,_0x44cfff),this[_0x2ebcf9('0x72')]=_0x1a6acf,this[_0x2ebcf9('0x10c')]=_0x44cfff[_0x2ebcf9('0x10c')],this['userData']=_0x44cfff[_0x2ebcf9('0x60')];}get['identifier'](){const _0x569c6b=_0x2124d1;return this[_0x569c6b('0x72')]===''?'VE_SOURCE_CUSTOM_URL':this[_0x569c6b('0x72')];}},ImportList[_0x2124d1('0x69')]=class extends ImportList[_0x2124d1('0xb6')]{constructor(_0x162683,_0x42e0ea){const _0x59a2c5=_0x2124d1;_0x42e0ea=_0x42e0ea||{},super(_0x162683,_0x42e0ea),this[_0x59a2c5('0xcd')]=!![],this[_0x59a2c5('0x10c')]=_0x42e0ea[_0x59a2c5('0x10c')];}get['identifier'](){return'VE_SOURCE_CUSTOM_FILE';}},ImportList[_0x2124d1('0xe5')]=class extends ImportList['DataSourceBase']{constructor(_0x4678d6,_0x49bff7,_0x216199){const _0xd30dc5=_0x2124d1;_0x216199=_0x216199||{},super(_0x4678d6,_0x216199),this['special']={'pGet':_0x49bff7};if(!_0x216199[_0xd30dc5('0x5d')])throw new Error(_0xd30dc5('0xe0'));this[_0xd30dc5('0x5d')]=_0x216199[_0xd30dc5('0x5d')],this[_0xd30dc5('0xf0')]=_0x216199[_0xd30dc5('0xf0')];}get[_0x2124d1('0x23')](){return this['cacheKey'];}};class FolderPathBuilderApp extends Application{constructor(_0x187fe8){const _0x5e7f59=_0x2124d1;super({'width':0x1e0,'height':0x1e0,'title':_0x5e7f59('0xf'),'template':SharedConsts[_0x5e7f59('0x9c')]+'/template/FolderPathBuilder.handlebars','resizable':!![]}),this[_0x5e7f59('0xfd')]=new FolderPathBuilder(_0x187fe8);}[_0x2124d1('0xfc')](_0x4ab76f){const _0xdf7185=_0x2124d1;super[_0xdf7185('0xfc')](_0x4ab76f),this[_0xdf7185('0xfd')][_0xdf7185('0xe2')](_0x4ab76f);}}const MixinUserChooseImporter=_0x519a4c=>class extends _0x519a4c{constructor(..._0x243f20){const _0x41d804=_0x2124d1;super(..._0x243f20),this[_0x41d804('0xa3')]=!![],this[_0x41d804('0xf5')]=!![],this[_0x41d804('0x10a')]=null,this[_0x41d804('0x21')]=null,this[_0x41d804('0xf2')]=null;}[_0x2124d1('0xc9')](){const _0x557cc4=_0x2124d1;this[_0x557cc4('0xb3')][_0x557cc4('0xaf')](async()=>{const _0x44ff94=_0x557cc4;if(!this[_0x44ff94('0xa2')])return;try{const _0x418464=this[_0x44ff94('0xa2')][_0x44ff94('0x89')][_0x44ff94('0x3e')](_0x2562e9=>_0x2562e9[_0x44ff94('0x2a')][_0x44ff94('0x54')][_0x44ff94('0xa6')]);if(!_0x418464)return ui[_0x44ff94('0xd1')][_0x44ff94('0x1b')](_0x44ff94('0x58'));this[_0x44ff94('0xf5')]=![],this['close']();let _0x49e958=[this[_0x44ff94('0x86')][_0x418464['ix']]];_0x49e958=await this[_0x44ff94('0x1c')](_0x49e958);if(_0x49e958==null)return;const _0x468971=await this[_0x44ff94('0xee')](_0x49e958[0x0],{'isTemp':!![],'isDataOnly':!![]});if(_0x468971[_0x44ff94('0xaa')]===UtilApplications['TASK_EXIT_COMPLETE_DATA_ONLY'])this[_0x44ff94('0x10a')](_0x468971[_0x44ff94('0x65')]);else this[_0x44ff94('0x21')](new Error(_0x44ff94('0xcf')+_0x468971[_0x44ff94('0xaa')][_0x44ff94('0x4d')]()+'\x22'));_0x418464[_0x44ff94('0x2a')][_0x44ff94('0x54')][_0x44ff94('0xa6')]=![],_0x418464[_0x44ff94('0x17')][_0x44ff94('0x40')][_0x44ff94('0x81')](_0x44ff94('0xb5'));}catch(_0x147ad0){this[_0x44ff94('0x21')](_0x147ad0);}});}[_0x2124d1('0xdc')](_0x160518,_0x511a3a){const _0x5d66f5=_0x2124d1;_0x511a3a[_0x5d66f5('0x8c')](_0x5d66f5('0xaf'),async _0x2e4e08=>{const _0x2996c4=_0x5d66f5;_0x2e4e08[_0x2996c4('0xd3')](),_0x2e4e08['preventDefault']();try{let _0x3c4968=[this[_0x2996c4('0x86')][_0x160518['ix']]];_0x3c4968=await this[_0x2996c4('0x1c')](_0x3c4968);if(_0x3c4968==null)return;const _0x36464e=await this[_0x2996c4('0xee')](_0x3c4968[0x0],{'isTemp':!![],'isDataOnly':!![]});if(_0x36464e[_0x2996c4('0xaa')]===UtilApplications[_0x2996c4('0xc')])this[_0x2996c4('0x10a')](_0x36464e[_0x2996c4('0x65')]);else this['_fnReject'](new Error(_0x2996c4('0xcf')+_0x36464e[_0x2996c4('0xaa')][_0x2996c4('0x4d')]()+'\x22'));this[_0x2996c4('0xbc')]();}catch(_0x314972){this[_0x2996c4('0x21')](_0x314972);}});}async[_0x2124d1('0xbc')](..._0x4eea04){const _0x53bf61=_0x2124d1;await super[_0x53bf61('0xbc')](..._0x4eea04);if(this[_0x53bf61('0xf5')])this[_0x53bf61('0x10a')](null);}['pPreRender'](..._0x5e3c02){const _0x157624=_0x2124d1,{fnResolve:_0x437af4,fnReject:_0x18fd95,pResult:_0x20735f}=_0x5e3c02[0x0];this[_0x157624('0xf5')]=!![],this[_0x157624('0x10a')]=_0x437af4,this['_fnReject']=_0x18fd95,this['pResult']=_0x20735f;}static async[_0x2124d1('0x15')](_0x1d7130,_0x3f17fd){const _0x8de7b7=_0x2124d1,{ChooseImporter:_0x3886d3}=await import(_0x8de7b7('0x7b')),_0x2e4c71=new this({});await _0x2e4c71[_0x8de7b7('0x91')]();let _0x2d52ab=null,_0x411a7e=null;const _0x1ea94b=new Promise((_0x3a8cd9,_0x46b4c5)=>{_0x2d52ab=_0x3a8cd9,_0x411a7e=_0x46b4c5;}),_0x56758e=new _0x3886d3(null,{'mode':{..._0x1d7130,'importerInstance':_0x2e4c71},'namespace':_0x3f17fd,'isAlwaysCloseWindow':!![],'isTemp':!![],'isNoImport':!![],'importerPreRenderArgs':[{'fnResolve':_0x2d52ab,'fnReject':_0x411a7e,'pResult':_0x1ea94b}]});return _0x56758e[_0x8de7b7('0xe2')](!![]),_0x1ea94b;}};export{ImportList,MixinUserChooseImporter};