const _0x596f=['Updating\x20','value','items','attr','_$rowMass','.fltr__mini-view','select[name=\x22permu__sel-all-players-all-entities\x22]','Task','_pageFilter','_$btnReset','addEventListener','slice','Please\x20make\x20some\x20changes\x20first!','input[data-permu-player-id]','Saving...','users','DUR_INLINE_NOTIFY','[name=\x22btn-reset\x22]','type','click','label[data-permu-type=\x22lbl-entity-player\x22]','_setMassAllPlayerCheckboxValues','getData','sort','notifications','prop','STR_SEE_CONSOLE','entityMeta','getPermissionsEnum','length','...','data-permu-player-id','change','filter','.veapp__list','setAttribute','disabled','cbsPlayers','allPlayerUpdate','cbEachPlayer','_sortEntities','select[data-permu-type=\x22sel-entity-all-players\x22]','EVNT_VALCHANGE','visibleItems','Bulk\x20Permission\x20Editor','left','render','playerPermissions','filterBox','toDisplay','.search','input[name=\x22permu__cb-all-players-all-entities\x22]','_$iptSearch','closest','selsPlayers','label[data-permu-type=\x22lbl-entity-all-players\x22]','_collection','pInitFilterBox','forEach','_setMassCheckboxValues','data','cbAllPlayers','folder','pRunTasks','_entities','map','[name=btn-filter]','_absorbFnGetData','get','_list','input','_pHandleBtnClick_reset','.permu__row-ent','select[data-permu-type=\x22sel-entity\x22]','children','default','checked','.permu__cell-player','mergeMap','_pHandleBtnClick_run','val','Update\x20Complete','ele','SELECT','data-permu-value','handleSelectClick','getFolderPath','doAbsorbItems','_$btnRun','tagName','getValues','name','push','warn','text','[name=btn-toggle-summary]','data-permu-entity-id','path','update','label[data-permu-type=\x22lbl-player-all-entities\x22]','selAllPlayers','_collectionName','find','Updating...','values','entities','ascSortLower','close','_$cbAll','allPlayerPermissions','Updated\x20','_$cbEach','Fvtt','metasPlayerUpdates','target','_players','_handleFilterChange'];(function(_0x1b1c2f,_0x596fdf){const _0x408bcc=function(_0x5d59f3){while(--_0x5d59f3){_0x1b1c2f['push'](_0x1b1c2f['shift']());}};_0x408bcc(++_0x596fdf);}(_0x596f,0x130));const _0x408b=function(_0x1b1c2f,_0x596fdf){_0x1b1c2f=_0x1b1c2f-0x0;let _0x408bcc=_0x596f[_0x1b1c2f];return _0x408bcc;};const _0x398be5=_0x408b;'use strict';import{SharedConsts}from'../shared/SharedConsts.js';import{Util}from'./Util.js';import{BaseCollectionTool}from'./BaseCollectionTool.js';import{UtilApplications}from'./UtilApplications.js';import{AppFilterBasic}from'./FilterApplications.js';class CollectionPermissionUpdater extends BaseCollectionTool{constructor(_0x5d59f3){const _0x300310=_0x408b;super({'title':_0x300310('0x5b'),'template':SharedConsts['MODULE_LOCATION']+'/template/CollectionPermissionUpdater.handlebars','width':0x3c0,'height':Util['getMaxWindowHeight'](),'resizable':!![]},_0x5d59f3),this['_pageFilter']=new AppFilterBasic(),this[_0x300310('0x74')]=null,this[_0x300310('0x26')]=null,this[_0x300310('0x33')]=null,this[_0x300310('0x29')]=null,this[_0x300310('0x12')]=null,this[_0x300310('0x63')]=null,this[_0x300310('0x38')]=null,this['_players']=null,this['_entities']=null;}['activateListeners'](_0x3fba6c){const _0x1ba5a9=_0x408b;super['activateListeners'](_0x3fba6c);const _0x57f106='-2',_0x3bee5c=_0x3fba6c[0x0][_0x1ba5a9('0x4')][0x2],_0x18e74f=$(_0x3bee5c)[_0x1ba5a9('0x20')]('.permu__cell-ent-name')[_0x1ba5a9('0x70')]((_0x5aff12,_0x15e662)=>_0x15e662)[_0x1ba5a9('0x73')]();_0x3bee5c[_0x1ba5a9('0x39')]('scroll',()=>{const _0x47f203=_0x1ba5a9,_0xa35c80=_0x3bee5c['scrollLeft'];_0x18e74f[_0x47f203('0x69')](_0x453501=>_0x453501['style'][_0x47f203('0x5c')]=_0xa35c80+'px');});const _0x30094b=_0x3bee5c[_0x1ba5a9('0x4')][0x1];this[_0x1ba5a9('0x33')]=$(_0x30094b);const _0x393a87=this['_$rowMass'][_0x1ba5a9('0x20')](_0x1ba5a9('0x35'))[_0x1ba5a9('0x4f')](()=>{const _0x1edb5c=_0x1ba5a9,_0x16bff8=_0x393a87['val']();this[_0x1edb5c('0x74')][_0x1edb5c('0x5a')][_0x1edb5c('0x69')](_0x3c51be=>{const _0x23420a=_0x1edb5c;if(!_0x3c51be[_0x23420a('0x6b')][_0x23420a('0x6c')][_0x23420a('0x6')])return;_0x3c51be[_0x23420a('0x6b')][_0x23420a('0x1e')][_0x23420a('0x30')]=_0x16bff8,_0x3c51be['data'][_0x23420a('0x1e')][_0x23420a('0x52')](_0x23420a('0xe'),_0x16bff8);}),_0x393a87['val'](_0x57f106);});this[_0x1ba5a9('0x26')]=this[_0x1ba5a9('0x33')]['find'](_0x1ba5a9('0x62'))[_0x1ba5a9('0x4f')](()=>{const _0x361cfb=_0x1ba5a9,_0x576b7e=this['_$cbAll'][_0x361cfb('0x48')]('checked');this[_0x361cfb('0x44')](_0x576b7e),this[_0x361cfb('0x74')]['visibleItems'][_0x361cfb('0x69')](_0x2fca14=>{const _0x2ae74d=_0x361cfb;_0x2fca14[_0x2ae74d('0x6b')][_0x2ae74d('0x6c')][_0x2ae74d('0x6')]=_0x576b7e;});});const _0x478694=this[_0x1ba5a9('0x33')][_0x1ba5a9('0x20')]('select[name=\x22permu__sel-each-player-all-entities\x22]')[_0x1ba5a9('0x4f')](()=>{const _0x4a6f3b=_0x1ba5a9,_0x3d3519=_0x478694[_0x4a6f3b('0xa')](),_0x1c8685=this[_0x4a6f3b('0x74')][_0x4a6f3b('0x31')][0x0]?this[_0x4a6f3b('0x74')]['items'][0x0]['data']['cbsPlayers'][_0x4a6f3b('0x4c')]:0x0;for(let _0x111b0e=0x0;_0x111b0e<_0x1c8685;++_0x111b0e){this[_0x4a6f3b('0x74')][_0x4a6f3b('0x5a')][_0x4a6f3b('0x69')](_0x7d50cf=>{const _0x2378a6=_0x4a6f3b;if(!_0x7d50cf[_0x2378a6('0x6b')][_0x2378a6('0x54')][_0x111b0e][_0x2378a6('0x6')])return;_0x7d50cf[_0x2378a6('0x6b')][_0x2378a6('0x65')][_0x111b0e][_0x2378a6('0x30')]=_0x3d3519,_0x7d50cf[_0x2378a6('0x6b')][_0x2378a6('0x65')][_0x111b0e]['setAttribute'](_0x2378a6('0xe'),_0x3d3519);});}_0x478694[_0x4a6f3b('0xa')](_0x57f106);});this['_$cbEach']=this[_0x1ba5a9('0x33')]['find']('input[name=\x22permu__cb-each-player-all-entities\x22]')[_0x1ba5a9('0x4f')](()=>{const _0x68dbf2=_0x1ba5a9,_0x35b1e8=this['_$cbEach'][_0x68dbf2('0x48')](_0x68dbf2('0x6'));this[_0x68dbf2('0x6a')](_0x35b1e8),this[_0x68dbf2('0x74')][_0x68dbf2('0x5a')][_0x68dbf2('0x69')](_0x38a78f=>{const _0x7cdebb=_0x68dbf2;_0x38a78f[_0x7cdebb('0x6b')][_0x7cdebb('0x56')][_0x7cdebb('0x6')]=_0x35b1e8,_0x38a78f[_0x7cdebb('0x6b')][_0x7cdebb('0x54')][_0x7cdebb('0x69')](_0x232c14=>_0x232c14['checked']=_0x35b1e8);});}),this[_0x1ba5a9('0x33')]['on'](_0x1ba5a9('0x4f'),'select[data-permu-type=\x22sel-player-all-entities\x22]',_0x31f182=>{const _0x593699=_0x1ba5a9,_0x4257e4=$(_0x31f182[_0x593699('0x2c')]),_0x4bfdf4=_0x4257e4['val'](),_0x16bc47=_0x4257e4[_0x593699('0x32')]('data-permu-player-id'),_0x569a91=this[_0x593699('0x2d')]['findIndex'](_0x4a1fbd=>_0x4a1fbd['id']===_0x16bc47);this[_0x593699('0x74')][_0x593699('0x5a')]['forEach'](_0x53482e=>{const _0x10dda2=_0x593699;if(!_0x53482e[_0x10dda2('0x6b')][_0x10dda2('0x54')][_0x569a91][_0x10dda2('0x6')])return;_0x53482e['data'][_0x10dda2('0x65')][_0x569a91][_0x10dda2('0x30')]=_0x4bfdf4,_0x53482e[_0x10dda2('0x6b')][_0x10dda2('0x65')][_0x569a91][_0x10dda2('0x52')](_0x10dda2('0xe'),_0x4bfdf4);}),_0x4257e4[_0x593699('0xa')](_0x57f106);}),this[_0x1ba5a9('0x33')]['on'](_0x1ba5a9('0x42'),_0x1ba5a9('0x1d'),_0x521113=>{const _0x485488=_0x1ba5a9;if(_0x521113[_0x485488('0x2c')]['tagName']===_0x485488('0xd'))return;const _0x91aba9=$(_0x521113[_0x485488('0x2c')])['closest'](_0x485488('0x7')),_0x4bacf8=_0x91aba9[_0x485488('0x20')](_0x485488('0x0')),_0x47c45a=_0x4bacf8['prop']('checked'),_0x1d3579=_0x4bacf8[_0x485488('0x32')](_0x485488('0x4e')),_0x36884a=this[_0x485488('0x2d')]['findIndex'](_0x5afaff=>_0x5afaff['id']===_0x1d3579);this['_list'][_0x485488('0x5a')][_0x485488('0x69')](_0xcfa0e8=>{const _0x52a408=_0x485488;_0xcfa0e8[_0x52a408('0x6b')][_0x52a408('0x54')][_0x36884a][_0x52a408('0x6')]=_0x47c45a;});}),_0x3fba6c['on'](_0x1ba5a9('0x4f'),_0x1ba5a9('0x58'),_0x53b208=>{const _0x593013=_0x1ba5a9,_0x2790e4=$(_0x53b208[_0x593013('0x2c')]);_0x2790e4[_0x593013('0x32')](_0x593013('0xe'),_0x2790e4[_0x593013('0xa')]());}),_0x3fba6c['on'](_0x1ba5a9('0x42'),_0x1ba5a9('0x66'),_0x476b21=>{const _0x477c50=_0x1ba5a9;if(_0x476b21[_0x477c50('0x2c')]['tagName']===_0x477c50('0xd'))return;const _0x4be0f2=$(_0x476b21[_0x477c50('0x2c')])[_0x477c50('0x64')](_0x477c50('0x2')),_0x41c7b6=_0x4be0f2[_0x477c50('0x32')](_0x477c50('0x1a')),_0x51cf71=this[_0x477c50('0x74')]['items'][_0x477c50('0x20')](_0x3eebba=>_0x3eebba[_0x477c50('0x22')]['id']===_0x41c7b6);ListUiUtil[_0x477c50('0xf')](this[_0x477c50('0x74')],_0x51cf71,_0x476b21,{'fnGetCb':_0xd0abe0=>_0xd0abe0['data']['cbAllPlayers'],'isNoHighlightSelection':!![],'fnOnSelectionChange':(_0x183878,_0x254abe)=>{const _0x418439=_0x477c50;_0x183878[_0x418439('0x6b')][_0x418439('0x6c')]['checked']=_0x254abe;}});}),_0x3fba6c['on'](_0x1ba5a9('0x4f'),'select[data-permu-type=\x22sel-entity-each-player\x22]',_0x246515=>{const _0x52df99=_0x1ba5a9,_0xfa42e=$(_0x246515['target']),_0x561671=_0xfa42e['val'](),_0x262b1d=_0xfa42e['closest'](_0x52df99('0x2')),_0x4e8509=_0x262b1d[_0x52df99('0x32')](_0x52df99('0x1a')),_0x2e5def=this[_0x52df99('0x74')][_0x52df99('0x31')]['find'](_0x1b00e3=>_0x1b00e3['values']['id']===_0x4e8509),_0x1dbcb7=_0x2e5def[_0x52df99('0x6b')][_0x52df99('0x54')][_0x52df99('0x4c')];for(let _0x14a5b1=0x0;_0x14a5b1<_0x1dbcb7;++_0x14a5b1){if(!_0x2e5def[_0x52df99('0x6b')]['cbsPlayers'][_0x14a5b1][_0x52df99('0x6')])continue;_0x2e5def[_0x52df99('0x6b')][_0x52df99('0x65')][_0x14a5b1]['value']=_0x561671,_0x2e5def[_0x52df99('0x6b')][_0x52df99('0x65')][_0x14a5b1]['setAttribute'](_0x52df99('0xe'),_0x561671);}_0xfa42e[_0x52df99('0xa')](_0x57f106);}),_0x3fba6c['on'](_0x1ba5a9('0x42'),'label[data-permu-type=\x22lbl-entity-each-player\x22]',_0xe10378=>{const _0x4f348c=_0x1ba5a9;if(_0xe10378[_0x4f348c('0x2c')][_0x4f348c('0x13')]==='SELECT')return;const _0x4cccea=$(_0xe10378[_0x4f348c('0x2c')])[_0x4f348c('0x64')](_0x4f348c('0x2')),_0xdedc31=_0x4cccea['attr'](_0x4f348c('0x1a')),_0x276c4b=this['_list'][_0x4f348c('0x31')][_0x4f348c('0x20')](_0x2bb48a=>_0x2bb48a[_0x4f348c('0x22')]['id']===_0xdedc31);ListUiUtil[_0x4f348c('0xf')](this[_0x4f348c('0x74')],_0x276c4b,_0xe10378,{'fnGetCb':_0x19c1fc=>_0x19c1fc[_0x4f348c('0x6b')][_0x4f348c('0x56')],'isNoHighlightSelection':!![],'fnOnSelectionChange':(_0x380b9d,_0x146eb6)=>{const _0x1879f1=_0x4f348c;_0x380b9d[_0x1879f1('0x6b')][_0x1879f1('0x54')][_0x1879f1('0x69')](_0x260213=>_0x260213[_0x1879f1('0x6')]=_0x146eb6);}});}),_0x3fba6c['on']('change',_0x1ba5a9('0x3'),_0x526961=>{const _0xfd7c3a=_0x1ba5a9,_0x229e21=$(_0x526961[_0xfd7c3a('0x2c')]);_0x229e21[_0xfd7c3a('0x32')](_0xfd7c3a('0xe'),_0x229e21[_0xfd7c3a('0xa')]());}),_0x3fba6c['on'](_0x1ba5a9('0x42'),_0x1ba5a9('0x43'),_0x4ac222=>{const _0x2f52f3=_0x1ba5a9;if(_0x4ac222['target'][_0x2f52f3('0x13')]==='SELECT')return;const _0x3e5247=$(_0x4ac222['target'])[_0x2f52f3('0x64')](_0x2f52f3('0x2')),_0x32660a=$(_0x4ac222[_0x2f52f3('0x2c')])[_0x2f52f3('0x64')](_0x2f52f3('0x7'))[_0x2f52f3('0x20')](_0x2f52f3('0x3c')),_0x25cfe4=_0x3e5247[_0x2f52f3('0x32')]('data-permu-entity-id'),_0x31f96b=_0x32660a[_0x2f52f3('0x32')]('data-permu-player-id'),_0x461103=this[_0x2f52f3('0x2d')]['findIndex'](_0x14a067=>_0x14a067['id']===_0x31f96b),_0x54210a=this[_0x2f52f3('0x74')][_0x2f52f3('0x31')][_0x2f52f3('0x20')](_0x2f7655=>_0x2f7655[_0x2f52f3('0x22')]['id']===_0x25cfe4);ListUiUtil[_0x2f52f3('0xf')](this[_0x2f52f3('0x74')],_0x54210a,_0x4ac222,{'fnGetCb':_0x5811c2=>_0x5811c2[_0x2f52f3('0x6b')]['cbsPlayers'][_0x461103],'isNoHighlightSelection':!![],'fnOnSelectionChange':(_0x7bf634,_0x44d8cc)=>{const _0x224dcf=_0x2f52f3;_0x7bf634[_0x224dcf('0x6b')][_0x224dcf('0x54')][_0x461103][_0x224dcf('0x6')]=_0x44d8cc;}});}),this['_$btnRun']=_0x3fba6c[_0x1ba5a9('0x20')]('[name=\x22btn-save\x22]')['click'](async()=>this[_0x1ba5a9('0x9')]()),this['_$iptSearch']=_0x3fba6c['find'](_0x1ba5a9('0x61')),this['_$btnReset']=_0x3fba6c[_0x1ba5a9('0x20')](_0x1ba5a9('0x40'))[_0x1ba5a9('0x42')](()=>this[_0x1ba5a9('0x1')]()),this[_0x1ba5a9('0x74')]=new List({'$iptSearch':_0x3fba6c[_0x1ba5a9('0x20')](_0x1ba5a9('0x61')),'$wrpList':_0x3fba6c[_0x1ba5a9('0x20')](_0x1ba5a9('0x51')),'fnSort':CollectionPermissionUpdater[_0x1ba5a9('0x57')]}),this['_pageFilter'][_0x1ba5a9('0x68')]({'$iptSearch':this[_0x1ba5a9('0x63')],'$btnReset':this[_0x1ba5a9('0x38')],'$btnOpen':_0x3fba6c[_0x1ba5a9('0x20')](_0x1ba5a9('0x71')),'$btnToggleSummaryHidden':_0x3fba6c[_0x1ba5a9('0x20')](_0x1ba5a9('0x19')),'$wrpMiniPills':_0x3fba6c[_0x1ba5a9('0x20')](_0x1ba5a9('0x34')),'namespace':'tool-permissions_'+this[_0x1ba5a9('0x1f')]})['then'](()=>{const _0x31dc36=_0x1ba5a9;this[_0x31dc36('0x6f')][_0x31dc36('0x69')](_0x5f3d8b=>this['_pageFilter']['addToFilters'](_0x5f3d8b)),this[_0x31dc36('0x74')][_0x31dc36('0x11')](this[_0x31dc36('0x6f')],{'fnGetName':_0x5aa40f=>_0x5aa40f[_0x31dc36('0x15')],'fnGetValues':_0x3f797b=>({'id':_0x3f797b['id'],'path':_0x3f797b['path']}),'fnGetData':CollectionPermissionUpdater[_0x31dc36('0x72')]}),this['_list']['init'](),this[_0x31dc36('0x37')]['filterBox'][_0x31dc36('0x5d')](),this['_pageFilter'][_0x31dc36('0x5f')]['on'](FilterBox[_0x31dc36('0x59')],this['_handleFilterChange']['bind'](this)),this[_0x31dc36('0x2e')]();});}async[_0x398be5('0x9')](){const _0x4f5d32=_0x398be5;if(!this[_0x4f5d32('0x74')])return;const _0x23a2cc=[];this[_0x4f5d32('0x6f')][_0x4f5d32('0x69')](_0x28af31=>{const _0x4c4ff0=_0x4f5d32,_0xc9369d=this[_0x4c4ff0('0x74')][_0x4c4ff0('0x31')][_0x4c4ff0('0x20')](_0x5c11ec=>_0x5c11ec['values']['id']===_0x28af31['id']);let _0x39710a=null;const _0x5b5360=[],_0x54f296=''+_0x28af31[_0x4c4ff0('0x27')];if(_0xc9369d[_0x4c4ff0('0x6b')][_0x4c4ff0('0x1e')][_0x4c4ff0('0x30')]!==_0x54f296)_0x39710a=_0xc9369d['data'][_0x4c4ff0('0x1e')]['value'];_0xc9369d[_0x4c4ff0('0x6b')][_0x4c4ff0('0x65')]['forEach']((_0x3e82e6,_0x3484e7)=>{const _0x15201b=_0x4c4ff0,_0x122dcd=this['_players'][_0x3484e7]['id'],_0x29e6a2=''+_0x28af31[_0x15201b('0x5e')][_0x122dcd];if(_0x3e82e6[_0x15201b('0x30')]!==_0x29e6a2)_0x5b5360[_0x15201b('0x16')]({'value':_0x3e82e6[_0x15201b('0x30')],'playerId':_0x122dcd});});if(_0x39710a!=null||_0x5b5360[_0x4c4ff0('0x4c')])_0x23a2cc[_0x4c4ff0('0x16')]({'entityMeta':_0x28af31,'metasPlayerUpdates':_0x5b5360,'allPlayerUpdate':_0x39710a});});if(!_0x23a2cc)return ui[_0x4f5d32('0x47')][_0x4f5d32('0x17')](_0x4f5d32('0x3b'));this[_0x4f5d32('0x12')][_0x4f5d32('0x32')]('disabled',!![])['text'](_0x4f5d32('0x3d'));const _0x46eb16=_0x23a2cc[_0x4f5d32('0x70')](_0x4bead7=>new Util[(_0x4f5d32('0x36'))](''+_0x4bead7[_0x4f5d32('0x4a')][_0x4f5d32('0x1b')]+_0x4bead7[_0x4f5d32('0x4a')][_0x4f5d32('0x15')],()=>this['_pUpdateItemPermissions'](_0x4bead7)));await UtilApplications[_0x4f5d32('0x6e')](_0x46eb16,{'titleInitial':_0x4f5d32('0x21'),'titleComplete':_0x4f5d32('0xb'),'fnGetRowRunningText':_0x639949=>_0x4f5d32('0x2f')+_0x639949+_0x4f5d32('0x4d'),'fnGetRowSuccessText':_0x25d36b=>_0x4f5d32('0x28')+_0x25d36b+'.','fnGetRowErrorText':_0x159d4c=>'Failed\x20to\x20update\x20'+_0x159d4c+'!\x20'+VeCt[_0x4f5d32('0x49')]}),this['_$btnRun'][_0x4f5d32('0x32')](_0x4f5d32('0x53'),![])['text']('Saved!'),setTimeout(()=>this['_$btnRun'][_0x4f5d32('0x18')]('Save'),VeCt[_0x4f5d32('0x3f')]);}async['_pUpdateItemPermissions'](_0x526846){const _0x3583fe=_0x398be5,_0x36036b=this[_0x3583fe('0x67')][_0x3583fe('0x73')](_0x526846[_0x3583fe('0x4a')]['id']),_0x3f3a6a={..._0x36036b[_0x3583fe('0x6b')]['permission']};_0x526846[_0x3583fe('0x55')]!=null&&(_0x3f3a6a[_0x3583fe('0x5')]=Number(_0x526846[_0x3583fe('0x55')])),(_0x526846[_0x3583fe('0x2b')]||[])['forEach'](_0x47f986=>{const {playerId:_0xe1c120,value:_0x2fe2eb}=_0x47f986;_0x3f3a6a[_0xe1c120]=Number(_0x2fe2eb);}),await _0x36036b[_0x3583fe('0x1c')]({'permission':{}}),await _0x36036b[_0x3583fe('0x1c')]({'permission':_0x3f3a6a}),_0x526846[_0x3583fe('0x55')]!=null&&(_0x526846[_0x3583fe('0x4a')][_0x3583fe('0x27')]=''+_0x526846[_0x3583fe('0x55')]),(_0x526846['metasPlayerUpdates']||[])['forEach'](_0x11f9a2=>{const {playerId:_0x2520fb,value:_0x7124c9}=_0x11f9a2;_0x526846['entityMeta']['playerPermissions'][_0x2520fb]=''+_0x7124c9;});}async[_0x398be5('0x1')](){const _0x494105=_0x398be5;this[_0x494105('0x63')][_0x494105('0xa')](''),this[_0x494105('0x26')][_0x494105('0x48')](_0x494105('0x6'),![]),this[_0x494105('0x44')](![]),this[_0x494105('0x29')][_0x494105('0x48')](_0x494105('0x6'),![]),this['_setMassCheckboxValues'](![]),this['_entities']['forEach'](_0x5d04f9=>{const _0x25b672=_0x494105,_0x5b7d52=this[_0x25b672('0x74')][_0x25b672('0x31')][_0x25b672('0x20')](_0x288764=>_0x288764[_0x25b672('0x22')]['id']===_0x5d04f9['id']);_0x5b7d52[_0x25b672('0x6b')][_0x25b672('0x56')]['checked']=![],_0x5b7d52[_0x25b672('0x6b')]['cbsPlayers'][_0x25b672('0x69')](_0x4a4ab4=>_0x4a4ab4[_0x25b672('0x6')]=![]),_0x5b7d52['data']['selsPlayers'][_0x25b672('0x69')]((_0x1cca1b,_0x40fd7b)=>{const _0xcf8efc=_0x25b672,_0xa7deff=this[_0xcf8efc('0x2d')][_0x40fd7b]['id'],_0x7b3249=''+_0x5d04f9[_0xcf8efc('0x5e')][_0xa7deff];_0x1cca1b[_0xcf8efc('0x30')]=_0x7b3249,_0x1cca1b['setAttribute']('data-permu-value',_0x7b3249);});});}['_setMassAllPlayerCheckboxValues'](_0x5123d){const _0x27b4a3=_0x398be5;this[_0x27b4a3('0x74')][_0x27b4a3('0x5a')]['forEach'](_0x529502=>_0x529502[_0x27b4a3('0x6b')][_0x27b4a3('0x6c')][_0x27b4a3('0x6')]=_0x5123d);}['_setMassCheckboxValues'](_0x251190){const _0x527fdd=_0x398be5;this['_$rowMass'][_0x527fdd('0x20')](_0x527fdd('0x3c'))['get']()['forEach'](_0x424bb2=>_0x424bb2['checked']=_0x251190);}[_0x398be5('0x2e')](){const _0x3177fd=_0x398be5,_0x49f2ce=this[_0x3177fd('0x37')]['filterBox'][_0x3177fd('0x14')]();this[_0x3177fd('0x74')][_0x3177fd('0x50')](_0x1ba3b1=>this['_pageFilter'][_0x3177fd('0x60')](_0x49f2ce,this[_0x3177fd('0x6f')][_0x1ba3b1['ix']]));}static[_0x398be5('0x72')](_0x2343df){const _0x584af3=_0x398be5,_0x234302=_0x2343df[_0x584af3('0xc')][_0x584af3('0x4')][0x2],_0x21a330=_0x2343df[_0x584af3('0xc')]['children'][0x3],_0x868757=[..._0x2343df[_0x584af3('0xc')][_0x584af3('0x4')]][_0x584af3('0x3a')](0x4);return{'cbAllPlayers':_0x234302[_0x584af3('0x4')][0x0],'selAllPlayers':_0x234302[_0x584af3('0x4')][0x1],'cbEachPlayer':_0x21a330[_0x584af3('0x4')][0x0],'selEachPlayer':_0x21a330[_0x584af3('0x4')][0x1],'cbsPlayers':_0x868757[_0x584af3('0x70')](_0x591bc5=>_0x591bc5[_0x584af3('0x4')][0x0]),'selsPlayers':_0x868757[_0x584af3('0x70')](_0x21caf0=>_0x21caf0[_0x584af3('0x4')][0x1])};}static[_0x398be5('0x57')](_0x147956,_0x1cbf84){const _0x537728=_0x398be5,_0x22ae7b=_0x147956[_0x537728('0x22')]?_0x147956[_0x537728('0x22')][_0x537728('0x1b')]:_0x147956['path'],_0x32b1cf=_0x1cbf84[_0x537728('0x22')]?_0x1cbf84[_0x537728('0x22')][_0x537728('0x1b')]:_0x1cbf84[_0x537728('0x1b')];if(_0x22ae7b&&!_0x32b1cf)return-0x1;if(!_0x22ae7b&&_0x32b1cf)return 0x1;return SortUtil[_0x537728('0x24')](_0x22ae7b,_0x32b1cf)||SortUtil[_0x537728('0x24')](_0x147956[_0x537728('0x15')],_0x1cbf84[_0x537728('0x15')]);}[_0x398be5('0x45')](){const _0x30f25a=_0x398be5;return this[_0x30f25a('0x2d')]=game[_0x30f25a('0x3e')]['entities'][_0x30f25a('0x70')](_0x51ba79=>({'id':_0x51ba79['id'],'name':_0x51ba79['name']})),this[_0x30f25a('0x6f')]=this['_collection'][_0x30f25a('0x23')]['map']((_0xdc4b3c,_0x1e5c84)=>{const _0x2e6739=_0x30f25a,_0x44a494=UtilApplications[_0x2e6739('0x10')](_0xdc4b3c,{'isAddTrailingSlash':!![]}),_0x438e16=(_0xdc4b3c[_0x2e6739('0x6b')]||{})['permission']||{},_0x264a81=_0x438e16[_0x2e6739('0x5')]!=null?_0x438e16[_0x2e6739('0x5')]:-0x1;return{'id':_0xdc4b3c['id'],'name':_0xdc4b3c[_0x2e6739('0x15')],'allPlayerPermissions':_0x264a81,'playerPermissions':this[_0x2e6739('0x2d')][_0x2e6739('0x70')](_0x2628c5=>_0x2628c5['id'])[_0x2e6739('0x8')](_0x5053f4=>{const _0x6db9a1=_0x438e16[_0x5053f4]!=null?_0x438e16[_0x5053f4]:-0x1;return{[_0x5053f4]:_0x6db9a1};}),'type':MiscUtil[_0x2e6739('0x73')](_0xdc4b3c,'data',_0x2e6739('0x41'))||'unknown','folderId':_0xdc4b3c[_0x2e6739('0x6d')]?_0xdc4b3c['folder']['id']:null,'path':_0x44a494||'','ix':_0x1e5c84};}),this[_0x30f25a('0x6f')][_0x30f25a('0x46')](CollectionPermissionUpdater[_0x30f25a('0x57')]),{...super[_0x30f25a('0x45')](),'titleSearch':this[_0x30f25a('0x1f')]+'s','players':this[_0x30f25a('0x2d')],'entities':this[_0x30f25a('0x6f')],'permissions':Util[_0x30f25a('0x2a')][_0x30f25a('0x4b')]()};}[_0x398be5('0x25')](..._0x252e51){const _0x350666=_0x398be5;return this[_0x350666('0x37')]['teardown'](),super['close'](..._0x252e51);}}export{CollectionPermissionUpdater};