const _0x5b5f=['copy','checked','create','Importing...','defaultSource','_getData','pGetSources','title','getWalker','href','find','[].data\x22\x20was\x20missing!','splitTagByPipe','fnGetInlineHash','@table','pLoadHash','change','_TAG_WALKER_BLACKLIST','Unimplemented!','_tag','PG_SPELLS','dataProp','getData','pGetHomebrewSources','_displayName','splitByTags','_dataProp','count','ImportableTag','_title','_defaultSource','map','_availableInlineData','SOURCE_TYP_OFFICIAL_SINGLE','values','Failed\x20to\x20pre-process\x20data!\x20','_content','body','pInit','@spell','_pImportEntry_pGetFolderId','pGetUserEnum','sort','_pHandleRunButtonClick','_pImportEntry_pDoUpdateExistingDirectoryEntity','[name=\x22btn-run\x22]','_page','Import\x20Complete','pImportEntry','_brewDataProp','Imported\x20','_availableEntities','imported','tableGroup','hash','split','notifications','\x22\x20items\x20together!','_titleSearch','entries','DataSourceFile','sourceJsonToColor','sourceJsonToFull','get','_pHandleRunButtonClick_pDoPreImport','slice','keys','tag','__prop','_importer','Failed\x20to\x20import\x20','extractTag','SOURCE_TYP_CUSTOM','SYM_AT','bind','Spells','sources','head','Creatures','toLowerCase','_fnGetIndex','_activateListeners_initRunButton','size','_fnGetInlineHash','source','displayName','_activateListeners_initCheckboxes','PG_BESTIARY','brewDataProp','importedId','Items','input[data-source]','isSkip','forEach','_pHandleRunButtonClick_pDoMainImport','colLabels','\x22\x20was\x20missing!','fnGetInlineData','_fnGetUrl','getAdventureBookTables','has','TASK_EXIT_SKIPPED_DUPLICATE','_HOMEBREW_OTHER_DATA','name','pRunTasks','DataSourceUrl','@creature','$cb','page','_pLoadGenericHash','isOverwrite','input[data-type=\x22god\x22]','_registerImportableTag','prop','@item','length','_postLoadVetools','data','JournalEntry','STR_SEE_CONSOLE','folderType','URL_TO_HASH_BUILDER','folder','sourceLong','log','caption','Failed\x20to\x20build\x20journal\x20data!\x20','input[data-type=\x22all\x22]','SOURCE_TYP_BREW','walk','_isActivatedTab','contents','Could\x20not\x20import—header\x20and\x20chapter\x20counts\x20differed!','push','_activateListeners_initConfigButtons','activateSidebarTab','Importing\x20','sourceJsonToAbv','journal','_fnGetInlineData','splitFirstSpace','_getJournalDatas','error','importer','pCacheAndGet','...','_IMPORTABLE_TAGS','sidebar','_tagCbMetas','_getExtractedGenericTag','filter','_contentMetadata','pLoadInline','activateListeners','MODULE_LOCATION','ascSortLower','_pLoad_doActivateTab','[].contents\x22\x20and\x20\x22','_pPostLoadOther','\x22\x20and\x20\x22','_pubDate','add','PG_TABLES','Task'];(function(_0x321973,_0x5b5fb3){const _0x54ddac=function(_0x2e3039){while(--_0x2e3039){_0x321973['push'](_0x321973['shift']());}};_0x54ddac(++_0x5b5fb3);}(_0x5b5f,0xf4));const _0x54dd=function(_0x321973,_0x5b5fb3){_0x321973=_0x321973-0x0;let _0x54ddac=_0x5b5f[_0x321973];return _0x54ddac;};const _0x310268=_0x54dd;'use strict';import{ImportList}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Util,LGT}from'./Util.js';import{ImportListCreature}from'./ImportListCreature.js';import{ImportListSpell}from'./ImportListSpell.js';import{UtilApplications}from'./UtilApplications.js';import{ImportListItem}from'./ImportListItem.js';import{ImportListRollableTable}from'./ImportListRollableTable.js';import{DataConverter}from'./DataConverter.js';class ImportListAdventureBook extends ImportList{constructor(_0x2e3039,_0xd2ccf7,_0x20d89d,_0x56d5c9){const _0x451d5f=_0x54dd;super({'title':_0x2e3039[_0x451d5f('0x5b')],'template':SharedConsts[_0x451d5f('0x4a')]+'/template/ImportListAdventureBook.handlebars','width':0x1e0,'height':Util['getMaxWindowHeight'](0x280),'resizable':!![]},_0xd2ccf7,{..._0x20d89d,'sidebarTab':'journal','gameProp':_0x451d5f('0x3a'),'folderType':_0x451d5f('0x26'),'isNonCacheableInstance':!![]}),this[_0x451d5f('0x0')]=_0x56d5c9['fnGetIndex'],this[_0x451d5f('0x12')]=_0x56d5c9['fnGetUrl'],this['_dataProp']=_0x56d5c9[_0x451d5f('0x69')],this[_0x451d5f('0x85')]=_0x56d5c9[_0x451d5f('0x8')],this[_0x451d5f('0x71')]=_0x56d5c9[_0x451d5f('0x5b')],this['_availableEntities']=null,this['_availableInlineData']=null,this[_0x451d5f('0x44')]=null;}get['isRadio'](){return!![];}async[_0x310268('0x5a')](){const _0x5c8f48=_0x310268,_0x511774=await this[_0x5c8f48('0x0')](),_0xfb4fca=_0x511774[this[_0x5c8f48('0x6e')]]['sort']((_0x11d23d,_0x59b9e1)=>SortUtil['ascSortDate'](_0x59b9e1[_0x5c8f48('0x50')],_0x11d23d['_pubDate'])||SortUtil[_0x5c8f48('0x4b')](_0x11d23d['name'],_0x59b9e1[_0x5c8f48('0x17')]));return[..._0xfb4fca[_0x5c8f48('0x73')](_0x1b2413=>new ImportList[(_0x5c8f48('0x19'))](_0x1b2413[_0x5c8f48('0x17')],this[_0x5c8f48('0x12')](_0x1b2413['id']),{'pPostLoad':this[_0x5c8f48('0x24')]['bind'](this),'userData':_0x1b2413,'filterTypes':[ImportList[_0x5c8f48('0x75')]]})),new ImportList[(_0x5c8f48('0x19'))]('Custom\x20URL','',{'pPostLoad':this[_0x5c8f48('0x4e')][_0x5c8f48('0x9e')](this),'filterTypes':[ImportList[_0x5c8f48('0x9c')]]}),new ImportList[(_0x5c8f48('0x90'))]('Upload\x20File',{'pPostLoad':this['_pPostLoadOther'][_0x5c8f48('0x9e')](this),'filterTypes':[ImportList[_0x5c8f48('0x9c')]]}),...(await Vetools[_0x5c8f48('0x6b')](this[_0x5c8f48('0x6e')]))['map'](({name:_0x59093b,url:_0x5542ea})=>new ImportList[(_0x5c8f48('0x19'))](_0x59093b,_0x5542ea,{'pPostLoad':this[_0x5c8f48('0x4e')]['bind'](this),'filterTypes':[ImportList[_0x5c8f48('0x30')]]}))];}[_0x310268('0x24')](_0x2f5d2d,_0x50634e,_0x423f72){const _0x4caf0b=_0x310268;return _0x2f5d2d=MiscUtil[_0x4caf0b('0x54')](_0x2f5d2d),_0x2f5d2d[_0x4caf0b('0x47')]=MiscUtil[_0x4caf0b('0x54')](_0x423f72),_0x2f5d2d;}async[_0x310268('0x4e')](_0x2c4783){const _0xca701f=_0x310268;if(!_0x2c4783[this[_0xca701f('0x6e')]]||!_0x2c4783[this['_brewDataProp']])return ui[_0xca701f('0x8c')][_0xca701f('0x3e')]('File\x20did\x20not\x20contain\x20importable\x20data—one\x20of\x20\x22'+this[_0xca701f('0x6e')]+_0xca701f('0x4f')+this[_0xca701f('0x85')]+_0xca701f('0x10')),null;_0x2c4783=MiscUtil[_0xca701f('0x54')](_0x2c4783);const _0x29f802=_0x2c4783[this['_dataProp']][_0xca701f('0x73')](_0x15755c=>{const _0x1bf394=_0xca701f,_0x51f479=_0x2c4783[this['_brewDataProp']][_0x1bf394('0x5e')](_0x1e9ae0=>_0x1e9ae0['id']===_0x15755c['id']);if(!_0x51f479)return null;return{'head':_0x15755c,'body':_0x51f479[_0x1bf394('0x25')]};})[_0xca701f('0x46')](Boolean);if(!_0x29f802[_0xca701f('0x23')])return ui[_0xca701f('0x8c')]['error']('File\x20did\x20not\x20contain\x20importable\x20data—could\x20not\x20link\x20any\x20\x22'+this[_0xca701f('0x6e')]+_0xca701f('0x4f')+this[_0xca701f('0x85')]+_0xca701f('0x8d')),null;let _0x19febd;if(_0x29f802[_0xca701f('0x23')]===0x1)_0x19febd=_0x29f802[0x0];else{const _0x5309ea=await InputUiUtil[_0xca701f('0x7d')]({'values':_0x29f802[_0xca701f('0x73')](_0x513fe6=>_0x513fe6[_0xca701f('0xa1')]['id']),'fnDisplay':_0x786498=>{const _0xdc73ae=_0xca701f,_0x2e1c8e=_0x29f802[_0xdc73ae('0x5e')](_0x435339=>_0x435339['head']['id']===_0x786498);return _0x2e1c8e['head'][_0xdc73ae('0x17')]+'\x20('+Parser['sourceJsonToAbv'](_0x2e1c8e[_0xdc73ae('0xa1')][_0xdc73ae('0x4')])+')';},'title':'Choose\x20'+this[_0xca701f('0x71')],'default':0x0,'isAllowNull':![],'isResolveItem':!![]});if(_0x5309ea==null)return null;_0x19febd=_0x29f802[_0xca701f('0x5e')](_0x453a5a=>_0x453a5a[_0xca701f('0xa1')]['id']===_0x5309ea);}const _0xdaec91=MiscUtil['get'](_0x19febd,'head',_0xca701f('0x33')),_0x1e50c6=MiscUtil['get'](_0x19febd,_0xca701f('0x79'));if(!_0xdaec91||!_0x1e50c6)return ui[_0xca701f('0x8c')][_0xca701f('0x3e')]('Could\x20not\x20import—one\x20of\x20\x22'+this['_dataProp']+_0xca701f('0x4d')+this[_0xca701f('0x85')]+_0xca701f('0x5f')),null;if(_0xdaec91[_0xca701f('0x23')]!==_0x1e50c6[_0xca701f('0x23')])return ui[_0xca701f('0x8c')][_0xca701f('0x3e')](_0xca701f('0x34')),null;return{'_contentMetadata':_0x19febd[_0xca701f('0xa1')],'data':_0x19febd[_0xca701f('0x79')]};}[_0x310268('0x6a')](){const _0x11fa7b=_0x310268;try{return this['_getData']();}catch(_0xd5b1f4){ui[_0x11fa7b('0x8c')][_0x11fa7b('0x3e')](_0x11fa7b('0x77')+VeCt[_0x11fa7b('0x27')]);throw _0xd5b1f4;}}[_0x310268('0x59')](){const _0x21f6aa=_0x310268;this[_0x21f6aa('0x78')]=MiscUtil[_0x21f6aa('0x54')](this[_0x21f6aa('0x78')]),this[_0x21f6aa('0x87')]={},this[_0x21f6aa('0x74')]={};const _0x1481c8=MiscUtil[_0x21f6aa('0x5c')]({'keyBlacklist':ImportListAdventureBook[_0x21f6aa('0x65')]}),_0x5e7a5f={},_0x431e19=this[_0x21f6aa('0x78')][_0x21f6aa('0x47')]['source']||this[_0x21f6aa('0x78')][_0x21f6aa('0x47')]['id'];Object[_0x21f6aa('0x76')](ImportListAdventureBook[_0x21f6aa('0x42')])[_0x21f6aa('0x46')](_0x304f00=>_0x304f00['fnGetInlineData'])['forEach'](_0x53c5ca=>{const _0x1212b9=_0x21f6aa,_0x469223={[this[_0x1212b9('0x6e')]]:this[_0x1212b9('0x78')]['_contentMetadata'],[this[_0x1212b9('0x85')]]:{'data':this['_content'][_0x1212b9('0x25')]}},_0x1c7617={'headProp':this[_0x1212b9('0x6e')],'bodyProp':this[_0x1212b9('0x85')]};this['_availableInlineData'][_0x53c5ca[_0x1212b9('0x97')]]=_0x53c5ca['fnGetInlineData'](_0x469223,_0x1c7617)[_0x1212b9('0x7e')]((_0x55ba85,_0x414430)=>{const _0x321d99=_0x1212b9;return SortUtil[_0x321d99('0x4b')](_0x55ba85[_0x321d99('0x17')],_0x414430['name'])||SortUtil[_0x321d99('0x4b')](Parser[_0x321d99('0x92')](_0x55ba85['source']||_0x431e19),Parser[_0x321d99('0x92')](_0x414430[_0x321d99('0x4')]||_0x431e19));}),this['_availableInlineData'][_0x53c5ca[_0x1212b9('0x97')]]['forEach'](_0x370ef6=>{const _0x1fc74a=_0x1212b9,_0x56ba09=_0x53c5ca[_0x1fc74a('0x61')](_0x370ef6);(_0x5e7a5f[_0x53c5ca[_0x1fc74a('0x97')]]=_0x5e7a5f[_0x53c5ca[_0x1fc74a('0x97')]]||new Set())[_0x1fc74a('0x51')](_0x56ba09);});}),this[_0x21f6aa('0x78')][_0x21f6aa('0x25')][_0x21f6aa('0xd')](_0x33e4d7=>{const _0x4f1fe9=_0x21f6aa,_0x2bbe98={'string':_0x36169a=>{const _0x58e8b9=_0x54dd,_0x266c8f=Renderer['splitByTags'](_0x36169a),_0x269903=_0x266c8f[_0x58e8b9('0x23')];for(let _0x524f2b=0x0;_0x524f2b<_0x269903;++_0x524f2b){const _0x4e5d6e=_0x266c8f[_0x524f2b];if(!_0x4e5d6e)continue;if(!_0x4e5d6e['startsWith']('{@'))continue;const [_0x5d7607,_0x238092]=Renderer['splitFirstSpace'](_0x4e5d6e[_0x58e8b9('0x95')](0x1,-0x1)),_0x5b240e=ImportListAdventureBook[_0x58e8b9('0x42')][_0x5d7607];if(!_0x5b240e)continue;const _0x162521=_0x5b240e[_0x58e8b9('0x9b')](_0x238092);if(_0x5e7a5f[_0x5d7607]&&_0x5e7a5f[_0x5d7607][_0x58e8b9('0x14')](_0x162521[_0x58e8b9('0x8a')]))continue;(this['_availableEntities'][_0x5d7607]=this[_0x58e8b9('0x87')][_0x5d7607]||{})[_0x162521['source']]=this[_0x58e8b9('0x87')][_0x5d7607][_0x162521['source']]||new Set(),this[_0x58e8b9('0x87')][_0x5d7607][_0x162521[_0x58e8b9('0x4')]][_0x58e8b9('0x51')](_0x162521[_0x58e8b9('0x8a')]);}return _0x36169a;}};_0x1481c8[_0x4f1fe9('0x31')](_0x33e4d7,_0x2bbe98);});const _0x622233=Object['keys'](ImportListAdventureBook[_0x21f6aa('0x42')])[_0x21f6aa('0x73')](_0x9c3fa8=>{const _0x5276e0=_0x21f6aa,_0x18f8d3=ImportListAdventureBook['_IMPORTABLE_TAGS'][_0x9c3fa8],_0x402879=this[_0x5276e0('0x87')][_0x9c3fa8],_0x11f265=this[_0x5276e0('0x74')][_0x9c3fa8],_0x586c1e={'displayName':_0x18f8d3[_0x5276e0('0x5')],'tag':_0x9c3fa8,'sources':[]};_0x402879&&_0x586c1e[_0x5276e0('0xa0')][_0x5276e0('0x35')](...Object[_0x5276e0('0x8f')](_0x402879)['map'](([_0x60edc5,_0x20c93d])=>{const _0x5d4d41=_0x5276e0;return{'sourceLong':Parser[_0x5d4d41('0x92')](_0x60edc5),'sourceShort':Parser[_0x5d4d41('0x39')](_0x60edc5),'sourceClassName':Parser[_0x5d4d41('0x91')](_0x60edc5),'source':_0x60edc5,'count':_0x20c93d[_0x5d4d41('0x2')]};}));if(_0x11f265&&_0x11f265['length']){const _0x5b710e=_0x586c1e['sources'][_0x5276e0('0x5e')](_0x2ef668=>_0x2ef668[_0x5276e0('0x4')][_0x5276e0('0xa3')]()===_0x431e19[_0x5276e0('0xa3')]());if(_0x5b710e)_0x5b710e[_0x5276e0('0x6f')]+=_0x11f265[_0x5276e0('0x23')];else _0x586c1e['sources'][_0x5276e0('0x35')]({'sourceLong':Parser[_0x5276e0('0x92')](_0x431e19),'sourceShort':Parser[_0x5276e0('0x39')](_0x431e19),'sourceClassName':Parser['sourceJsonToColor'](_0x431e19),'source':_0x431e19,'count':_0x11f265['length']});}return _0x586c1e['sources'][_0x5276e0('0x7e')]((_0x33ab0a,_0x4c992f)=>SortUtil[_0x5276e0('0x4b')](_0x33ab0a[_0x5276e0('0x2b')],_0x4c992f[_0x5276e0('0x2b')])),_0x586c1e;})[_0x21f6aa('0x46')](_0x279365=>_0x279365[_0x21f6aa('0xa0')][_0x21f6aa('0x23')]);return{'name':this[_0x21f6aa('0x78')][_0x21f6aa('0x47')]['name'],'titleSearch':this[_0x21f6aa('0x8e')],'tagSections':_0x622233};}[_0x310268('0x49')](_0x1d21bc){const _0x4b8376=_0x310268;this[_0x4b8376('0x6')](_0x1d21bc),this[_0x4b8376('0x36')](_0x1d21bc),this[_0x4b8376('0x1')](_0x1d21bc);}[_0x310268('0x6')](_0x449d62){const _0x2b12d5=_0x310268;this[_0x2b12d5('0x44')]={},_0x449d62[_0x2b12d5('0x5e')](_0x2b12d5('0xb'))['each']((_0x140aff,_0x1a8fe9)=>{const _0x575b8c=_0x2b12d5,_0x379a3b=$(_0x1a8fe9),_0x764913=_0x379a3b[_0x575b8c('0x25')]('tag'),_0x1256e1=_0x379a3b[_0x575b8c('0x25')](_0x575b8c('0x4'));(this['_tagCbMetas'][_0x764913]=this[_0x575b8c('0x44')][_0x764913]||[])[_0x575b8c('0x35')]({'source':_0x1256e1,'$cb':_0x379a3b});});const _0xc6ff6b=_0x449d62[_0x2b12d5('0x5e')](_0x2b12d5('0x2f'))['map']((_0x4fe4c2,_0x2bd498)=>{const _0x53c3c3=_0x2b12d5,_0x2eb7f4=$(_0x2bd498),_0x68e590=_0x2eb7f4[_0x53c3c3('0x25')](_0x53c3c3('0x97'));return _0x2eb7f4[_0x53c3c3('0x64')](()=>{const _0x5152aa=_0x53c3c3,_0x5a3ed9=_0x2eb7f4[_0x5152aa('0x21')](_0x5152aa('0x55'));this['_tagCbMetas'][_0x68e590][_0x5152aa('0xd')](_0x42ef42=>_0x42ef42[_0x5152aa('0x1b')][_0x5152aa('0x21')](_0x5152aa('0x55'),_0x5a3ed9));}),_0x2eb7f4;})[_0x2b12d5('0x93')](),_0x278001=_0x449d62[_0x2b12d5('0x5e')](_0x2b12d5('0x1f'));_0x278001[_0x2b12d5('0x64')](()=>{const _0x3d2368=_0x2b12d5,_0x2697ee=_0x278001[_0x3d2368('0x21')]('checked');_0xc6ff6b[_0x3d2368('0xd')](_0xcffad8=>_0xcffad8['prop'](_0x3d2368('0x55'),_0x2697ee)[_0x3d2368('0x64')]());});}[_0x310268('0x36')](_0x2eed8e){_0x2eed8e['find']('button[data-type=\x22configure\x22]')['each']((_0x39435f,_0x2c6dce)=>{const _0x267dc0=_0x54dd,_0x1b034d=$(_0x2c6dce),_0x1fd6d7=_0x1b034d['data'](_0x267dc0('0x97')),_0x164843=ImportListAdventureBook[_0x267dc0('0x42')][_0x1fd6d7];_0x1b034d['click'](async()=>{const _0x9c4739=_0x267dc0;await _0x164843[_0x9c4739('0x3f')][_0x9c4739('0x7a')](),await _0x164843[_0x9c4739('0x3f')]['pHandleEditFolderPathClick']();});});}[_0x310268('0x1')](_0x14197c){const _0x1aeeb4=_0x310268;_0x14197c[_0x1aeeb4('0x5e')](_0x1aeeb4('0x81'))['click'](async()=>this[_0x1aeeb4('0x7f')]());}async['_pHandleRunButtonClick'](){const _0x57439d=_0x310268;this['close'](),console[_0x57439d('0x2c')](...LGT,_0x57439d('0x38')+this['_dataProp']+'\x20\x22'+this[_0x57439d('0x78')][_0x57439d('0x47')]['name']+'\x22');const _0xc280fc=await this[_0x57439d('0x94')]();await this['_pHandleRunButtonClick_pDoMainImport'](_0xc280fc);}async['_pHandleRunButtonClick_pDoPreImport'](){const _0x1afcb7=_0x310268,_0x3be3fc={};Object[_0x1afcb7('0x8f')](this[_0x1afcb7('0x44')])[_0x1afcb7('0xd')](([_0x428c26,_0x43d645])=>{const _0x5d90f2=_0x1afcb7,_0x321eea=_0x43d645[_0x5d90f2('0x46')](_0x29ab19=>_0x29ab19[_0x5d90f2('0x1b')]['prop']('checked'))[_0x5d90f2('0x73')](_0x26970b=>_0x26970b[_0x5d90f2('0x4')]);if(!_0x321eea[_0x5d90f2('0x23')])return;_0x3be3fc[_0x428c26]=_0x321eea;});const _0xb9116f={};if(!Object[_0x1afcb7('0x96')](_0x3be3fc)[_0x1afcb7('0x23')])return _0xb9116f;const _0x73df25=[];for(const [_0x514404,_0x179112]of Object[_0x1afcb7('0x8f')](_0x3be3fc)){const _0x4e28a3=_0xb9116f[_0x514404]={},_0x2fa582=ImportListAdventureBook[_0x1afcb7('0x42')][_0x514404];for(const _0x1c4039 of _0x179112){const _0x642011=[...MiscUtil[_0x1afcb7('0x93')](this[_0x1afcb7('0x87')],_0x514404,_0x1c4039)||[]];for(const _0x5025ab of _0x642011){const [_0x1b458a,_0x462c73]=_0x5025ab[_0x1afcb7('0x8b')](HASH_LIST_SEP),_0x511c7c=decodeURIComponent(_0x1b458a)['toTitleCase'](),_0x2216b1=Parser[_0x1afcb7('0x39')](_0x462c73);_0x73df25[_0x1afcb7('0x35')](new Util[(_0x1afcb7('0x53'))](_0x2fa582[_0x1afcb7('0x5')]+':\x20'+_0x511c7c+'\x20('+_0x2216b1+')',()=>(async()=>{const {folderType:_0x173b5c,id:_0x1e8426}=await _0x2fa582['pLoadHash'](_0x5025ab);(_0x4e28a3[_0x514404]=_0x4e28a3[_0x514404]||{})[_0x5025ab]={'folderType':_0x173b5c,'importedId':_0x1e8426};})()));}const _0x20a557=[...MiscUtil[_0x1afcb7('0x93')](this[_0x1afcb7('0x74')],_0x514404)||[]];for(const _0x46af2b of _0x20a557){_0x73df25[_0x1afcb7('0x35')](new Util['Task'](_0x2fa582[_0x1afcb7('0x5')]+':\x20'+_0x46af2b[_0x1afcb7('0x17')]+'\x20('+_0x46af2b['source']+')',()=>(async()=>{await _0x2fa582['pLoadInline'](_0x46af2b);})()));}}}return await UtilApplications[_0x1afcb7('0x18')](_0x73df25,{'titleInitial':_0x1afcb7('0x57'),'titleComplete':_0x1afcb7('0x83'),'fnGetRowRunningText':_0x13b34b=>_0x1afcb7('0x38')+_0x13b34b+_0x1afcb7('0x41'),'fnGetRowSuccessText':_0x3812cd=>_0x1afcb7('0x86')+_0x3812cd+'.','fnGetRowErrorText':_0x19f026=>'Failed\x20to\x20import\x20'+_0x19f026+'!\x20'+VeCt[_0x1afcb7('0x27')],'isForceClose':!![]}),_0xb9116f;}async[_0x310268('0xe')](_0x36ee25){const _0xd32d3b=_0x310268,_0x350ec1=MiscUtil[_0xd32d3b('0x5c')]({'keyBlacklist':ImportListAdventureBook[_0xd32d3b('0x65')]}),_0x5c394a={'string':_0x48caf2=>{const _0x51b55f=_0xd32d3b,_0xa597b7=Renderer[_0x51b55f('0x6d')](_0x48caf2),_0x184739=_0xa597b7[_0x51b55f('0x23')];let _0x2142ef='';for(let _0x860daa=0x0;_0x860daa<_0x184739;++_0x860daa){const _0x2e91fa=_0xa597b7[_0x860daa];if(!_0x2e91fa)continue;if(!_0x2e91fa['startsWith']('{@')){_0x2142ef+=_0x2e91fa;continue;}const [_0x2a407c,_0x593ea4]=Renderer[_0x51b55f('0x3c')](_0x2e91fa['slice'](0x1,-0x1)),_0x15fc87=ImportListAdventureBook[_0x51b55f('0x42')][_0x2a407c],_0x5eaaf5=_0x36ee25[_0x2a407c];if(!_0x15fc87||!_0x5eaaf5){_0x2142ef+=_0x2e91fa;continue;}const _0x4b9a6c=_0x15fc87['extractTag'](_0x593ea4),_0x2292c6=MiscUtil[_0x51b55f('0x93')](_0x5eaaf5,_0x2a407c,_0x4b9a6c[_0x51b55f('0x8a')]);if(!_0x2292c6){_0x2142ef+=_0x2e91fa;continue;}_0x2142ef+=''+DataConverter[_0x51b55f('0x9d')]+_0x2292c6[_0x51b55f('0x28')]+'['+_0x2292c6[_0x51b55f('0x9')]+']{'+_0x4b9a6c['displayText']+'}';}return _0x2142ef;}};this['_content'][_0xd32d3b('0x25')]=_0x350ec1[_0xd32d3b('0x31')](this[_0xd32d3b('0x78')][_0xd32d3b('0x25')],_0x5c394a);let _0x144c8d;try{_0x144c8d=this[_0xd32d3b('0x3d')]();}catch(_0x283191){ui[_0xd32d3b('0x8c')][_0xd32d3b('0x3e')](_0xd32d3b('0x2e')+VeCt[_0xd32d3b('0x27')]);throw _0x283191;}const _0x46e96c=[],_0x32c1cb=await this[_0xd32d3b('0x7c')]({'name':this[_0xd32d3b('0x78')]['_contentMetadata']['name'],'source':this['_content'][_0xd32d3b('0x47')][_0xd32d3b('0x4')]});for(const _0x2143b2 of _0x144c8d){_0x46e96c[_0xd32d3b('0x35')](new Util['Task'](_0x2143b2[_0xd32d3b('0x17')],()=>{const _0x26ac3c=_0xd32d3b,_0x442a6a=this['_getDuplicateMeta']({'name':_0x2143b2['name']});if(_0x442a6a[_0x26ac3c('0xc')])return UtilApplications[_0x26ac3c('0x15')];if(_0x442a6a[_0x26ac3c('0x1e')])return this[_0x26ac3c('0x80')](_0x442a6a,_0x2143b2);if(_0x32c1cb)_0x2143b2[_0x26ac3c('0x2a')]=_0x32c1cb;return JournalEntry[_0x26ac3c('0x56')](_0x2143b2,{'renderSheet':![],'temporary':![]});}));}ui[_0xd32d3b('0x43')]['activateTab'](_0xd32d3b('0x3a')),await UtilApplications[_0xd32d3b('0x18')](_0x46e96c,{'titleInitial':_0xd32d3b('0x57'),'titleComplete':_0xd32d3b('0x83'),'fnGetRowRunningText':_0x150063=>_0xd32d3b('0x38')+_0x150063+_0xd32d3b('0x41'),'fnGetRowSuccessText':_0x474d46=>_0xd32d3b('0x86')+_0x474d46+'.','fnGetRowErrorText':_0x5b8250=>_0xd32d3b('0x9a')+_0x5b8250+'!\x20'+VeCt[_0xd32d3b('0x27')]});}[_0x310268('0x3d')](){const _0x5e7d69=_0x310268;throw new Error(_0x5e7d69('0x66'));}static['_registerImportableTag'](_0x3e7efb){const _0x2a8d12=_0x310268;this[_0x2a8d12('0x42')][_0x3e7efb[_0x2a8d12('0x97')]]=_0x3e7efb;}}ImportListAdventureBook['_IMPORTABLE_TAGS']={},ImportListAdventureBook[_0x310268('0x16')]={},ImportListAdventureBook[_0x310268('0x70')]=class{constructor(_0x160900){const _0x54dba3=_0x310268;this[_0x54dba3('0x6c')]=_0x160900[_0x54dba3('0x5')],this['_tag']=_0x160900[_0x54dba3('0x97')],this[_0x54dba3('0x82')]=_0x160900[_0x54dba3('0x1c')],this[_0x54dba3('0x72')]=_0x160900[_0x54dba3('0x58')],this[_0x54dba3('0x99')]=_0x160900['importer'],this[_0x54dba3('0x3b')]=_0x160900['fnGetInlineData'],this['_fnGetInlineHash']=_0x160900[_0x54dba3('0x61')],this[_0x54dba3('0x32')]=![];}get[_0x310268('0x5')](){const _0x231c9f=_0x310268;return this[_0x231c9f('0x6c')];}get[_0x310268('0x97')](){const _0x1ccc85=_0x310268;return this[_0x1ccc85('0x67')];}get[_0x310268('0x1c')](){return this['_page'];}get[_0x310268('0x3f')](){const _0x5b79a2=_0x310268;return this[_0x5b79a2('0x99')];}get[_0x310268('0x11')](){return this['_fnGetInlineData'];}get[_0x310268('0x61')](){const _0x40fc12=_0x310268;return this[_0x40fc12('0x3')];}[_0x310268('0x63')](_0x5749d6){const _0xb954ad=_0x310268;return this[_0xb954ad('0x4c')](),this[_0xb954ad('0x1d')](_0x5749d6);}[_0x310268('0x4c')](){const _0x6cd8a=_0x310268;!this[_0x6cd8a('0x32')]&&(this[_0x6cd8a('0x99')][_0x6cd8a('0x37')](),this['_isActivatedTab']=!![]);}async[_0x310268('0x1d')](_0x5f5722){const _0x5b25b2=_0x310268,[_0x45ab20,_0x34b8b4]=_0x5f5722[_0x5b25b2('0x8b')](HASH_LIST_SEP),_0x390b10=await Renderer['hover'][_0x5b25b2('0x40')](this[_0x5b25b2('0x82')],_0x34b8b4,_0x5f5722);await this[_0x5b25b2('0x99')]['pInit']();const _0x5892b8=await this[_0x5b25b2('0x99')][_0x5b25b2('0x84')](_0x390b10,{});return{'folderType':this['_importer']['folderType'],'id':_0x5892b8[_0x5b25b2('0x88')]?.['id'],'hash':_0x5f5722};}static[_0x310268('0x45')](_0x6df39,_0x45341a,_0x55af22){const _0x1aaf8e=_0x310268,[_0x270570,_0x31dff2,_0x196434]=Renderer[_0x1aaf8e('0x60')](_0x55af22),_0x3f5d6c=(_0x31dff2||_0x45341a)[_0x1aaf8e('0xa3')](),_0xb4ac2d={'name':_0x270570,'source':_0x3f5d6c};return{'source':_0x3f5d6c,'displayText':_0x196434||_0x270570,'hash':UrlUtil[_0x1aaf8e('0x29')][_0x6df39](_0xb4ac2d)};}[_0x310268('0x9b')](_0x40b72c){const _0x244247=_0x310268;return ImportListAdventureBook['ImportableTag']['_getExtractedGenericTag'](this[_0x244247('0x82')],this['_defaultSource'],_0x40b72c);}async[_0x310268('0x48')](_0x41a29f){const _0x51e453=_0x310268;this[_0x51e453('0x4c')](),await this['_importer'][_0x51e453('0x7a')](),await this[_0x51e453('0x99')][_0x51e453('0x84')](_0x41a29f,{});}},ImportListAdventureBook[_0x310268('0x65')]=new Set([_0x310268('0x17'),_0x310268('0x2d'),_0x310268('0xf'),'style','type',_0x310268('0x5d'),_0x310268('0x1c')]),ImportListAdventureBook[_0x310268('0x20')](new ImportListAdventureBook['ImportableTag']({'displayName':_0x310268('0xa2'),'tag':_0x310268('0x1a'),'page':UrlUtil[_0x310268('0x7')],'defaultSource':SRC_MM,'importer':new ImportListCreature()})),ImportListAdventureBook[_0x310268('0x20')](new ImportListAdventureBook[(_0x310268('0x70'))]({'displayName':_0x310268('0x9f'),'tag':_0x310268('0x7b'),'page':UrlUtil[_0x310268('0x68')],'defaultSource':SRC_PHB,'importer':new ImportListSpell()})),ImportListAdventureBook[_0x310268('0x20')](new ImportListAdventureBook[(_0x310268('0x70'))]({'displayName':_0x310268('0xa'),'tag':_0x310268('0x22'),'page':UrlUtil['PG_ITEMS'],'defaultSource':SRC_DMG,'importer':new ImportListItem()})),ImportListAdventureBook[_0x310268('0x20')](new ImportListAdventureBook['ImportableTag']({'displayName':'Tables','tag':_0x310268('0x62'),'page':UrlUtil[_0x310268('0x52')],'defaultSource':SRC_DMG,'importer':new ImportListRollableTable(),'fnGetInlineData':(_0x193ded,_0x1d5373)=>{const _0x52ada1=_0x310268,{table:_0x38b556,tableGroup:_0x5804ff}=UtilGenTables[_0x52ada1('0x13')](_0x193ded,_0x1d5373);return _0x38b556['forEach'](_0x4fd075=>_0x4fd075['__prop']='table'),_0x5804ff['forEach'](_0x56f6e5=>_0x56f6e5[_0x52ada1('0x98')]=_0x52ada1('0x89')),[..._0x38b556,..._0x5804ff];},'fnGetInlineHash':_0x505b25=>{const _0x4edc81=_0x310268;return UrlUtil['URL_TO_HASH_BUILDER'][UrlUtil['PG_TABLES']](_0x505b25)[_0x4edc81('0xa3')]();}}));export{ImportListAdventureBook};