const _0x1889=['get','absorbFnBindListeners','_content','_titleSearch','absorbFnGetData','forEach','imported','_page','Tables','_pageFilter','DataSourceSpecial','Source','getTableRollableTable','_list','Upload\x20File','copy','DataSourceUrl','RollTable','tables','SRD','DataSourceFile','create','isOverwrite','push','sourceShort','isTemp','name','doAbsorbItems','PG_TABLES','5etools-rollable-tables','_pImportTableGroup','text-center','\x22\x20(from\x20\x22','_pImportEntry_pImportToDirectoryGeneric','_pImportEntry_pDoUpdateExistingDirectoryEntity','_pImportEntry_getTablesFromGroup',',\x20Table\x20','source','SOURCE_TYP_OFFICIAL_ALL','caption','log','journal','map','_pImportEntry_pImportToDirectoryGeneric_pGetImportableData','SOURCE_TYP_BREW','sourceJsonToColor','Importing\x20table\x20\x22','isStreamerMode','isSkip','TASK_EXIT_SKIPPED_DUPLICATE','sourceJsonToAbv','tableGroup','table','_activateListeners_absorbListItems','pGetHomebrewSources','pImportEntry','pGetSources','Import\x20Rollable\x20Tables','TASK_EXIT_COMPLETE','URL_TO_HASH_BUILDER','_pImportEntry_pGetFolderId','sourceJsonToFull','SOURCE_TYP_CUSTOM','__prop','_getDuplicateMeta','pGetRollableTables'];(function(_0x11b80c,_0x188981){const _0x19b08b=function(_0x274098){while(--_0x274098){_0x11b80c['push'](_0x11b80c['shift']());}};_0x19b08b(++_0x188981);}(_0x1889,0x10f));const _0x19b0=function(_0x11b80c,_0x188981){_0x11b80c=_0x11b80c-0x0;let _0x19b08b=_0x1889[_0x11b80c];return _0x19b08b;};const _0x34bd43=_0x19b0;'use strict';import{ImportList}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{LGT}from'./Util.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{DataConverterTable}from'./DataConverterTable.js';import{UtilApplications}from'./UtilApplications.js';class ImportListRollableTable extends ImportList{constructor(_0x274098){const _0x403056=_0x19b0;_0x274098=_0x274098||{},super({'title':_0x403056('0x32')},_0x274098,{'props':[_0x403056('0x2d'),_0x403056('0x2c')],'titleSearch':_0x403056('0x2d'),'sidebarTab':_0x403056('0xb'),'gameProp':_0x403056('0xb'),'defaultFolderPath':[_0x403056('0x1')],'folderType':_0x403056('0xa'),'pageFilter':new PageFilterTables(),'page':UrlUtil[_0x403056('0x15')],'isPreviewable':!![],'isDedupable':!![]});}async[_0x34bd43('0x31')](){const _0x1ff0f4=_0x34bd43;return[new ImportList[(_0x1ff0f4('0x3'))](Config[_0x1ff0f4('0x3b')]('ui',_0x1ff0f4('0x28'))?_0x1ff0f4('0xc'):'5etools',Vetools[_0x1ff0f4('0x3a')]['bind'](Vetools),{'cacheKey':_0x1ff0f4('0x16'),'isUseProps':!![],'filterTypes':[ImportList[_0x1ff0f4('0x1f')]],'isDefault':!![]}),new ImportList['DataSourceUrl']('Custom\x20URL','',{'filterTypes':[ImportList[_0x1ff0f4('0x37')]]}),new ImportList[(_0x1ff0f4('0xd'))](_0x1ff0f4('0x7'),{'filterTypes':[ImportList[_0x1ff0f4('0x37')]]}),...(await Vetools[_0x1ff0f4('0x2f')](_0x1ff0f4('0x2d')))['map'](({name:_0x4d1c07,url:_0x334a45})=>new ImportList[(_0x1ff0f4('0x9'))](_0x4d1c07,_0x334a45,{'filterTypes':[ImportList[_0x1ff0f4('0x25')]]}))];}['getData'](){const _0x54b404=_0x34bd43;return{'isPreviewable':this['_isPreviewable'],'titleButtonRun':this['_titleButtonRun'],'titleSearch':this[_0x54b404('0x3e')],'cols':[{'name':'Name','width':0x9,'field':_0x54b404('0x13')},{'name':_0x54b404('0x4'),'width':0x2,'field':'source','titleProp':'sourceLong','displayProp':_0x54b404('0x11'),'classNameProp':'sourceClassName','rowClassName':_0x54b404('0x18')}],'rows':this[_0x54b404('0x3d')][_0x54b404('0x23')]((_0xae51ba,_0x1dfbed)=>{const _0x13f761=_0x54b404;return this[_0x13f761('0x2')]['mutateForFilters'](_0xae51ba),{'name':_0xae51ba[_0x13f761('0x13')],'source':_0xae51ba[_0x13f761('0x1e')],'sourceShort':Parser['sourceJsonToAbv'](_0xae51ba[_0x13f761('0x1e')]),'sourceLong':Parser[_0x13f761('0x36')](_0xae51ba[_0x13f761('0x1e')]),'sourceClassName':Parser[_0x13f761('0x26')](_0xae51ba['source']),'ix':_0x1dfbed};})};}[_0x34bd43('0x2e')](){const _0x26f228=_0x34bd43;this['_list'][_0x26f228('0x14')](this[_0x26f228('0x3d')],{'fnGetName':_0x1f4a65=>_0x1f4a65[_0x26f228('0x13')],'fnGetValues':_0x13a8bb=>({'source':_0x13a8bb[_0x26f228('0x1e')],'hash':UrlUtil[_0x26f228('0x34')][this[_0x26f228('0x0')]](_0x13a8bb)}),'fnGetData':UtilList2[_0x26f228('0x3f')],'fnBindListeners':_0x108a06=>UtilList2[_0x26f228('0x3c')](this[_0x26f228('0x6')],_0x108a06)});}[_0x34bd43('0x1c')](_0x14c5a9){const _0x1feaa3=_0x34bd43,_0x4ac89a=MiscUtil[_0x1feaa3('0x8')](_0x14c5a9);return _0x4ac89a[_0x1feaa3('0xb')][_0x1feaa3('0x40')]((_0x414556,_0x125f49)=>{const _0x4e73d4=_0x1feaa3;if(_0x4ac89a['name'])_0x414556[_0x4e73d4('0x13')]=_0x414556[_0x4e73d4('0x13')]||_0x4ac89a['name']+_0x4e73d4('0x1d')+(_0x125f49+0x1);_0x414556['source']=_0x414556[_0x4e73d4('0x1e')]||_0x4ac89a[_0x4e73d4('0x1e')];}),_0x4ac89a[_0x1feaa3('0xb')];}async[_0x34bd43('0x17')](_0x1aa987,_0x1779f8){const _0xcf809a=_0x34bd43;if(_0x1aa987[_0xcf809a('0x38')]!==_0xcf809a('0x2c'))return null;console[_0xcf809a('0x21')](...LGT,'Importing\x20table\x20group\x20\x22'+(_0x1aa987['name']||_0x1aa987[_0xcf809a('0x20')])+_0xcf809a('0x19')+Parser[_0xcf809a('0x2b')](_0x1aa987[_0xcf809a('0x1e')])+'\x22)');const _0x5b3a4b=this[_0xcf809a('0x1c')](_0x1aa987),_0x3524d=[];for(const _0x21c7c2 of _0x5b3a4b){const _0x1be64b=await this[_0xcf809a('0x30')](_0x21c7c2,_0x1779f8);_0x3524d[_0xcf809a('0x10')](_0x1be64b[_0xcf809a('0x41')]);}const _0x3b252e=DataConverterTable['getTableGroupJournal'](_0x1aa987,_0x3524d,{'isAddPermission':!![]}),_0x4eeab2=this[_0xcf809a('0x39')]({'name':_0x3b252e[_0xcf809a('0x13')],'gameProp':_0xcf809a('0x22')});if(_0x4eeab2[_0xcf809a('0x29')])return{'status':UtilApplications[_0xcf809a('0x2a')]};const _0x547f4c=_0x1779f8[_0xcf809a('0x12')]||!!this['_pack'];if(_0x547f4c){const _0xa06fe7=await JournalEntry[_0xcf809a('0xe')](_0x3b252e,{'renderSheet':!![],'temporary':!![]});return{'imported':_0xa06fe7,'status':UtilApplications[_0xcf809a('0x33')]};}if(_0x4eeab2[_0xcf809a('0xf')])return this[_0xcf809a('0x1b')](_0x4eeab2,_0x3b252e);const _0x734422=await this[_0xcf809a('0x35')](_0x1aa987);if(_0x734422)_0x3b252e['folder']=_0x734422;const _0x3cfa5a=await JournalEntry[_0xcf809a('0xe')](_0x3b252e,{'renderSheet':![],'temporary':![]});return await game[_0xcf809a('0x22')]['insert'](_0x3cfa5a),{'imported':_0x3cfa5a,'status':UtilApplications['TASK_EXIT_COMPLETE']};}async['pImportEntry'](_0x54a810,_0x1146ae){const _0x486b9a=_0x34bd43;_0x1146ae=_0x1146ae||{};const _0x2ca077=await this[_0x486b9a('0x17')](_0x54a810,_0x1146ae);if(_0x2ca077!=null)return _0x2ca077;console[_0x486b9a('0x21')](...LGT,_0x486b9a('0x27')+(_0x54a810['name']||_0x54a810['caption'])+_0x486b9a('0x19')+Parser['sourceJsonToAbv'](_0x54a810[_0x486b9a('0x1e')])+'\x22)');if(this['_actor'])throw new Error('Cannot\x20import\x20table\x20to\x20actor!');return this[_0x486b9a('0x1a')](_0x54a810,_0x1146ae);}[_0x34bd43('0x24')](_0x246620,_0x45f620){const _0xb1efcb=_0x34bd43;return DataConverterTable[_0xb1efcb('0x5')](_0x246620,_0x45f620);}}export{ImportListRollableTable};